(function (){ var c="",aa="\x00",ba="\n",ca="\n\n",da="\nFailed to parse response: ",fa="\r\n",ga=" ",ha=" (group)",ia=" (index in dependency array: ",ja=" - ",ka=" <",la=' CSS_LIGHTBOX_SCALED_IMAGE_CAPTION_TEXT goog-inline-block"></span></span></div>',ma=" You can ",na=" at ",oa=" completed",pa=" contacts)",qa=' dir="',ra=" ease-out",sa=" goog-contacts-ui-autocomplete-new-section",ta=" in ",ua=" mm",va=' name="',wa=" pixels",xa=" sec (1/",ya=' type="',za=" was not registered",Aa=" with error",Ba=" x ",Ca='"',
Da='" (New contact)',Ea='" />',Fa='" /><img class="CSS_LIGHTBOX_VIDEO_ROTATE_IMG CSS_LIGHTBOX_VIDEO_ROTATE_IMG_180" src="',Ga='" /><img class="CSS_LIGHTBOX_VIDEO_ROTATE_IMG CSS_LIGHTBOX_VIDEO_ROTATE_IMG_270" src="',Ha='" <',Ia='" class="CSS_APP_ULINK" tabindex="0" role="link" idlink>',Ja='" class="CSS_APP_ULINK" tabindex="0" role="link" idlink>Undo</span>',La='" class="CSS_LIGHTBOX_FILMSTRIP_THUMBNAIL_NUMBER_BUBBLE_CONTENT">',Ma='" class="CSS_LIGHTBOX_NOTIFY_WIDGET_CONTENT_LINK" tabindex="0" role="link" idlink>Undo</span>',
Na='" class="CSS_LIGHTBOX_NOTIFY_WIDGET_CONTENT_LINK" tabindex="0" role="link" idlink>sign up</span> for free!',Oa='" class="CSS_LIGHTBOX_NOTIFY_WIDGET_CONTENT_LINK" tabindex="0" role="link" idlink>your Google profile</span>.',Pa='" class="CSS_LIGHTBOX_NOTIFY_WIDGET_CONTENT_LINK" target="_blank">',Qa='" class="CSS_LIGHTBOX_SOFT_DELETE_LINK" target="_blank">User Content and Conduct policies</a>.</div>',Ra='" is not registered',Sa='" target="_blank">',Ta='" target="_blank">Show original</a></div>',
Ua='" target=_blank class="',Va='" target=_blank class=namebox-text-label-link>',Wa='".  Please try again.',Xa='">',Ya="#",Za="#default#userData",$a="#zSoyz",ab="$",bb="$version",cb="%",db="%$1",eb="%2525",fb="%27",gb="%2C",hb="%s",ib="&",jb="&#0;",kb="&#39;",lb="&#91;",mb="&&",nb="&&&END&&&",ob="&&&START&&&",pb="&amp;",qb="&autoplay=1&ps=picasaweb&playerapiid=uniquePlayerId&t=1&auth_timeout=86400000000",sb="&avoidgeturl=true",tb="&cc_load_policy=2",ub="&fmt_stream_map=",vb="&gt;",wb="&lt;",xb="&nbsp;",
yb='&nbsp;</p><span class="CSS_LIGHTBOX_PHOTO_INFO_LOCATION_ICON_HIDDEN CSS_LIGHTBOX_PHOTO_INFO_LOCATION_ICON_BG"></span><p class="CSS_LIGHTBOX_PHOTO_INFO_LOCATION"></p>',zb="&quot;",Ab="&ttspolicyfile=",Bb="&ttsurl=",Cb="&video_id=picasacid",Db="'",Eb="' of type ",Fb="''",Gb="(",Hb='()<>@:\\".[],;',Ib="(-webkit-min-device-pixel-ratio: ",Jb="(1 contact)",Kb="(\\d*)(\\D*)",Lb="(^",Mb="(^|[- ,_/.:])",Nb="(^|\\W+)",Ob="(min-resolution: 1.5dppx), (-webkit-min-device-pixel-ratio: 1.5)",Pb=")",Qb=") for service ",
Rb=") scaleY(",Sb=")([a-z])",Tb="),(min--moz-device-pixel-ratio: ",Ub="),(min-resolution: ",Vb="*",Wb="+",Xb=",",h=", ",Yb=", M21=",$b=', M22=0, sizingMethod="auto expand")',ac=",;",bc="-",cc="-10000px",dc="-100px",ec="-Infinity",fc="-active",gc="-bottom",hc="-c",ic="-caption",jc="-checkbox",kc="-checked",lc="-content",mc="-disabled",nc="-dropdown",oc="-end",pc="-filter",qc="-focus-opensocial.googleusercontent.com",rc="-focused",sc="-highlight",tc="-horizontal",vc="-hover",wc="-inner-box",xc="-moz-pre-wrap",
yc="-moz-transform",zc="-o",Ac="-o-transform",Bc="-open",Cc="-outer-box",Dc="-p",Ec="-pos",Fc="-rtl",Gc="-selected",Hc="-start",Ic="-top",Jc="-top-shadow",Kc="-vertical",Lc="-webkit-backface-visibility",Mc="-webkit-perspective",Nc="-webkit-transform",Oc="-webkit-transform ",Pc="-webkit-transform-style",Qc="-webkit-transition",Rc=".",Sc="..",Tc="...",Uc="./",Vc=".googleusercontent.com",Wc="/",Xc="/+/policy/content.html",Yc="/.",Zc="//",$c="//ssl.gstatic.com/s2/profiles/images/silhouette200.png",ad=
"//www.google.com/jsapi",bd="//www.youtube.com/get_player?enablejsapi=1",cd="/3 EV",dd="/c/",ed="/gadgets/proxy",fd="/in/set-",gd="/mail/c/",hd="/ozInternal/",id="0",jd="0px",kd="0x",ld="1",md="1.9",nd="1.9.1",od="10",pd="10.50",qd="12",rd="128",sd="2.0.0.11",td="2932e00",ud="2d",vd="3",wd="4",xd="50",yd="522",zd="525",Ad="531",Bd="533.17.9",Cd="6.0.21",Dd="7",Ed="7/0/0",Fd="8",Gd="9",Hd="9/0/115",Id=":",Jd=": ",Kd="::",Ld=";",Md="<",Nd="</",Od="</a>",Pd="</a> from tagging you in the future.",Qd=
"</a> has been blocked.",Rd="</a> has been unblocked.",Sd="</b>",Td="</b> of <b>",Ud="</div>",Vd="</div></div></div>",Wd='</div><div class="CSS_LIGHTBOX_FILMSTRIP_THUMBNAIL_NUMBER_BUBBLE_ANCHOR"></div></div>',Xd='</div><div class="CSS_LIGHTBOX_PHOTO_DETAILS_PHOTO_INFO">',Yd='</div><div class="CSS_LIGHTBOX_PHOTO_DETAILS_TABS"><div class="goog-tab-bar goog-tab-bar-top"><div class="goog-tab goog-tab-selected">Location</div><div class="goog-tab">Camera</div></div><div class="goog-tab-bar-clear"></div><div class="CSS_LIGHTBOX_PHOTO_DETAILS_TABS_MAPS_CONTENT"></div><div class="CSS_LIGHTBOX_PHOTO_DETAILS_TABS_CAMERA_CONTENT"><div class="CSS_LIGHTBOX_PHOTO_DETAILS_HISTOGRAM_CONTAINER"></div><div class=CSS_LIGHTBOX_PHOTO_DETAILS_CAMERA_INFO>',
Zd="</ol>",$d='</p><p class="CSS_LIGHTBOX_PHOTO_INFO_AUTHOR">',ae='</p><p class="CSS_LIGHTBOX_PHOTO_INFO_DATE">',be="</span>",ce="</span></div>",de="</tbody></table>",ee="</td></tr>",fe='</td><td class="CSS_LIGHTBOX_PHOTO_DETAILS_CAMERA_INFO_TABLE_TD_VALUE">',ge="</ul>",he='<META HTTP-EQUIV="refresh" content="0; url=',ie='<a class="CSS_LIGHTBOX_ATTRIBUTION_LINK" href="',je='<a href="',ke="<br>",le='<div class="CSS_LIGHTBOX_ATTRIBUTION_INFO"><a class="CSS_LIGHTBOX_ATTRIBUTION_LINK" href="',me='<div class="CSS_LIGHTBOX_ATTRIBUTION_INFO">Image from ',
ne='<div class="CSS_LIGHTBOX_FILMSTRIP_CONTROLS"><div class="CSS_LIGHTBOX_FILMSTRIP_CONTROLS_LEFT"></div><div class="CSS_LIGHTBOX_FILMSTRIP_CONTROLS_FRAME"></div><div class="CSS_LIGHTBOX_FILMSTRIP_CONTROLS_RIGHT"></div></div>',oe='<div class="CSS_LIGHTBOX_FILMSTRIP_THUMBNAIL_NUMBER_BUBBLE"><div id="',pe='<div class="CSS_LIGHTBOX_INDEX_INFO"><b>',qe='<div class="CSS_LIGHTBOX_PHOTO_DETAILS_BG"></div><div class="CSS_LIGHTBOX_PHOTO_DETAILS_TITLE">&laquo; Back to photo</div><div class="CSS_LIGHTBOX_PHOTO_DETAILS_PHOTO">',
re='<div class="CSS_LIGHTBOX_SOFT_DELETE_DIALOG"><div class="CSS_LIGHTBOX_SOFT_DELETE_DIALOG_CENTER"><div class="CSS_LIGHTBOX_SOFT_DELETE_DIALOG_ALERT CSS_LIGHTBOX_SOFT_DELETE_ALERT_ICON"></div><div class="CSS_LIGHTBOX_SOFT_DELETE_DIALOG_MESSAGE_CONTAINER"></div></div><div class="CSS_LIGHTBOX_SOFT_DELETE_DIALOG_CLOSE"></div></div>',se='<div class="CSS_LIGHTBOX_SOFT_DELETE_HEADER CSS_LIGHTBOX_SOFT_DELETE_DIALOG_MESSAGE">This image can no longer be shared.</div><div class="CSS_LIGHTBOX_SOFT_DELETE_DIALOG_MESSAGE">Unfortunately, this photo is not inline with our ',
te='<div class="CSS_LIGHTBOX_SOFT_DELETE_HEADER CSS_LIGHTBOX_SOFT_DELETE_DIALOG_MESSAGE">This image is flagged&#151;</div><div class="CSS_LIGHTBOX_SOFT_DELETE_DIALOG_MESSAGE">something about the content or subject matter may not be allowed on Google+</div>',ue='<div class="CSS_LIGHTBOX_VIDEO_ROTATE_IMG_CONTAINER"></div>',ve='<div class="goog-contacts-ui-autocomplete-name-nochat',we='<div class="goog-inline-block CSS_LIGHTBOX_TOOLBAR_CLOSE_BUTTON_ICON">X</div>Close',xe='<div class="goog-inline-block"><div class="CSS_LIGHTBOX_TOOLBAR_EDIT_PHOTO_ICON"></div></div>Edit Photo<div class="goog-inline-block"><div class="CSS_LIGHTBOX_TOOLBAR_MENU_BUTTON_ICON"></div></div>',
ye='<div class="goog-inline-block"><div class="CSS_LIGHTBOX_TOOLBAR_MENU_BUTTON_ICON"></div></div>',ze='<div class="goog-inline-block"><div class="CSS_ROUNDED_BOX_TOP"></div><div class="CSS_ROUNDED_BOX_CONTENT"></div><div class="CSS_ROUNDED_BOX_BOTTOM"></div></div>',Ae='<div class="goog-menuitem goog-menuitem-disabled">',Be='<div class="goog-menuitem" action="',Ce='<div class="lightbox-captionwidget-id-wrapper CSS_LAYOUT_COMPONENT CSS_LIGHTBOX_SCALED_IMAGE_CAPTION goog-inline-block"><span class="',
De='<div class="namebox-subjectinfo-row-div"><span class="namebox-subjectinfo-row-span">',Ee="<div>",Fe="<div></div>",Ge="<hr>",He='<img class="CSS_LIGHTBOX_PHOTO_DETAILS_PHOTO_IMG" src="',Ie='<img class="CSS_LIGHTBOX_PHOTO_DETAILS_PHOTO_IMG">',Je='<img class="CSS_LIGHTBOX_VIDEO_ROTATE_IMG CSS_LIGHTBOX_VIDEO_ROTATE_IMG_90" src="',Ke="<li>",Le='<p class="CSS_LIGHTBOX_PHOTO_INFO_TITLE">',Me='<span class="',Ne='<span class="CSS_LIGHTBOX_IE8_SPAN_WBR"> </span>',Oe='<span id="link_',Pe='<table class="CSS_LIGHTBOX_PHOTO_DETAILS_CAMERA_INFO_TABLE"><tbody>',
Qe='<td class="CSS_LIGHTBOX_PHOTO_DETAILS_CAMERA_INFO_TABLE_TD_DESCRIPTION">',Re='<tr class="CSS_LIGHTBOX_PHOTO_DETAILS_CAMERA_INFO_TABLE_TR CSS_LIGHTBOX_PHOTO_DETAILS_CAMERA_INFO_TABLE_TR_ODDROW">',Se='<tr class="CSS_LIGHTBOX_PHOTO_DETAILS_CAMERA_INFO_TABLE_TR">',Te="=",Ue=">",Ve="> does not look like it was passed through xid. Did you forget to use xid?",We="?",Xe="?authkey=",Ye="@",Ze="A",$e="AAAAAA*CEEEEIIIIDNOOOOOx0UUUUYpBaaaaaa*ceeeeiiiionooooo^ouuuuypyAaAaAaCcCcCcCcDdDdEeEeEeEeEeGgGgGgGgHhHhIiIiIiIiIi**JjKkkLlLlLLLlttNnNnNnnNnOoOoOo**RrRrRrSsSsSsSsTtTtttUuUuUuUuUuUuWwYyYZzZzZ",
af="AIzaSyBuUpn1wi2-0JpM3S-tq2csYx0z2_m_pqc",bf="ARIA attribute cannot be empty.",cf="About: ",df="AbstractDataRequest ",ef="Actions",ff="Add a caption",gf="AdditionalName: ",hf="Address: ",jf="AddressBook: ",kf="AdminStatus: ",lf="Affinity: ",mf="An execution sequence may not be initiated with a blocking Deferred.",nf="An object listener must have handleEvent method.",of="Aperture:",pf="ApplicationId: ",qf="Approve this tag",rf="Are you sure you want to permanently delete this photo?",sf="Are you sure you want to permanently delete this video?",
tf="Are you sure you want to remove this name tag?",uf="Assertion failed",vf="Attempt to create a Namespace with invalid characters: ",wf="Attempt to create a second Namespace with name: ",xf="Attribute: [",yf="AttributeKey: ",zf="AuthToken: ",Af="B",Bf="BODY",Cf="BU",Df="BUTTON",Ef="Ba",Ff="Bad value `%s` for |filterNormalizeUri",Gf="Birthday: ",Hf="BirthdayRepeated: ",If="BlockCount: ",Jf="Blocked: ",Kf="Blocking Deferreds can not be re-used",Lf="C",Mf="CPHOTO",Nf="CSS1Compat",Of="CSS_APP_MENU CSS_APP_NOTIFYWIDGET_MENU",
Pf="CSS_APP_NOTIFYWIDGET",Qf="CSS_APP_NOTIFYWIDGET_MSG_A",Rf="CSS_APP_NOTIFYWIDGET_MSG_LINK_SPAN",Sf="CSS_APP_NOTIFYWIDGET_MSG_TABLE",Tf="CSS_APP_NOTIFYWIDGET_PROMO",Uf="CSS_APP_NOTIFYWIDGET_WARN",Vf="CSS_CLEAR_BOTH_NO_HEIGHT",Wf="CSS_HCONT_CHILD",Xf="CSS_HCONT_CHILDREN_HOLDER",Yf="CSS_LAYOUT_COMPONENT",Zf="CSS_LIGHTBOX",$f="CSS_LIGHTBOX_ATTRIBUTION_INDEX_CONTAINER",ag="CSS_LIGHTBOX_BG_MASK",bg="CSS_LIGHTBOX_BG_MASK_TRANSPARENT",cg="CSS_LIGHTBOX_BTN_ARROW",dg="CSS_LIGHTBOX_BTN_ARROW_HOVER",eg="CSS_LIGHTBOX_BTN_ARROW_LEFT",
fg="CSS_LIGHTBOX_BTN_ARROW_RIGHT",gg="CSS_LIGHTBOX_BTN_CLOSE",hg="CSS_LIGHTBOX_BTN_CLOSE_POS",ig="CSS_LIGHTBOX_FILMSTRIP",jg="CSS_LIGHTBOX_FILMSTRIP_CONTROLS_LEFT",kg="CSS_LIGHTBOX_FILMSTRIP_CONTROLS_RIGHT",lg="CSS_LIGHTBOX_FILMSTRIP_DISABLED",mg="CSS_LIGHTBOX_FILMSTRIP_THUMBNAIL",ng="CSS_LIGHTBOX_FILMSTRIP_THUMBNAILS_CONTAINER",og="CSS_LIGHTBOX_FILMSTRIP_THUMBNAIL_IMG",pg="CSS_LIGHTBOX_FILMSTRIP_THUMBNAIL_MARGIN",qg="CSS_LIGHTBOX_FIXED_FRAME",rg="CSS_LIGHTBOX_IMAGE_CONTAINER",sg="CSS_LIGHTBOX_KENNEDY_BUTTON_TOOLBAR",
tg="CSS_LIGHTBOX_KENNEDY_SHARE_BUTTON",ug="CSS_LIGHTBOX_NOTIFY_WIDGET",vg="CSS_LIGHTBOX_PHOTO_BROWSE_CONTAINER",wg="CSS_LIGHTBOX_PHOTO_BROWSE_VIEW",xg="CSS_LIGHTBOX_PHOTO_DETAILS",yg="CSS_LIGHTBOX_PHOTO_DETAILS_CAMERA_INFO",zg="CSS_LIGHTBOX_PHOTO_DETAILS_HISTOGRAM",Ag="CSS_LIGHTBOX_PHOTO_DETAILS_HISTOGRAM_CONTAINER",Cg="CSS_LIGHTBOX_PHOTO_DETAILS_PHOTO",Dg="CSS_LIGHTBOX_PHOTO_DETAILS_PHOTO_INFO",Eg="CSS_LIGHTBOX_PHOTO_DETAILS_TABS_CAMERA_CONTENT",Fg="CSS_LIGHTBOX_PHOTO_DETAILS_TABS_MAPS_CONTENT",
Gg="CSS_LIGHTBOX_PHOTO_DETAILS_TITLE",Hg="CSS_LIGHTBOX_PHOTO_INFO_AUTHOR_LINK",Ig="CSS_LIGHTBOX_PHOTO_INFO_LOCATION",Jg="CSS_LIGHTBOX_PHOTO_INFO_LOCATION_BTN_VISIBILITY",Kg="CSS_LIGHTBOX_PHOTO_INFO_LOCATION_ICON_BG",Lg="CSS_LIGHTBOX_PHOTO_INFO_LOCATION_ICON_HIDDEN",Mg="CSS_LIGHTBOX_PLUS_ONE",Ng="CSS_LIGHTBOX_SCALED_IMAGE",Og="CSS_LIGHTBOX_SCALED_IMAGE_CAPTION_EDITOR",Pg="CSS_LIGHTBOX_SCALED_IMAGE_CAPTION_HINT_TEXT",Qg="CSS_LIGHTBOX_SCALED_IMAGE_CAPTION_HOVER",Rg="CSS_LIGHTBOX_SCALED_IMAGE_ERROR",
Sg="CSS_LIGHTBOX_SCALED_IMAGE_FOOTER",Tg="CSS_LIGHTBOX_SCALED_IMAGE_IMG",Ug="CSS_LIGHTBOX_SCALED_IMAGE_PREVIOUS_IMAGE_CONTAINER",Vg="CSS_LIGHTBOX_SOFT_DELETE_DIALOG",Wg="CSS_LIGHTBOX_SOFT_DELETE_DIALOG_CLOSE",Xg="CSS_LIGHTBOX_SOFT_DELETE_DIALOG_MESSAGE_CONTAINER",Yg="CSS_LIGHTBOX_TOOLBAR",Zg="CSS_LIGHTBOX_TOOLBAR_BUTTON_MENU",$g="CSS_LIGHTBOX_TOOLBAR_LEFT",ah="CSS_LIGHTBOX_TOOLBAR_MENU_ANCHOR",bh="CSS_LIGHTBOX_TOOLBAR_MENU_CALLOUT_INNER",ch="CSS_LIGHTBOX_TOOLBAR_MENU_CALLOUT_OUTER",dh="CSS_LIGHTBOX_TOOLBAR_MENU_ITEM",
eh="CSS_LIGHTBOX_TOOLBAR_MENU_ITEM_ICON",fh="CSS_LIGHTBOX_TOOLBAR_MENU_ITEM_ICON_EDIT_LEFT",gh="CSS_LIGHTBOX_TOOLBAR_MENU_ITEM_ICON_EDIT_RIGHT",hh="CSS_LIGHTBOX_TOOLBAR_MENU_ITEM_STATE",ih="CSS_LIGHTBOX_TOOLBAR_MENU_ITEM_SUFFIX",jh="CSS_LIGHTBOX_TOOLBAR_RIGHT",kh="CSS_LIGHTBOX_VIDEO_ROTATE",lh="CSS_LIGHTBOX_VIDEO_ROTATE_IMG",mh="CSS_LIGHTBOX_VIDEO_ROTATE_IMG_180",nh="CSS_LIGHTBOX_VIDEO_ROTATE_IMG_270",oh="CSS_LIGHTBOX_VIDEO_ROTATE_IMG_90",ph="CSS_LIGHTBOX_VIDEO_ROTATE_IMG_CONTAINER",qh="CSS_LIGHTBOX_VIDEO_ROTATE_IMG_SELECTED",
rh="CSS_ROUNDED_BOX_CONT",sh="CSS_VCONT_CHILDREN_HOLDER",th="CSS_VCONT_PREVENT_MARGIN_COLLAPSE_DIV",uh="CSS_VIEW_MENU_BORDER",vh="CSS_VIEW_MENU_DROPSHADOW",wh="CSS_VIEW_MENU_DROPSHADOW_CONTENT",xh="Ca",yh="Calendar: ",zh="CalledCount: ",Ah="Camera:",Bh="Can not call getElementStrict before rendering/decorating.",Ch="Can not use goog.events.dispatchEvent with non-goog.events.Listenable instance.",Dh="Cancel",Eh="Cannot throw an error that is not scheduled.",Fh="CanonicalEntityGraphId: ",Gh="CanonicalizedForm: ",
Hh="Canvas not set on CanvasService yet.",Ih="Cause: [",Jh="ChangeReason: ",Kh="Chrome",Lh="Chronology: ",Mh="CircleId: ",Nh="CircleMode: ",Oh="Click to cancel",Ph="Click to close",Qh="Click to finish",Rh="Click to name",Sh="Component already rendered",Th="Components should not be created yet.",Uh="ComputedFields: ",Vh="Const{",Wh="Contact: ",Xh="ContactId: ",Yh="ContactMeSettings: ",Zh="ContactMetaData: ",$h="ContactType: ",ai="ContactsPreviewEnabledForDomain: ",bi="Content-Type",ci="ContentType: ",
di="ControlRenderer has an invalid css class: '",ei="CostCenter: ",fi="Country: ",gi="CountryCode: ",hi="Crawlable: ",ii="CriOS",ji="Current: ",ki="CustomGender: ",li="CustomProtocol: ",mi="CustomSiteUrl: ",ni="CustomSource: ",oi="CustomSourceName: ",pi="CustomTag: ",qi="CustomType: ",ri="CustomValue: ",k="DIV",si="DOMMouseScroll",ti="DasherUser: ",ui="DateInfo: ",vi="Day: ",wi="DefaultAcl: ",xi="Delete photo",yi="Delete video",zi="Deleted: ",Ai="Department: ",Bi="Description: ",Ci="Dimensions:",
Di="DisplayName: ",Ei="DisplayNameAlt: ",Fi="DisplayNameAltSortKey: ",Gi="DisplayNameSortKey: ",Hi="Domain Contacts",Ii="Domain: ",Ji="DomainContactsCorpusName: ",Ki="DomainContactsEnabled: ",Li="Download photo",Mi="E",Ni="Ea",Oi="Edge",Pi="Edge: ",Qi="EdgeFields: [",Ri="EdgeIndex: ",Si='Edit<div class="goog-inline-block"><div class="CSS_LIGHTBOX_TOOLBAR_MENU_BUTTON_ICON"></div></div>',Ti="EditableProfile: ",Ui="Email address (optional):",Vi="Email: ",Wi="EmeraldSeaUrl: ",Xi="EmeraldSeaUser: ",Yi=
"Enabled: ",Zi="End: ",$i="EndToStart",aj="EntityInfo: ",bj="EntityType: ",cj="Error: ",dj="ErrorMsgFromLastAccess: ",ej="Etc/GMT",fj="Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?",gj="Event: ",hj="Evergreen: ",ij="EvergreenAvailable: ",jj="EvergreenProfile: ",kj="Exception unloading: ",lj="Expected Element but got %s: %s.",mj="Expected element with class: %s",nj="Expected function but got %s: %s.",oj="Expected instanceof %s but got %s.",pj="Expected number but got %s: %s.",
qj="Expected object but got %s: %s.",rj="Expected string but got %s: %s.",sj="Experiment: ",tj="ExplicitlySet: ",uj="ExposedExperiment: [",vj="Exposure Bias:",wj="Exposure:",xj="ExtendedAddress: ",yj="ExternalAuthToken: [",zj="ExternalId: ",Aj="ExternalInteractionScore: ",Bj="F",Cj="FIFE doesn't support fractional image sizes",Dj="FPS",Ej="Fa",Fj="FamilyMetaData: ",Gj="FamilyName: ",Hj="FastFlag: ",Ij="Feed: ",Jj="Field: ",Kj="Field: [",Lj="File Size:",Mj="FileAs: ",Nj="Finish",Oj="Flag: ",Pj="Flash Used:",
Qj="FlashVars",Rj="Focal Length:",Sj="FullName: ",Tj="G",Uj="GET",Vj="GMT",Wj="GP",Xj="Ga",Yj="GaiaServiceId: [",Zj="Gender: ",ak="GivenName: ",bk="GmailLastSent: ",ck="GmailMessageCount: ",dk="GmailRecvCount: ",ek="GroupId: ",fk="GroupInfo: [",gk="GroupInfoPreference: [",hk="GwsStats: ",ik="H",jk="HG",kk="HR",lk="HTML",mk="Ha",nk="HalfFuzziness: ",ok="Hidden: ",pk="Hide location data for all photos in this album",qk="HonorificPrefix: ",rk="HonorificSuffix: ",sk="IFRAME",tk="IMG",uk="INPUT",vk="ISO Speed:",
wk="Ia",xk="Id: ",yk="IdType: ",zk="Ignored: ",Ak="Im: ",Bk="Implicit: ",Ck="ImplicitGroupInfo: [",Dk="ImportInfo: [",Ek="ImportTimeUSec: ",Fk="InboundCount: ",Gk="Infinity",Hk="InteractionsRank: ",Ik="Invalid dependency ",Jk="Invalid listener argument",Kk="Invalid service id + ",Lk="Is this ",Mk="IsInSharingDomain: ",Nk="J",Ok="Ja",Pk="K",Qk="Ka",Rk="Key: ",Sk="Keyword: ",Tk="L",Uk="LC setIPFDCM bad dim",Vk="La",Wk="Language: ",Xk="LanguageCode: ",Yk="LastOutboundIncrementTime: ",Zk="LastUpdateTime: ",
$k="LastUsedTimeUsec: ",al="LastVerificationUsec: ",bl="LbsLocation: ",cl="Left",dl="Link to this photo",el="LinkedExternalSite: ",fl="Listener can not be null.",gl="Local: ",hl="Locality: ",il="Location data hidden.",jl="Location: ",kl="M",ll="MSIE",ml="MSXML2.XMLHTTP",nl="MSXML2.XMLHTTP.3.0",ol="MSXML2.XMLHTTP.6.0",pl="Ma",ql="MailUrl: ",rl="MailUser: ",sl="ManualEvalResult: ",tl="ManualEvalTimeUsec: ",ul="MarkForDelete: ",vl="MemberCount: ",l="MetaData: ",wl="Method: ",xl="Microsoft.XMLHTTP",yl=
"Missed multi-char replacement",zl="Missing gapi instance!",Al="Missing gapi.client",Bl="Missing gapi.client.request",Cl="Month: ",Dl="MouseEvent",El="MouseEvents",Fl="Moz",Gl="MozOpacity",Hl="N",Il="Na",Jl="NaN",Kl="Name tag added.  ",Ll="Name tag approved.",Ml="Name tag rejected.",Nl="Name tag removed.",Ol="Name:",Pl="Name: ",Ql="NameRepeated: ",Rl="NamespacedType does not accept undefined or null namespace",Sl='NamespacedType does not allow ":" in type string: ',Tl="NamespacedType does not allow empty type string",
Ul="NamespacedType does not allow negative type number",Vl="NickName: ",Wl="No deferred object registered for the provided stage: ",Xl="No storage for version info",Yl="No such ARIA attribute ",Zl="No such ARIA role ",$l="Node cannot be null or undefined.",am="NormalizedInteractionsRank: ",bm="Not implemented",cm="Number of Views:",dm="O",em="OK",fm="Oa",gm="ObfuscatedGaiaId: ",hm="Oops... an error has occurred.",im="Options",jm="Organization: ",km="OrganizationAdmin: ",lm="OrganizationType: ",mm=
"Other: ",nm="OutboundCount: ",om="Oz response should not include AuthToken",pm="P",qm="PAGV",rm="PANT",sm="PCNT",tm="PDNT",um="PDP",vm="PDS",wm="PEC",xm="PES",ym="PHOTO",zm="PO",Am="POST",Bm="PPQ",Cm="PPS",Dm="PRI",Em="Pa",Fm="Parameter is required",Gm="Passing null to setSize is an error.",Hm="Pattern must be defined",Im="Personal Contacts",Jm="PersonalCircleMembership: [",Km="PersonalInteractionsRank: ",Lm="Phone: ",Mm="PhoneType: ",Nm="Photo details",Om="Photo: ",Pm="Please provide a contact name.",
Qm="PoBox: ",Rm="PointSpec: [",Sm="PortraitPhoto: ",Tm="PortraitVersion: ",Um="PostalCode: ",Vm="PredefinedSource: ",Wm="PrefType: ",Xm="Preferred: ",Ym="Presence: ",Zm="PresenceType: ",$m="Press Enter to apply or Esc to cancel.",an="Presto",bn="Primary: ",cn="Profile: ",dn="ProfileDisplayName: ",en="ProfileEmail: ",fn="ProfilePage: ",gn="ProfileType: ",hn="ProfileUrl: ",jn="Promise cannot resolve to itself",kn="Provided element must not be null.",ln="Q",mn="Qa",nn="Ra",on="Rank: ",pn="ReadOnlyOneBoxScore: ",
qn="ReadOnlyOutgoingEdge: [",rn="ReadOnlySyntheticContact: ",sn="Region: ",tn="Registering duplicate namespaced type ",un="Rel: ",vn="RelInfo: [",wn="Relation: ",xn="RelationshipInterest: ",yn="RelationshipStatus: ",zn="Remove",An="Removing request before apiary loaded",Bn="Right",Cn="Rotate left",Dn="Rotate right",En="Rotate video",Fn="S",Gn="SCRIPT",Hn="SELECT",In="SPAN",Jn="Sa",Kn="SafeHtml{",Ln="SafeUrl{",Mn="Saving...",Nn="Score: ",On="Searching for matches from ",Pn="Searching for more matches.",
Qn="SelectedForChat: ",Rn="Sending...",Sn="Sent this request: ",Tn="Service ",Un='Service for "',Vn='Service for "%s" is already registered',Wn="SgnNode: ",Xn="Share",Yn="Share this photo",Zn="SharedContact: ",$n="Shockwave Flash",ao="Shockwave Flash 2.0",bo="ShockwaveFlash.ShockwaveFlash",co="ShockwaveFlash.ShockwaveFlash.6",eo="ShockwaveFlash.ShockwaveFlash.7",fo="Show location data for all photos in this album",go="ShowDomainContacts: ",ho="SipAddress: ",io="Source: ",jo="Source: [",ko="SourceDescriptor: ",
lo="SourceIsStructured: ",mo="Soy SanitizedContent of kind HTML produces SafeHtml-contract-compliant value.",no="Soy template may not be null.",oo="Soy template output is unsafe for use as HTML: ",po='Stage "%s" already reached. A stage can only be set once per lifetime.',qo="StandardGender: ",ro="StandardProtocol: ",so="StandardTag: ",to="StandardType: ",uo="Start: ",vo="StartToEnd",wo="Startpoint: ",xo="State: ",yo="Status: ",zo="Storage mechanism: Invalid value was encountered",Ao="Storage mechanism: Quota exceeded",
Bo="Storage: Invalid value was encountered",Co="StreetAddress: ",Do="Style",Eo="Suckiness: ",Fo="SuggestedGroupInfo: [",Go="Symbol: ",Ho="SyntheticContactId: ",Io="SyntheticGroupId: ",Jo="T",Ko="TABLE",Lo="TEXTAREA",Mo="Ta",No="TagLine: ",Oo="Tainted SanitizedContentKind.TEXT for |noAutoescape: `%s`",Po="The DOM element for the container cannot be null.",Qo="The DOM element for the separator cannot be null.",Ro="The active element should have an id.",So="The button DOM element cannot be null.",To=
"The child of a container must be a control",Uo="The contact name cannot be an email address.",Vo="The container DOM element cannot be null.",Wo="The element passed as a first parameter cannot be null.",Xo="The following windows will be closed:\n",Yo="The label input element cannot be null.",Zo="The menu DOM element cannot be null.",$o="The menu button DOM element cannot be null.",ap="The quality %s is invalid because it is not an integer",bp="The quality %s is invalid because it is not in the range [1, 100]",
cp="The size %s is invalid because it is not an integer",dp="The string <",ep="The tag has been removed.",fp="This action requires an upgraded account. You can ",gp="This action requires your name to be publicly visible. You can change the visibility of your name on ",hp="This tag will not be linked to your profile unless you approve it.",ip="This template starts with a %s, which cannot be a child of a <div>, as required by soy internals. Consider using goog.soy.renderElement instead.\nTemplate output: %s",
jp="Title: ",kp="TokenCapability: [",lp="TokenName: ",mp="TotalUsedCount: ",np="Trident",op="Tried to use dom services without an owner document; possibly missing 'multiple: true' in a fava.extension.register?",pp="TrustedResourceUrl{",qp="Type a name here",rp="Type: ",sp="U",tp="UL",up="UTC",vp="Ua",wp="Unable to set parent component",xp='Unable to tag "',yp="Update message is required if opt_waitBeforeUpdate is specified.",zp="Url: ",Ap="UserDefined: ",Bp="UserHasProfile: ",Cp="UserKey: ",Dp="Ut",
Ep="V",Fp="Va",Gp="Value: ",Hp="VanityQueryCount: ",Ip="VanityQueryCountNoProfile: ",Jp="VanityQueryLastExperimentId: ",Kp="VanityQueryLastTimeUsec: ",Lp="Verification: ",Mp="Verification: [",Np="Video details",Op="W",Pp="Wa",Qp="WantsToChat: ",Rp="Webkit",Sp="Website: ",Tp="Width",Up="X",Vp="Y",Wp="Year: ",Xp="Yes",Yp="YomiAdditionalName: ",Zp="YomiFamilyName: ",$p="YomiGivenName: ",aq="YomiHonorificPrefix: ",bq="YomiHonorificSuffix: ",cq="YomiName: ",dq="YomiValue: ",eq="Z",fq="[",gq="[Anonymous]",
hq="[\\s",iq="[\\s]+",jq="[object Array]",kq="[object Function]",lq="[object Window]",mq="\\",nq="\\$1",oq="\\\\",pq="\\b(?:",qq="\\s",rq="\\s*$",sq="\\s*[",tq="\\u",uq="\\x",vq="\\x08",n="]",wq="]$",xq="]+",yq="^",zq="^\\s*",Aq="_",Bq="__sak",Cq="_blank",Dq="_self",Eq="a",Fq="a_",Gq="aa",Hq="abort",Iq="about:invalid#zClosurez",Jq="absolute",Kq="ac",Lq="ac-active",Mq="ac-highlighted",Nq="ac-renderer",Oq="ac-renderer ffe-ac",Pq="ac-row",Qq="acc",Rq="action",Sq="activate",Tq="active",Uq="activedescendant",
Vq="additions text",Wq="afterhide",Xq="aftershow",Yq="al",Zq="albumentry",$q="albumid",ar="alpha(opacity=",br="amp",cr="aname",dr="angle",er="animate",fr="application/x-shockwave-flash",gr="application/x-www-form-urlencoded;charset=utf-8",hr="approve",ir="aria-",jr="aro",kr="array",lr="arraybuffer",mr="atomic",nr="authkey",or="auto",pr="autocomplete",qr="b",rr="b, ",sr="b/12014412, meta tag with sanitized URL",tr="ba",ur="beforeshow",vr="beforeunload",wr="begin",xr="block",yr="block</span> ",zr="blue",
Ar="blur",Br="boolean",Cr="border",Dr="border-box",Er="borderBottom",Fr="borderBottomWidth",Gr="borderLeft",Hr="borderLeftWidth",Ir="borderRight",Jr="borderRightWidth",Kr="borderTop",Lr="borderTopWidth",Mr="both",Nr="bp",Or="break-word",Pr="bu",Qr="button",Rr="c",Sr="ca",Tr="cached",Ur="call",Vr="callImmediate",Wr="canceldismiss",Xr="canvas",Yr="caption",Zr="category: ",$r="cc",as="ccnt",bs="cf",cs="change",ds="character",es="check",fs="checked",gs="ci",hs="cids",is="cl",js="class",ks="clear",ls=
"click",ms="clid",ns="client",os="close",ps="clut",qs="color",rs="combobox",ss="complete",ts="conflicting definitions of findDelegate",us="contactemail",vs="contactfullname",ws="contactid",xs="contactstorequery",ys="container",zs="content-el",As="content-type",Bs="contextmenu",Cs="cos",Ds="cr",Es="create",Fs="ct",Gs="cut",Hs="d",Is="da",Js="data-",Ks="data/contactstore",Ls="data/contactstore/mutate",Ms="dblclick",Ns="dc",Os="deactivate",Ps="deg)",Qs="deg) scale(",Rs="destroy",Ss="devfull2",Ts="df",
Us="dip",Vs="dir",Ws="direction",Xs="disable",Ys="disabled",Zs="dismiss",$s="display",at="display:none",bt="div",ct="dl",dt="dld",et="dlp",ft="document",gt="domain",ht="downloadprogress",it="dp",jt="dppx)",kt="dr",lt="drop",mt="e",nt="ea",ot="ec",pt="editshapeaction",qt="embed",rt="emls",st="en",tt="enable",ut="encodeByteArray takes an array as a parameter",vt="end",wt="enter",xt="error",yt="error.code",zt="es",At="ev",Bt="expanded",Ct="expected object of type Const, got '",Dt="expected object of type SafeHtml, got '",
Et="expected object of type SafeUrl, got '",Ft="expected object of type TrustedResourceUrl, got '",Gt="f",Ht="f/",It="fa",Jt="false",Kt="fava.app.NotificationService",Lt="fava.layout.Layout",Mt="fava.layout.Layout.PollingSizeProvider",Nt="fava.layout.Layout.PollingSizeProvider#pollSize_",Ot="fbs_vi",Pt="fd",Qt="fepd",Rt="fg",St="fh",Tt="file",Ut="file:",Vt="filter",Wt="filterchange",Xt="finish",Yt="fixed",Zt="flickr",$t="fmt_list=",au="fo",bu="focus",cu="focusin",du="focusout",eu="fontsizechange",
fu="for",gu="fr",hu="fs=1&hl=",iu="ft",ju="full",ku="function",lu="fv",mu="g",nu="ga",ou="gadget",pu="gapi",qu="gapi.config.get",ru="gcnt",su="gi",tu="gid",uu="gids",vu="gm",wu="gmk",xu="goog-button",yu="goog-container",zu="goog-control",Au="goog-custom-button",Bu="goog-filterobsmenuitem",Cu="goog-imageless-button",Du="goog-inline-block",Eu="goog-inline-block ",Fu="goog-menu",Gu="goog-menu-button",Hu="goog-menuheader",Iu="goog-menuitem",Ju="goog-menuitem-accel",Ku="goog-menuitem-mnemonic-separator",
Lu="goog-menuseparator",Mu="goog-option",Nu="goog-option-selected",Ou="goog-tab",Pu="goog-tab-bar",Qu="goog.dom.setTextContent expects a non-null value for node",Ru="goog.i18n.DateTimeSymbols or explicit symbols must be defined",Su="goog.net.EventType.PROGRESS is of the same type as raw XHR progress.",Tu="google",Uu="gp",Vu="green",Wu="gt",Xu="h",Yu="h)",Zu="ha",$u="hal",av="haspopup",bv="height",cv="helpwrapper",dv="hidden",ev="hide",fv="highlight",gv="hilite",hv="hl",iv="horizontal",jv="hs",kv=
"http://",lv="http://flickr.com/photos/",mv="http://google.com/profiles/media/container",nv="http://google.com/profiles/media/provider",ov="http://photos.google.com/lightbox/photoid",pv="http://picasaweb.google.com/",qv="http://www.google.com/intl/",rv="https",sv="https:",tv="i",uv="iPad",vv="iPhone",wv="iPod",xv="ia",yv="ic",zv="id",Av="idr",Bv="iframe",Cv="image/*",Dv="images",Ev="inactive",Fv="infinite loop",Gv="inline",Hv="inline-block",Iv="innerText",Jv="input",Kv="inputwrapper",Lv="ip",Mv="issuggestion",
Nv="iv",Ov="ivr",Pv="j",Qv="ja",Rv="js",Sv="k",Tv="ka",Uv="key",Vv="keydown",Wv="keypress",Xv="keyup",Yv="l",Zv="l)",$v="la",aw="label",bw="leave",cw="left",dw="lf",ew="lh",fw="li",gw="lightbox-captionwidget-id-caption",hw="lighter",iw="link_",jw="list",kw="listbox",lw="live",mw="ll",nw="load",ow="lp_end",pw="lp_start",qw="lt",rw="ltr",sw="m",tw="ma",uw="maps",vw="margin",ww="margin-left",xw="margin-right",yw="margin-top",zw="max",Aw="max-width",Bw="maxWidth",Cw="maxresults",Dw="meml",Ew="menu",Fw=
"menu_",Gw="menuitem",Hw="menuitemcheckbox",Iw="menuitemradio",Jw="message",Kw="mf",Lw="mm",Mw="mo",Nw="mousedown",Ow="mouseout",Pw="mouseover",Qw="mouseup",Rw="mousewheel",Sw="mozResponseArrayBuffer",Tw="mp",Uw="ms",Vw="ms.",Ww="mu",Xw="must provide justification",Yw="must provide non-empty justification",Zw="mv",$w="n",ax="na",bx="name",cx="namebox-approval-button",dx="namebox-box",ex="namebox-box-approvable",fx="namebox-box-background",gx="namebox-box-editable",hx="namebox-box-editing",ix="namebox-box-hover",
jx="namebox-box-showbox",kx="namebox-box-showbox-hover",lx="namebox-button-approve-icon",mx="namebox-button-approve-message",nx="namebox-button-approve-outer",ox="namebox-button-confirm",px="namebox-button-confirm-hover",qx="namebox-button-disapprove-icon",rx="namebox-button-disapprove-message",sx="namebox-button-disapprove-outer",tx="namebox-button-reject",ux="namebox-button-reject-hover",vx="namebox-button-remove",wx="namebox-button-remove-activated",xx="namebox-center-ref",yx="namebox-imageless-button",
zx="namebox-legacy-box-showbox-hover",Ax="namebox-legacy-text-middle",Bx="namebox-nameinputbox",Cx="namebox-nameinputbox-dialog",Dx="namebox-nameinputbox-inline",Ex="namebox-subjectcreate",Fx="namebox-subjectcreate-input",Gx="namebox-subjectinfo-row",Hx="namebox-subjectinput",Ix="namebox-subjectinput-input",Jx="namebox-text-approvable",Kx="namebox-text-label",Lx="namebox-text-message",Mx="namebox-text-middle",Nx="namebox-text-outer",Ox="namebox-text-unconfirmed",Px="namebox-text-unnamed",Qx="namebox-wrapper-box",
Rx="namebox-wrapper-box-hover",Sx="nameboxAutocompleteRow",Tx="nameboxClickBox",Ux="nameboxClickName",Vx="nameboxRemoveButton",Wx="nameinputboxEmail",Xx="nameinputboxName",Yx="native code",Zx="navigate",$x="nc",ay="nd",by="ng",cy="nge",dy="no",ey="no_expand",fy="nocache",gy="nodeName",hy="nodeType",iy="none",jy="noreferrer",ky="np",ly="ns",my="nt",ny="nt0",oy="nu",py="null",qy="number",ry="nw",sy="o",ty="oa",uy="object",vy="off",wy="offset",xy="offsetParent",yy="oid",zy="om",Ay="on",By="on ",Cy="onPlayerStateChange",
Dy="onStateChange",Ey="onYouTubePlayerReady",Fy="onprogress",Gy="onreadystatechange",Hy="opacity",Iy="open",Jy="opt_onFulfilled should be a function.",Ky="opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?",Ly="option",My="out",Ny="outstandingRequests_ defined before apiary loaded",Oy="overflow",Py="overflowX",Qy="owns",Ry="p",Sy="pa",Ty="padding",Uy="paddingBottom",Vy="paddingLeft",Wy="paddingRight",Xy="paddingTop",Yy="param",Zy="parent",$y=
"paste",az="pbd",bz="pc",cz="pcaq",dz="pd",ez="personal",fz="pf",gz="pg",hz="photofeed",iz="photoid",jz="photoids",kz="pi",lz="picasa",mz="pids",nz="pixelLeft",oz="placeholder",pz="play",qz="plusi/",rz="po",sz="polite",tz="position",uz="position:absolute;width:9em;height:9em;top:-99em",vz="postid",wz="pp",xz="ppl/store/daily",yz="pqv",zz="pre",Az="pre-wrap",Bz="preloaded",Cz="preserve-3d",Dz="pressed",Ez="progid:DXImageTransform.Microsoft.Matrix(M11=0, M12=",Fz="progress",Gz="pt",Hz="pu",Iz="px",
Jz="q",Kz="qbai",Lz="quot",Mz="r",Nz="r, ",Oz="ready",Pz="readystatechange",Qz="red",Rz="reject",Sz="rel",Tz="relative",Uz="reset",Vz="resize",Wz="response",Xz="resume",Yz="returnalbum",Zz="returncommentcounts",$z="returncomments",aA="returnexif",bA="returnmeta",cA="returnshapes",dA="returnsuggestions",eA="returntts",fA="rewriteMime",gA="rf",hA="rg",iA="rgb",jA="rgb(0,0,0)",kA="rgb(0,0,255)",lA="rgb(0,255,0)",mA="rgb(255,0,0)",nA="rh",oA="right",pA="rj",qA="ro",rA="role",sA="rotate(",tA="rotateY(",
uA="rotateY(-90deg) skew(0deg,",vA="rotateY(90deg)skew(0deg,",wA="rowhilite",xA="rp",yA="rtl",zA="rv",AA="rw",BA="rwa",CA="rwu",DA="s",EA="s ease-in",FA="s ease-out ",GA="sa",HA="scaleX(",IA="sd",JA="select",KA="selected",LA="sensor=false&client=google-lightbox",MA="separator",NA="setid",OA="sf",PA="sgi",QA="sgids",RA="sgn_domain: ",SA="sgn_ident: ",TA="sgn_pk: ",UA="sgp",VA="sgv",WA="shapeid",XA="shg",YA="show",ZA="sids",$A="sizechange",aB="so",bB="span",cB="spio",dB="splice",eB="sr",fB="st",gB=
"start",hB="static",iB="stop",jB="string",kB="style",lB="submit",mB="success",nB="suggestionsupdate",oB="t",pB="t, ",qB="ta",rB="tab",sB="tabIndex",tB="tabindex",uB="tablist",vB="taken by ",wB="target",xB="text",yB="text/javascript",zB="textContent",AB="textarea",BB="thumb",CB="tick",DB="timeout",EB="timerId_ undefined in cancel",FB="timerId_ undefined in onResponse_",GB="title",HB="tok",IB="tooBig is empty",JB="tooSmall is empty",KB="top",LB="tp",MB="transform",NB="true",OB="trying to create delegate for non-delegating class: did you forget to use fava.delegate.Delegate.setBase?",
PB="tt",QB="tu",RB="type",SB="type_error:Const",TB="type_error:SafeHtml",UB="type_error:SafeUrl",VB="type_error:TrustedResourceUrl",WB="u",XB="u/",YB="ua",ZB="ub",$B="ud",aC="ui/HttpsProxy",bC="uling",cC="un",dC="uname",eC="uncheck",fC="undoacl",gC="unhighlight",hC="unknown",iC="unknown type name",jC="unload",kC="unselect",lC="unselectable",mC="up/info/?type=st",nC="update",oC="uploadprogress",pC="url",qC="user",rC="userdata",sC="ut",tC="v",uC="v2",vC="va",wC="var ",xC="vb",yC="vc",zC="vertical",
AC="video",BC="videocid",CC="view",DC="vio",EC="visibility",FC="visible",GC="vl",HC="vp",IC="w",JC="w x ",KC="wa",LC="webkit-transition",MC="webkitTransitionEnd",NC="width",OC="window.event",PC="withCredentials",p="x",QC="xa",RC="xgids",r="y",SC="ya",TC="z",UC="zIndex",VC="zSoyz",t="{",WC="{0}",XC="{1}",YC="{}",ZC="|",$C="|[",aD="||",v="}",bD="\u00a0",w,cD=cD||{},dD=this,x=function(a){return void 0!==a},eD=function(a,b,d){a=a.split(Rc);d=d||dD;a[0]in d||!d.execScript||d.execScript(wC+a[0]);for(var e;a.length&&
(e=a.shift());)!a.length&&x(b)?d[e]=b:d=d[e]?d[e]:d[e]={}},fD=function(a,b){for(var d=a.split(Rc),e=b||dD,f;f=d.shift();)if(null!=e[f])e=e[f];else return null;return e},gD=function(){},hD=function(a){a.getInstance=function(){return a.instance_?a.instance_:a.instance_=new a}},iD=function(a){var b=typeof a;if(b==uy)if(a){if(a instanceof Array)return kr;if(a instanceof Object)return b;var d=Object.prototype.toString.call(a);if(d==lq)return uy;if(d==jq||typeof a.length==qy&&"undefined"!=typeof a.splice&&
"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(dB))return kr;if(d==kq||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(Ur))return ku}else return py;else if(b==ku&&"undefined"==typeof a.call)return uy;return b},jD=function(a){return iD(a)==kr},kD=function(a){var b=iD(a);return b==kr||b==uy&&typeof a.length==qy},y=function(a){return typeof a==jB},lD=function(a){return typeof a==qy},mD=function(a){return iD(a)==ku},nD=function(a){var b=
typeof a;return b==uy&&null!=a||b==ku},qD=function(a){return a[oD]||(a[oD]=++pD)},oD="closure_uid_"+(1E9*Math.random()>>>0),pD=0,rD=function(a,b,d){return a.call.apply(a.bind,arguments)},sD=function(a,b,d){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(d,e);return a.apply(b,d)}}return function(){return a.apply(b,arguments)}},z=function(a,b,d){z=Function.prototype.bind&&
-1!=Function.prototype.bind.toString().indexOf(Yx)?rD:sD;return z.apply(null,arguments)},tD=function(a,b){var d=Array.prototype.slice.call(arguments,1);return function(){var b=d.slice();b.push.apply(b,arguments);return a.apply(this,b)}},A=Date.now||function(){return+new Date},uD=function(a,b,d){eD(a,b,d)},B=function(a,b){function d(){}d.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new d;a.prototype.constructor=a;a.base=function(a,d,g){for(var m=Array(arguments.length-2),q=2;q<arguments.length;q++)m[q-
2]=arguments[q];return b.prototype[d].apply(a,m)}};var vD={},wD=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,wD);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};B(wD,Error);wD.prototype.name="CustomError";var xD;var yD=function(a,b){for(var d=a.split(hb),e=c,f=Array.prototype.slice.call(arguments,1);f.length&&1<d.length;)e+=d.shift()+f.shift();return e+d.join(hb)},zD=function(a){return a.replace(/[\s\xa0]+/g,ga).replace(/^\s+|\s+$/g,c)},AD=function(a){return/^[\s\xa0]*$/.test(a)},BD=function(a){return a.replace(/(\r\n|\r|\n)/g,ba)},CD=function(a){return a.replace(/[\t\r\n ]+/g,ga).replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,c)},DD=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,
c)},LD=function(a,b){if(b)a=a.replace(ED,pb).replace(FD,wb).replace(GD,vb).replace(HD,zb).replace(ID,kb).replace(JD,jb);else{if(!KD.test(a))return a;-1!=a.indexOf(ib)&&(a=a.replace(ED,pb));-1!=a.indexOf(Md)&&(a=a.replace(FD,wb));-1!=a.indexOf(Ue)&&(a=a.replace(GD,vb));-1!=a.indexOf(Ca)&&(a=a.replace(HD,zb));-1!=a.indexOf(Db)&&(a=a.replace(ID,kb));-1!=a.indexOf(aa)&&(a=a.replace(JD,jb))}return a},ED=/&/g,FD=/</g,GD=/>/g,HD=/"/g,ID=/'/g,JD=/\x00/g,KD=/[\x00&<>"']/,ND=function(a,b){var d={"&amp;":ib,
"&lt;":Md,"&gt;":Ue,"&quot;":Ca},e;e=b?b.createElement(bt):dD.document.createElement(bt);return a.replace(MD,function(a,b){var m=d[a];if(m)return m;if(b.charAt(0)==Ya){var q=Number(id+b.substr(1));isNaN(q)||(m=String.fromCharCode(q))}m||(e.innerHTML=a+ga,m=e.firstChild.nodeValue.slice(0,-1));return d[a]=m})},OD=function(a){return a.replace(/&([^;]+);/g,function(a,d){switch(d){case br:return ib;case qw:return Md;case Wu:return Ue;case Lz:return Ca;default:if(d.charAt(0)==Ya){var e=Number(id+d.substr(1));
if(!isNaN(e))return String.fromCharCode(e)}return a}})},MD=/&([^;\s<&]+);?/g,PD=function(a,b){for(var d=b.length,e=0;e<d;e++){var f=1==d?b:b.charAt(e);if(a.charAt(0)==f&&a.charAt(a.length-1)==f)return a.substring(1,a.length-1)}return a},RD=function(a,b,d){d&&(a=QD(a,ib)?ft in dD?ND(a):OD(a):a);a.length>b&&(a=a.substring(0,b-3)+Tc);d&&(a=LD(a));return a},SD={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\x0B",'"':'\\"',"\\":oq,"<":Md},TD={"'":"\\'"},C=function(a){a=String(a);
for(var b=[Ca],d=0;d<a.length;d++){var e=a.charAt(d),f=e.charCodeAt(0),g=d+1,m;if(!(m=SD[e])){if(!(31<f&&127>f))if(e in TD)e=TD[e];else if(e in SD)e=TD[e]=SD[e];else{f=e;m=e.charCodeAt(0);if(31<m&&127>m)f=e;else{if(256>m){if(f=uq,16>m||256<m)f+=id}else f=tq,4096>m&&(f+=id);f+=m.toString(16).toUpperCase()}e=TD[e]=f}m=e}b[g]=m}b.push(Ca);return b.join(c)},QD=function(a,b){return-1!=a.indexOf(b)},UD=function(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,nq).replace(/\x08/g,vq)},VD=String.prototype.repeat?
function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)},WD=function(a,b,d){a=x(d)?a.toFixed(d):String(a);d=a.indexOf(Rc);-1==d&&(d=a.length);return VD(id,Math.max(0,b-d))+a},XD=function(a){return null==a?c:String(a)},ZD=function(a,b){for(var d=0,e=DD(String(a)).split(Rc),f=DD(String(b)).split(Rc),g=Math.max(e.length,f.length),m=0;0==d&&m<g;m++){var q=e[m]||c,u=f[m]||c,D=RegExp(Kb,mu),N=RegExp(Kb,mu);do{var O=D.exec(q)||[c,c,c],ea=N.exec(u)||[c,c,c];if(0==O[0].length&&0==ea[0].length)break;
d=YD(0==O[1].length?0:parseInt(O[1],10),0==ea[1].length?0:parseInt(ea[1],10))||YD(0==O[2].length,0==ea[2].length)||YD(O[2],ea[2])}while(0==d)}return d},YD=function(a,b){return a<b?-1:a>b?1:0},$D=function(a){for(var b=0,d=0;d<a.length;++d)b=31*b+a.charCodeAt(d)>>>0;return b},aE=function(a){return String(a).replace(/\-([a-z])/g,function(a,d){return d.toUpperCase()})},bE=function(a,b){var d=y(b)?UD(b):qq;return a.replace(new RegExp(Lb+(d?$C+d+xq:c)+Sb,mu),function(a,b,d){return b+d.toUpperCase()})};var cE=function(a,b){b.unshift(a);wD.call(this,yD.apply(null,b));b.shift()};B(cE,wD);cE.prototype.name="AssertionError";
var dE=function(a,b,d,e){var f=uf;if(d)var f=f+(Jd+d),g=e;else a&&(f+=Jd+a,g=b);throw new cE(c+f,g||[]);},E=function(a,b,d){a||dE(c,null,b,Array.prototype.slice.call(arguments,2));return a},eE=function(a,b){throw new cE("Failure"+(a?Jd+a:c),Array.prototype.slice.call(arguments,1));},fE=function(a,b,d){lD(a)||dE(pj,[iD(a),a],b,Array.prototype.slice.call(arguments,2));return a},gE=function(a,b,d){y(a)||dE(rj,[iD(a),a],b,Array.prototype.slice.call(arguments,2));return a},hE=function(a,b,d){mD(a)||dE(nj,
[iD(a),a],b,Array.prototype.slice.call(arguments,2));return a},iE=function(a,b,d){nD(a)||dE(qj,[iD(a),a],b,Array.prototype.slice.call(arguments,2));return a},jE=function(a,b,d){nD(a)&&1==a.nodeType||dE(lj,[iD(a),a],b,Array.prototype.slice.call(arguments,2));return a},lE=function(a,b,d,e){a instanceof b||dE(oj,[kE(b),kE(a)],d,Array.prototype.slice.call(arguments,3));return a},kE=function(a){return a instanceof Function?a.displayName||a.name||iC:a instanceof Object?a.constructor.displayName||a.constructor.name||
Object.prototype.toString.call(a):null===a?py:typeof a};var mE=function(a){mE[ga](a);return a};mE[ga]=gD;var nE=function(a,b){try{return mE(a[b]),!0}catch(d){}return!1};var oE=function(a){return a[a.length-1]},pE=Array.prototype.indexOf?function(a,b,d){E(null!=a.length);return Array.prototype.indexOf.call(a,b,d)}:function(a,b,d){d=null==d?0:0>d?Math.max(0,a.length+d):d;if(y(a))return y(b)&&1==b.length?a.indexOf(b,d):-1;for(;d<a.length;d++)if(d in a&&a[d]===b)return d;return-1},qE=Array.prototype.lastIndexOf?function(a,b,d){E(null!=a.length);return Array.prototype.lastIndexOf.call(a,b,null==d?a.length-1:d)}:function(a,b,d){d=null==d?a.length-1:d;0>d&&(d=Math.max(0,
a.length+d));if(y(a))return y(b)&&1==b.length?a.lastIndexOf(b,d):-1;for(;0<=d;d--)if(d in a&&a[d]===b)return d;return-1},F=Array.prototype.forEach?function(a,b,d){E(null!=a.length);Array.prototype.forEach.call(a,b,d)}:function(a,b,d){for(var e=a.length,f=y(a)?a.split(c):a,g=0;g<e;g++)g in f&&b.call(d,f[g],g,a)},rE=function(a,b,d){for(var e=y(a)?a.split(c):a,f=a.length-1;0<=f;--f)f in e&&b.call(d,e[f],f,a)},sE=Array.prototype.filter?function(a,b,d){E(null!=a.length);return Array.prototype.filter.call(a,
b,d)}:function(a,b,d){for(var e=a.length,f=[],g=0,m=y(a)?a.split(c):a,q=0;q<e;q++)if(q in m){var u=m[q];b.call(d,u,q,a)&&(f[g++]=u)}return f},tE=Array.prototype.map?function(a,b,d){E(null!=a.length);return Array.prototype.map.call(a,b,d)}:function(a,b,d){for(var e=a.length,f=Array(e),g=y(a)?a.split(c):a,m=0;m<e;m++)m in g&&(f[m]=b.call(d,g[m],m,a));return f},uE=Array.prototype.reduce?function(a,b,d,e){E(null!=a.length);e&&(b=z(b,e));return Array.prototype.reduce.call(a,b,d)}:function(a,b,d,e){var f=
d;F(a,function(d,m){f=b.call(e,f,d,m,a)});return f},vE=Array.prototype.some?function(a,b,d){E(null!=a.length);return Array.prototype.some.call(a,b,d)}:function(a,b,d){for(var e=a.length,f=y(a)?a.split(c):a,g=0;g<e;g++)if(g in f&&b.call(d,f[g],g,a))return!0;return!1},wE=Array.prototype.every?function(a,b,d){E(null!=a.length);return Array.prototype.every.call(a,b,d)}:function(a,b,d){for(var e=a.length,f=y(a)?a.split(c):a,g=0;g<e;g++)if(g in f&&!b.call(d,f[g],g,a))return!1;return!0},yE=function(a,b,
d){b=xE(a,b,d);return 0>b?null:y(a)?a.charAt(b):a[b]},xE=function(a,b,d){for(var e=a.length,f=y(a)?a.split(c):a,g=0;g<e;g++)if(g in f&&b.call(d,f[g],g,a))return g;return-1},zE=function(a,b,d){a:{for(var e=y(a)?a.split(c):a,f=a.length-1;0<=f;f--)if(f in e&&b.call(d,e[f],f,a)){b=f;break a}b=-1}return 0>b?null:y(a)?a.charAt(b):a[b]},AE=function(a,b){return 0<=pE(a,b)},BE=function(a){if(!jD(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0},DE=function(a,b){var d=pE(a,b),e;(e=0<=d)&&CE(a,d);return e},
CE=function(a,b){E(null!=a.length);return 1==Array.prototype.splice.call(a,b,1).length},EE=function(a,b,d){b=xE(a,b,d);return 0<=b?(CE(a,b),!0):!1},FE=function(a){return Array.prototype.concat.apply(Array.prototype,arguments)},GE=function(a){var b=a.length;if(0<b){for(var d=Array(b),e=0;e<b;e++)d[e]=a[e];return d}return[]},HE=function(a,b){for(var d=1;d<arguments.length;d++){var e=arguments[d];if(kD(e)){var f=a.length||0,g=e.length||0;a.length=f+g;for(var m=0;m<g;m++)a[f+m]=e[m]}else a.push(e)}},
JE=function(a,b,d,e){E(null!=a.length);return Array.prototype.splice.apply(a,IE(arguments,1))},IE=function(a,b,d){E(null!=a.length);return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,d)},KE=function(a,b,d){b=b||a;var e=function(a){return nD(a)?sy+qD(a):(typeof a).charAt(0)+a};d=d||e;for(var e={},f=0,g=0;g<a.length;){var m=a[g++],q=d(m);Object.prototype.hasOwnProperty.call(e,q)||(e[q]=!0,b[f++]=m)}b.length=f},LE=function(a,b,d,e,f){for(var g=0,m=a.length,q;g<
m;){var u=g+m>>1,D;D=d?b.call(f,a[u],u,a):b(e,a[u]);0<D?g=u+1:(m=u,q=!D)}return q?g:~g},NE=function(a,b){a.sort(b||ME)},ME=function(a,b){return a>b?1:a<b?-1:0},OE=function(a,b,d){d=LE(a,d||ME,!1,b);return 0>d?(JE(a,-(d+1),0,b),!0):!1};var PE=function(a,b,d){for(var e in a)b.call(d,a[e],e,a)},QE=function(a){var b=[],d=0,e;for(e in a)b[d++]=a[e];return b},RE=function(a){var b=[],d=0,e;for(e in a)b[d++]=e;return b},SE=function(a,b){return null!==a&&b in a},TE=function(a,b){for(var d in a)if(a[d]==b)return!0;return!1},UE=function(a){for(var b in a)return!1;return!0},VE=function(a,b){var d;(d=b in a)&&delete a[b];return d},WE=function(a,b,d){if(null!==a&&b in a)throw Error('The object already contains the key "'+b+Ca);a[b]=d},XE=function(a){var b=
{},d;for(d in a)b[a[d]]=d;return b},YE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),ZE=function(a,b){for(var d,e,f=1;f<arguments.length;f++){e=arguments[f];for(d in e)a[d]=e[d];for(var g=0;g<YE.length;g++)d=YE[g],Object.prototype.hasOwnProperty.call(e,d)&&(a[d]=e[d])}},$E=function(a){var b=arguments.length;if(1==b&&jD(arguments[0]))return $E.apply(null,arguments[0]);for(var d={},e=0;e<b;e++)d[arguments[e]]=!0;return d};var aF;a:{var bF=dD.navigator;if(bF){var cF=bF.userAgent;if(cF){aF=cF;break a}}aF=c}var G=function(a){return QD(aF,a)};var dF=function(){return(G(Kh)||G(ii))&&!G(Oi)};var eF=function(){return G(vv)&&!G(wv)&&!G(uv)};var fF=G("Opera"),H=G(np)||G(ll),gF=G(Oi),hF=gF||H,iF=G("Gecko")&&!(QD(aF.toLowerCase(),"webkit")&&!G(Oi))&&!(G(np)||G(ll))&&!G(Oi),jF=QD(aF.toLowerCase(),"webkit")&&!G(Oi),kF=G("Macintosh"),lF=G("Windows"),mF=G("Linux")||G("CrOS"),nF=function(){var a=dD.document;return a?a.documentMode:void 0},oF;
a:{var pF=c,qF=function(){var a=aF;if(iF)return/rv\:([^\);]+)(\)|;)/.exec(a);if(gF)return/Edge\/([\d\.]+)/.exec(a);if(H)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(jF)return/WebKit\/(\S+)/.exec(a);if(fF)return/(?:Version)[ \/]?(\S+)/.exec(a)}();qF&&(pF=qF?qF[1]:c);if(H){var rF=nF();if(null!=rF&&rF>parseFloat(pF)){oF=String(rF);break a}}oF=pF}
var sF=oF,tF={},I=function(a){return tF[a]||(tF[a]=0<=ZD(sF,a))},vF=function(a){return Number(uF)>=a},wF=dD.document,uF=wF&&H?nF()||(wF.compatMode==Nf?parseInt(sF,10):5):void 0;var xF=!H||vF(9),yF=!H||vF(9),zF=H&&!I(Gd);!jF||I("528");iF&&I("1.9b")||H&&I(Fd)||fF&&I("9.5")||jF&&I("528");iF&&!I(Fd)||H&&I(Gd);var AF=function(){this.disposed_=this.disposed_;this.onDisposeCallbacks_=this.onDisposeCallbacks_};w=AF.prototype;w.disposed_=!1;w.isDisposed=function(){return this.disposed_};w.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())};w.registerDisposable=function(a){this.addOnDisposeCallback(tD(J,a))};w.addOnDisposeCallback=function(a,b){this.disposed_?a.call(b):(this.onDisposeCallbacks_||(this.onDisposeCallbacks_=[]),this.onDisposeCallbacks_.push(x(b)?z(a,b):a))};
w.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()};var BF=function(a){return a&&typeof a.isDisposed==ku?a.isDisposed():!1},J=function(a){a&&typeof a.dispose==ku&&a.dispose()};var CF=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.propagationStopped_=!1;this.returnValue_=!0};CF.prototype.stopPropagation=function(){this.propagationStopped_=!0};CF.prototype.preventDefault=function(){this.defaultPrevented=!0;this.returnValue_=!1};var DF=function(a){a.stopPropagation()};var EF=function(a,b){CF.call(this,a?a.type:c);this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.platformModifierKey=!1;this.event_=null;a&&this.init(a,b)};B(EF,CF);var FF=[1,4,2];w=EF.prototype;
w.init=function(a,b){var d=this.type=a.type,e=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;var f=a.relatedTarget;f?iF&&(nE(f,gy)||(f=null)):d==Pw?f=a.fromElement:d==Ow&&(f=a.toElement);this.relatedTarget=f;null===e?(this.offsetX=jF||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=jF||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||
0,this.screenY=a.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(d==Wv?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.platformModifierKey=kF?a.metaKey:a.ctrlKey;this.state=a.state;this.event_=a;a.defaultPrevented&&this.preventDefault()};
w.isButton=function(a){return xF?this.event_.button==a:this.type==ls?0==a:!!(this.event_.button&FF[a])};w.isMouseActionButton=function(){return this.isButton(0)&&!(jF&&kF&&this.ctrlKey)};w.stopPropagation=function(){EF.superClass_.stopPropagation.call(this);this.event_.stopPropagation?this.event_.stopPropagation():this.event_.cancelBubble=!0};
w.preventDefault=function(){EF.superClass_.preventDefault.call(this);var a=this.event_;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,zF)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var GF="closure_listenable_"+(1E6*Math.random()|0),HF=function(a){return!(!a||!a[GF])},IF=0;var JF=function(a,b,d,e,f,g){this.listener=a;this.proxy=b;this.src=d;this.type=e;this.capture=!!f;this.handler=g;this.key=++IF;this.removed=this.callOnce=!1};JF.prototype.markAsRemoved=function(){this.removed=!0;this.handler=this.src=this.proxy=this.listener=null};var KF=function(a){this.src=a;this.listeners={};this.typeCount_=0};w=KF.prototype;w.add=function(a,b,d,e,f){var g=a.toString();a=this.listeners[g];a||(a=this.listeners[g]=[],this.typeCount_++);var m=LF(a,b,e,f);-1<m?(b=a[m],d||(b.callOnce=!1)):(b=new JF(b,null,this.src,g,!!e,f),b.callOnce=d,a.push(b));return b};
w.remove=function(a,b,d,e){a=a.toString();if(!(a in this.listeners))return!1;var f=this.listeners[a];b=LF(f,b,d,e);return-1<b?(f[b].markAsRemoved(),CE(f,b),0==f.length&&(delete this.listeners[a],this.typeCount_--),!0):!1};w.removeByKey=function(a){var b=a.type;if(!(b in this.listeners))return!1;var d=DE(this.listeners[b],a);d&&(a.markAsRemoved(),0==this.listeners[b].length&&(delete this.listeners[b],this.typeCount_--));return d};
w.removeAll=function(a){a=a&&a.toString();var b=0,d;for(d in this.listeners)if(!a||d==a){for(var e=this.listeners[d],f=0;f<e.length;f++)++b,e[f].markAsRemoved();delete this.listeners[d];this.typeCount_--}return b};w.getListeners=function(a,b){var d=this.listeners[a.toString()],e=[];if(d)for(var f=0;f<d.length;++f){var g=d[f];g.capture==b&&e.push(g)}return e};w.getListener=function(a,b,d,e){a=this.listeners[a.toString()];var f=-1;a&&(f=LF(a,b,d,e));return-1<f?a[f]:null};
var LF=function(a,b,d,e){for(var f=0;f<a.length;++f){var g=a[f];if(!g.removed&&g.listener==b&&g.capture==!!d&&g.handler==e)return f}return-1};var MF="closure_lm_"+(1E6*Math.random()|0),NF={},OF=0,PF=function(a,b,d,e,f){if(jD(b)){for(var g=0;g<b.length;g++)PF(a,b[g],d,e,f);return null}d=QF(d);return HF(a)?a.listen(b,d,e,f):RF(a,b,d,!1,e,f)},RF=function(a,b,d,e,f,g){if(!b)throw Error("Invalid event type");var m=!!f,q=SF(a);q||(a[MF]=q=new KF(a));d=q.add(b,d,e,f,g);if(d.proxy)return d;e=TF();d.proxy=e;e.src=a;e.listener=d;if(a.addEventListener)a.addEventListener(b.toString(),e,m);else if(a.attachEvent)a.attachEvent(UF(b.toString()),e);else throw Error("addEventListener and attachEvent are unavailable.");
OF++;return d},TF=function(){var a=VF,b=yF?function(d){return a.call(b.src,b.listener,d)}:function(d){d=a.call(b.src,b.listener,d);if(!d)return d};return b},WF=function(a,b,d,e,f){if(jD(b)){for(var g=0;g<b.length;g++)WF(a,b[g],d,e,f);return null}d=QF(d);return HF(a)?a.listenOnce(b,d,e,f):RF(a,b,d,!0,e,f)},XF=function(a,b,d,e,f){if(jD(b)){for(var g=0;g<b.length;g++)XF(a,b[g],d,e,f);return null}d=QF(d);if(HF(a))return a.unlisten(b,d,e,f);if(!a)return!1;if(a=SF(a))if(b=a.getListener(b,d,!!e,f))return YF(b);
return!1},YF=function(a){if(lD(a)||!a||a.removed)return!1;var b=a.src;if(HF(b))return b.unlistenByKey(a);var d=a.type,e=a.proxy;b.removeEventListener?b.removeEventListener(d,e,a.capture):b.detachEvent&&b.detachEvent(UF(d),e);OF--;(d=SF(b))?(d.removeByKey(a),0==d.typeCount_&&(d.src=null,b[MF]=null)):a.markAsRemoved();return!0},UF=function(a){return a in NF?NF[a]:NF[a]=Ay+a},$F=function(a,b,d,e){var f=!0;if(a=SF(a))if(b=a.listeners[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var g=b[a];g&&g.capture==
d&&!g.removed&&(g=ZF(g,e),f=f&&!1!==g)}return f},ZF=function(a,b){var d=a.listener,e=a.handler||a.src;a.callOnce&&YF(a);return d.call(e,b)},VF=function(a,b){if(a.removed)return!0;if(!yF){var d=b||fD(OC),e=new EF(d,this),f=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var g=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(u){g=!0}if(g||void 0==d.returnValue)d.returnValue=!0}d=[];for(g=e.currentTarget;g;g=g.parentNode)d.push(g);for(var g=a.type,m=d.length-1;!e.propagationStopped_&&0<=m;m--){e.currentTarget=
d[m];var q=$F(d[m],g,!0,e),f=f&&q}for(m=0;!e.propagationStopped_&&m<d.length;m++)e.currentTarget=d[m],q=$F(d[m],g,!1,e),f=f&&q}return f}return ZF(a,new EF(b,this))},SF=function(a){a=a[MF];return a instanceof KF?a:null},aG="__closure_events_fn_"+(1E9*Math.random()>>>0),QF=function(a){E(a,fl);if(mD(a))return a;E(a.handleEvent,nf);a[aG]||(a[aG]=function(b){return a.handleEvent(b)});return a[aG]};var cG=function(){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=c;this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=bG};cG.prototype.implementsGoogStringTypedString=!0;cG.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_};cG.prototype.toString=function(){return Vh+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+v};
var dG=function(a){if(a instanceof cG&&a.constructor===cG&&a.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===bG)return a.stringConstValueWithSecurityContract__googStringSecurityPrivate_;eE(Ct+a+Db);return SB},bG={},eG=function(a){var b=new cG;b.stringConstValueWithSecurityContract__googStringSecurityPrivate_=a;return b};var gG=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=c;this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=fG};w=gG.prototype;w.implementsGoogStringTypedString=!0;w.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_};w.implementsGoogI18nBidiDirectionalString=!0;w.getDirection=function(){return 1};w.toString=function(){return Ln+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+v};
var hG=function(a){if(a instanceof gG&&a.constructor===gG&&a.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===fG)return a.privateDoNotAccessOrElseSafeHtmlWrappedValue_;eE(Et+a+Eb+iD(a));return UB},iG=/^(?:(?:https?|mailto|ftp):|[^&:/?#]*(?:[/?#]|$))/i,kG=function(a){if(a instanceof gG)return a;a=a.implementsGoogStringTypedString?a.getTypedStringValue():String(a);iG.test(a)||(a=Iq);return jG(a)},fG={},jG=function(a){var b=new gG;b.privateDoNotAccessOrElseSafeHtmlWrappedValue_=a;return b};jG("about:blank");var mG=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=c;this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=lG};w=mG.prototype;w.implementsGoogStringTypedString=!0;w.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_};w.implementsGoogI18nBidiDirectionalString=!0;w.getDirection=function(){return 1};w.toString=function(){return pp+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+v};var lG={};var oG=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=c;this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=nG;this.dir_=null};w=oG.prototype;w.implementsGoogI18nBidiDirectionalString=!0;w.getDirection=function(){return this.dir_};w.implementsGoogStringTypedString=!0;w.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_};w.toString=function(){return Kn+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+v};
var pG=function(a){if(a instanceof oG&&a.constructor===oG&&a.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===nG)return a.privateDoNotAccessOrElseSafeHtmlWrappedValue_;eE(Dt+a+Eb+iD(a));return TB},rG=function(a){if(a instanceof oG)return a;var b=null;a.implementsGoogI18nBidiDirectionalString&&(b=a.getDirection());return qG(LD(a.implementsGoogStringTypedString?a.getTypedStringValue():String(a)),b)},sG=function(a){var b=0,d=c,e=function(a){jD(a)?F(a,e):(a=rG(a),d+=pG(a),a=a.getDirection(),0==b?b=
a:0!=a&&b!=a&&(b=null))};F(arguments,e);return qG(d,b)},nG={},qG=function(a,b){return(new oG).initSecurityPrivateDoNotAccessOrElse_(a,b)};oG.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a,b){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=a;this.dir_=b;return this};qG("<!DOCTYPE html>",0);qG(c,0);var tG=qG(ke,0);var uG=function(a,b,d){return Math.min(Math.max(a,b),d)},vG=function(a,b){var d=a%b;return 0>d*b?d+b:d},wG=function(a){return isFinite(a)&&0==a%1};var xG=function(a,b){this.x=x(a)?a:0;this.y=x(b)?b:0};xG.prototype.clone=function(){return new xG(this.x,this.y)};xG.prototype.toString=function(){return Gb+this.x+h+this.y+Pb};var yG=function(a,b){return new xG(a.x-b.x,a.y-b.y)};xG.prototype.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};xG.prototype.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};xG.prototype.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};
xG.prototype.scale=function(a,b){var d=lD(b)?b:a;this.x*=a;this.y*=d;return this};var zG=function(a,b){this.width=a;this.height=b},AG=function(a,b){return a==b?!0:a&&b?a.width==b.width&&a.height==b.height:!1};w=zG.prototype;w.clone=function(){return new zG(this.width,this.height)};w.toString=function(){return Gb+this.width+Ba+this.height+Pb};w.getLongest=function(){return Math.max(this.width,this.height)};w.getShortest=function(){return Math.min(this.width,this.height)};w.area=function(){return this.width*this.height};w.aspectRatio=function(){return this.width/this.height};
w.isEmpty=function(){return!this.area()};w.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};w.fitsInside=function(a){return this.width<=a.width&&this.height<=a.height};w.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};w.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};w.scale=function(a,b){var d=lD(b)?b:a;this.width*=a;this.height*=d;return this};
w.scaleToFit=function(a){return this.scale(this.aspectRatio()>a.aspectRatio()?a.width/this.width:a.height/this.height)};var BG=!H||vF(9),CG=!iF&&!H||H&&vF(9)||iF&&I(nd),DG=H&&!I(Gd);var GG=function(a){return a?new EG(FG(a)):xD||(xD=new EG)},IG=function(a,b){var d=b||document;return d.querySelectorAll&&d.querySelector?d.querySelectorAll(Rc+a):HG(document,Vb,a,b)},HG=function(a,b,d,e){a=e||a;b=b&&b!=Vb?b.toUpperCase():c;if(a.querySelectorAll&&a.querySelector&&(b||d))return a.querySelectorAll(b+(d?Rc+d:c));if(d&&a.getElementsByClassName){a=a.getElementsByClassName(d);if(b){e={};for(var f=0,g=0,m;m=a[g];g++)b==m.nodeName&&(e[f++]=m);e.length=f;return e}return a}a=a.getElementsByTagName(b||
Vb);if(d){e={};for(g=f=0;m=a[g];g++)b=m.className,typeof b.split==ku&&AE(b.split(/\s+/),d)&&(e[f++]=m);e.length=f;return e}return a},KG=function(a,b){PE(b,function(b,e){e==kB?a.style.cssText=b:e==js?a.className=b:e==fu?a.htmlFor=b:JG.hasOwnProperty(e)?a.setAttribute(JG[e],b):0==e.lastIndexOf(ir,0)||0==e.lastIndexOf(Js,0)?a.setAttribute(e,b):a[e]=b})},JG={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:bv,maxlength:"maxLength",nonce:"nonce",role:rA,
rowspan:"rowSpan",type:RB,usemap:"useMap",valign:"vAlign",width:NC},LG=function(a){a=a.document;a=a.compatMode==Nf?a.documentElement:a.body;return new zG(a.clientWidth,a.clientHeight)},MG=function(a){return a.scrollingElement?a.scrollingElement:jF||a.compatMode!=Nf?a.body||a.documentElement:a.documentElement},NG=function(a){return a?a.parentWindow||a.defaultView:window},PG=function(a,b,d,e){function f(d){d&&b.appendChild(y(d)?a.createTextNode(d):d)}for(;e<d.length;e++){var g=d[e];!kD(g)||nD(g)&&0<
g.nodeType?f(g):F(OG(g)?GE(g):g,f)}},QG=function(a){for(var b;b=a.firstChild;)a.removeChild(b)},RG=function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)},SG=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null},UG=function(a){return x(a.firstElementChild)?a.firstElementChild:TG(a.firstChild,!0)},VG=function(a){return x(a.nextElementSibling)?a.nextElementSibling:TG(a.nextSibling,!0)},TG=function(a,b){for(;a&&1!=a.nodeType;)a=b?a.nextSibling:a.previousSibling;return a},WG=function(a){return nD(a)&&
1==a.nodeType},XG=function(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a},FG=function(a){E(a,$l);return 9==a.nodeType?a:a.ownerDocument||a.document},YG=function(a,b){E(null!=a,Qu);if(zB in a)a.textContent=b;else if(3==a.nodeType)a.data=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);
a.firstChild.data=b}else{QG(a);var d=FG(a);a.appendChild(d.createTextNode(String(b)))}},ZG={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},$G={IMG:ga,BR:ba},cH=function(a){return aH(a)&&bH(a)},dH=function(a,b){b?a.tabIndex=0:(a.tabIndex=-1,a.removeAttribute(sB))},aH=function(a){a=a.getAttributeNode(tB);return null!=a&&a.specified},bH=function(a){a=a.tabIndex;return lD(a)&&0<=a&&32768>a},fH=function(a){if(DG&&null!==a&&Iv in a)a=BD(a.innerText);else{var b=[];eH(a,b,!0);a=b.join(c)}a=a.replace(/ \xAD /g,
ga).replace(/\xAD/g,c);a=a.replace(/\u200B/g,c);DG||(a=a.replace(/ +/g,ga));a!=ga&&(a=a.replace(/^\s*/,c));return a},gH=function(a){var b=[];eH(a,b,!1);return b.join(c)},eH=function(a,b,d){if(!(a.nodeName in ZG))if(3==a.nodeType)d?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,c)):b.push(a.nodeValue);else if(a.nodeName in $G)b.push($G[a.nodeName]);else for(a=a.firstChild;a;)eH(a,b,d),a=a.nextSibling},OG=function(a){if(a&&typeof a.length==qy){if(nD(a))return typeof a.item==ku||typeof a.item==jB;
if(mD(a))return typeof a.item==ku}return!1},hH=function(a){try{return a&&a.activeElement}catch(b){}return null},iH=function(a){return NG().matchMedia(Ib+a+Tb+a+Ub+a+jt).matches?a:0},EG=function(a){this.document_=a||dD.document||document};w=EG.prototype;w.getDomHelper=GG;w.getElement=function(a){return y(a)?this.document_.getElementById(a):a};w.getElementsByTagNameAndClass=function(a,b,d){return HG(this.document_,a,b,d)};w.getElementsByClass=function(a,b){return IG(a,b||this.document_)};
w.getElementByClass=function(a,b){var d=b||this.document_,e=d||document,f=null;return(f=e.getElementsByClassName?e.getElementsByClassName(a)[0]:e.querySelectorAll&&e.querySelector?e.querySelector(Rc+a):HG(document,Vb,a,d)[0])||null};w.getViewportSize=function(a){return LG(a||this.getWindow()||window)};
w.createDom=function(a,b,d){var e=this.document_,f=arguments,g=f[0],m=f[1];if(!BG&&m&&(m.name||m.type)){g=[Md,g];m.name&&g.push(va,LD(m.name),Ca);if(m.type){g.push(ya,LD(m.type),Ca);var q={};ZE(q,m);delete q.type;m=q}g.push(Ue);g=g.join(c)}g=e.createElement(g);m&&(y(m)?g.className=m:jD(m)?g.className=m.join(ga):KG(g,m));2<f.length&&PG(e,g,f,2);return g};w.createElement=function(a){return this.document_.createElement(a)};w.createTextNode=function(a){return this.document_.createTextNode(String(a))};
w.safeHtmlToNode=function(a){var b=this.document_,d=b.createElement(k);H?(a=sG(tG,a),d.innerHTML=pG(a),d.removeChild(d.firstChild)):d.innerHTML=pG(a);if(1==d.childNodes.length)d=d.removeChild(d.firstChild);else{for(b=b.createDocumentFragment();d.firstChild;)b.appendChild(d.firstChild);d=b}return d};w.isCss1CompatMode=function(){return this.document_.compatMode==Nf};w.getWindow=function(){var a=this.document_;return a.parentWindow||a.defaultView};w.getDocumentScrollElement=function(){return MG(this.document_)};
w.getDocumentScroll=function(){var a=this.document_,b=MG(a),a=a.parentWindow||a.defaultView;return H&&I(od)&&a.pageYOffset!=b.scrollTop?new xG(b.scrollLeft,b.scrollTop):new xG(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)};w.getActiveElement=function(a){return hH(a||this.document_)};w.appendChild=function(a,b){a.appendChild(b)};w.append=function(a,b){PG(FG(a),a,arguments,1)};w.removeChildren=QG;w.insertSiblingBefore=RG;w.removeNode=SG;
w.replaceNode=function(a,b){var d=b.parentNode;d&&d.replaceChild(a,b)};w.getChildren=function(a){return CG&&void 0!=a.children?a.children:sE(a.childNodes,function(a){return 1==a.nodeType})};w.getFirstElementChild=UG;w.getNextElementSibling=VG;w.contains=XG;w.setTextContent=YG;
w.isFocusable=function(a){var b;(b=a.tagName==Ze||a.tagName==uk||a.tagName==Lo||a.tagName==Hn||a.tagName==Df?!a.disabled&&(!aH(a)||bH(a)):cH(a))&&H?(a=!mD(a.getBoundingClientRect)||H&&null==a.parentElement?{height:a.offsetHeight,width:a.offsetWidth}:a.getBoundingClientRect(),a=null!=a&&0<a.height&&0<a.width):a=b;return a};w.getTextContent=fH;var jH=function(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,Ye).replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,n).replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,c)))try{return eval(Gb+a+Pb)}catch(b){}throw Error("Invalid JSON string: "+a);},kH=function(a){return eval(Gb+a+Pb)},mH=function(a,b){return(new lH(b)).serialize(a)},lH=function(a){this.replacer_=
a};lH.prototype.serialize=function(a){var b=[];this.serializeInternal(a,b);return b.join(c)};
lH.prototype.serializeInternal=function(a,b){if(null==a)b.push(py);else{if(typeof a==uy){if(jD(a)){this.serializeArray(a,b);return}if(a instanceof String||a instanceof Number||a instanceof Boolean)a=a.valueOf();else{this.serializeObject_(a,b);return}}switch(typeof a){case jB:this.serializeString_(a,b);break;case qy:this.serializeNumber_(a,b);break;case Br:b.push(String(a));break;case ku:b.push(py);break;default:throw Error("Unknown type: "+typeof a);}}};
var nH={'"':'\\"',"\\":oq,"/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},oH=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;lH.prototype.serializeString_=function(a,b){b.push(Ca,a.replace(oH,function(a){var b=nH[a];b||(b=tq+(a.charCodeAt(0)|65536).toString(16).substr(1),nH[a]=b);return b}),Ca)};lH.prototype.serializeNumber_=function(a,b){b.push(isFinite(a)&&!isNaN(a)?String(a):py)};
lH.prototype.serializeArray=function(a,b){var d=a.length;b.push(fq);for(var e=c,f=0;f<d;f++)b.push(e),e=a[f],this.serializeInternal(this.replacer_?this.replacer_.call(a,String(f),e):e,b),e=Xb;b.push(n)};lH.prototype.serializeObject_=function(a,b){b.push(t);var d=c,e;for(e in a)if(Object.prototype.hasOwnProperty.call(a,e)){var f=a[e];typeof f!=ku&&(b.push(d),this.serializeString_(e,b),b.push(Id),this.serializeInternal(this.replacer_?this.replacer_.call(a,e,f):f,b),d=Xb)}b.push(v)};var pH=function(a,b,d){gE(dG(a),Xw);E(!AD(dG(a)),Yw);return qG(b,d||null)};var qH="StopIteration"in dD?dD.StopIteration:{message:"StopIteration",stack:c},rH=function(){};rH.prototype.next=function(){throw qH;};rH.prototype.__iterator__=function(){return this};
var sH=function(a){if(a instanceof rH)return a;if(typeof a.__iterator__==ku)return a.__iterator__(!1);if(kD(a)){var b=0,d=new rH;d.next=function(){for(;;){if(b>=a.length)throw qH;if(b in a)return a[b++];b++}};return d}throw Error(bm);},tH=function(a,b,d){if(kD(a))try{F(a,b,d)}catch(e){if(e!==qH)throw e;}else{a=sH(a);try{for(;;)b.call(d,a.next(),void 0,a)}catch(e){if(e!==qH)throw e;}}},uH=function(a){if(kD(a))return GE(a);a=sH(a);var b=[];tH(a,function(a){b.push(a)});return b};var vH=function(a,b){this.map_={};this.keys_=[];this.version_=this.count_=0;var d=arguments.length;if(1<d){if(d%2)throw Error("Uneven number of arguments");for(var e=0;e<d;e+=2)this.set(arguments[e],arguments[e+1])}else a&&this.addAll(a)};w=vH.prototype;w.getCount=function(){return this.count_};w.getValues=function(){this.cleanupKeysArray_();for(var a=[],b=0;b<this.keys_.length;b++)a.push(this.map_[this.keys_[b]]);return a};w.getKeys=function(){this.cleanupKeysArray_();return this.keys_.concat()};
w.containsKey=function(a){return wH(this.map_,a)};w.isEmpty=function(){return 0==this.count_};w.clear=function(){this.map_={};this.version_=this.count_=this.keys_.length=0};w.remove=function(a){return wH(this.map_,a)?(delete this.map_[a],this.count_--,this.version_++,this.keys_.length>2*this.count_&&this.cleanupKeysArray_(),!0):!1};
w.cleanupKeysArray_=function(){if(this.count_!=this.keys_.length){for(var a=0,b=0;a<this.keys_.length;){var d=this.keys_[a];wH(this.map_,d)&&(this.keys_[b++]=d);a++}this.keys_.length=b}if(this.count_!=this.keys_.length){for(var e={},b=a=0;a<this.keys_.length;)d=this.keys_[a],wH(e,d)||(this.keys_[b++]=d,e[d]=1),a++;this.keys_.length=b}};w.get=function(a,b){return wH(this.map_,a)?this.map_[a]:b};w.set=function(a,b){wH(this.map_,a)||(this.count_++,this.keys_.push(a),this.version_++);this.map_[a]=b};
w.addAll=function(a){var b;a instanceof vH?(b=a.getKeys(),a=a.getValues()):(b=RE(a),a=QE(a));for(var d=0;d<b.length;d++)this.set(b[d],a[d])};w.forEach=function(a,b){for(var d=this.getKeys(),e=0;e<d.length;e++){var f=d[e],g=this.get(f);a.call(b,g,f,this)}};w.clone=function(){return new vH(this)};w.getKeyIterator=function(){return this.__iterator__(!0)};
w.__iterator__=function(a){this.cleanupKeysArray_();var b=0,d=this.version_,e=this,f=new rH;f.next=function(){if(d!=e.version_)throw Error("The map has changed since the iterator was created");if(b>=e.keys_.length)throw qH;var f=e.keys_[b++];return a?f:e.map_[f]};return f};var wH=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var xH=function(a){if(a.getValues&&typeof a.getValues==ku)return a.getValues();if(y(a))return a.split(c);if(kD(a)){for(var b=[],d=a.length,e=0;e<d;e++)b.push(a[e]);return b}return QE(a)},yH=function(a){if(a.getKeys&&typeof a.getKeys==ku)return a.getKeys();if(!a.getValues||typeof a.getValues!=ku){if(kD(a)||y(a)){var b=[];a=a.length;for(var d=0;d<a;d++)b.push(d);return b}return RE(a)}},zH=function(a,b,d){if(a.forEach&&typeof a.forEach==ku)a.forEach(b,d);else if(kD(a)||y(a))F(a,b,d);else for(var e=yH(a),
f=xH(a),g=f.length,m=0;m<g;m++)b.call(d,f[m],e&&e[m],a)};var AH=function(a){this.map_=new vH;a&&this.addAll(a)},BH=function(a){var b=typeof a;return b==uy&&a||b==ku?sy+qD(a):b.substr(0,1)+a};w=AH.prototype;w.getCount=function(){return this.map_.getCount()};w.add=function(a){this.map_.set(BH(a),a)};w.addAll=function(a){a=xH(a);for(var b=a.length,d=0;d<b;d++)this.add(a[d])};w.removeAll=function(a){a=xH(a);for(var b=a.length,d=0;d<b;d++)this.remove(a[d])};w.remove=function(a){return this.map_.remove(BH(a))};w.clear=function(){this.map_.clear()};
w.isEmpty=function(){return this.map_.isEmpty()};w.contains=function(a){return this.map_.containsKey(BH(a))};w.containsAll=function(a){a:{var b=this.contains;if(typeof a.every==ku)a=a.every(b,this);else if(kD(a)||y(a))a=wE(a,b,this);else{for(var d=yH(a),e=xH(a),f=e.length,g=0;g<f;g++)if(!b.call(this,e[g],d&&d[g],a)){a=!1;break a}a=!0}}return a};w.intersection=function(a){var b=new AH;a=xH(a);for(var d=0;d<a.length;d++){var e=a[d];this.contains(e)&&b.add(e)}return b};w.getValues=function(){return this.map_.getValues()};
w.clone=function(){return new AH(this)};w.__iterator__=function(){return this.map_.__iterator__(!1)};var CH={};var DH=function(a,b,d){b=(d||GG(b)).getElementByClass(a,b);iE(b,mj,a);return b};var K=function(a){return K.internal_(a)};K.internal_=function(a){return a+Aq};K.literal=function(){throw Error("xid.literal must not be used in COMPILED mode.");};K.object=function(a){if(a&&a.constructor&&a.constructor.toString()===Object.toString()){var b={},d;for(d in a)a.hasOwnProperty(d)&&(b[K.internal_(d)]=a[d]);return b}throw Error("xid.object must be called with an object literal.");};K.ENFORCE_USAGE=!0;
K.assertXidLikeString=function(a,b){if(!K.ENFORCE_USAGE||K.isObfuscating())return a;E(a&&typeof a==jB&&Aq==a.substr(a.length-1),b||dp+a+Ve);return a};K.isObfuscating=function(){return K(Eq)!=Fq};var L=function(a,b,d){E(a,Kk+a);if(d)for(b=0;b<d.length;b++)E(d[b],Ik+d[b]+ia+b+Qb+a);this.serviceId_=a};L.prototype.toString=function(){return this.serviceId_};new L(K("goog.ui.ActivityMonitor"));var EH=new L(K("fava.app.AppLifetimeService"));new L(K("fava.base.AsyncOperationServices"));new L(K("fava.net.BrowserChannelServices"));var FH=new L(K("fava.canvas.CanvasService"));new L(K("fava.canvas.CanvasConfiguration"));new L(K("fava.diagnostics.CsiService"));var GH=new L(K("fava.data.DataServices"));new L(K("fava.data.DataStoreUpdaterService"));new L(K("fava.locale.DateTimeFormatService"));new L(K("fava.debug.DeobfuscationService"));
var HH=new L(K("fava.diagnostics.Diagnostics")),IH=new L(K("fava.component.DomServices"));new L(K("fava.app.DragDropService"));new L(K("fava.browser.ExportService"));new L(K("fava.layout.FixedLayoutHelper"));new L(K("fava.gbar.GbarService"));new L(K("fava.gloader.GoogleLoaderService"));new L(K("fava.controls.help.HelpOverlayService"));var JH=new L(K("fava.view.HistoryInterface"));new L(K("fava.view.HistoryManager"));new L(K("fava.view.HistoryRegistry"));new L(K("fava.identity.IdentityService"));new L(K("fava.browser.IeCutCopyHandle"));
new L(K("fava.diagnostics.Impressions"));new L(K("fava.browser.KeyboardShortcutHandler"));new L(K("fava.browser.KeyboardShortcutRegistry"));new L(K("fava.controls.mole.MoleManager"));new L(K("fava.app.NavBarService"));new L(K("fava.view.NavigationServices"));new L(K("fava.net.NetworkDiagnosticsService"));var KH=new L(K(Kt));new L(K("fava.request.OauthService"));new L(K("fava.net.OfflineServices"));new L(K("fava.modules.PrefetchService"));new L(K("fava.controls.RelativeDateControl"));new L(K("fava.request.RequestService"));
new L(K("fava.base.Scheduler"));new L(K("fava.net.ServerErrorService"));new L(K("fava.dom.SoyRenderer"));new L(K("fava.dom.SoyRendererConfig"));new L(K("fava.app.TitleBar"));new L(K("fava.controls.Toast"));new L(K("fava.app.UserActionService"));var LH=new L(K("fava.browser.ViewportServices"));new L(K("fava.diagnostics.ViewDiagnostics"));new L(K("fava.view.ViewManagerInterface"));new L(K("fava.view.ViewRegistry"));var MH=new L(K("fava.browser.WindowService"));new L(K("fava.browser.WindowOpenerUtil"));
new L(K("fava.app.WindowWidget"));new L(K("fava.request.XsrfService"));var NH=function(a){AF.call(this);this.handler_=a;this.keys_={}};B(NH,AF);var OH=[];w=NH.prototype;w.listen=function(a,b,d,e){return this.listen_(a,b,d,e)};w.listenWithScope=function(a,b,d,e,f){return this.listen_(a,b,d,e,f)};w.listen_=function(a,b,d,e,f){jD(b)||(b&&(OH[0]=b.toString()),b=OH);for(var g=0;g<b.length;g++){var m=PF(a,b[g],d||this.handleEvent,e||!1,f||this.handler_||this);if(!m)break;this.keys_[m.key]=m}return this};w.listenOnce=function(a,b,d,e){return this.listenOnce_(a,b,d,e)};
w.listenOnce_=function(a,b,d,e,f){if(jD(b))for(var g=0;g<b.length;g++)this.listenOnce_(a,b[g],d,e,f);else{a=WF(a,b,d||this.handleEvent,e,f||this.handler_||this);if(!a)return this;this.keys_[a.key]=a}return this};w.listenWithWrapper=function(a,b,d,e){return this.listenWithWrapper_(a,b,d,e)};w.listenWithWrapper_=function(a,b,d,e,f){b.listen(a,d,e,f||this.handler_||this,this);return this};
w.unlisten=function(a,b,d,e,f){if(jD(b))for(var g=0;g<b.length;g++)this.unlisten(a,b[g],d,e,f);else d=d||this.handleEvent,f=f||this.handler_||this,d=QF(d),e=!!e,b=HF(a)?a.getListener(b,d,e,f):a?(a=SF(a))?a.getListener(b,d,e,f):null:null,b&&(YF(b),delete this.keys_[b.key]);return this};w.removeAll=function(){PE(this.keys_,function(a,b){this.keys_.hasOwnProperty(b)&&YF(a)},this);this.keys_={}};w.disposeInternal=function(){NH.superClass_.disposeInternal.call(this);this.removeAll()};
w.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};var M=function(){AF.call(this);this.eventTargetListeners_=new KF(this);this.actualEventTarget_=this;this.parentEventTarget_=null};B(M,AF);M.prototype[GF]=!0;w=M.prototype;w.getParentEventTarget=function(){return this.parentEventTarget_};w.setParentEventTarget=function(a){this.parentEventTarget_=a};w.addEventListener=function(a,b,d,e){PF(this,a,b,d,e)};w.removeEventListener=function(a,b,d,e){XF(this,a,b,d,e)};
w.dispatchEvent=function(a){this.assertInitialized_();var b,d=this.getParentEventTarget();if(d){b=[];for(var e=1;d;d=d.getParentEventTarget())b.push(d),E(1E3>++e,Fv)}d=this.actualEventTarget_;e=a.type||a;if(y(a))a=new CF(a,d);else if(a instanceof CF)a.target=a.target||d;else{var f=a;a=new CF(e,d);ZE(a,f)}var f=!0,g;if(b)for(var m=b.length-1;!a.propagationStopped_&&0<=m;m--)g=a.currentTarget=b[m],f=g.fireListeners(e,!0,a)&&f;a.propagationStopped_||(g=a.currentTarget=d,f=g.fireListeners(e,!0,a)&&f,
a.propagationStopped_||(f=g.fireListeners(e,!1,a)&&f));if(b)for(m=0;!a.propagationStopped_&&m<b.length;m++)g=a.currentTarget=b[m],f=g.fireListeners(e,!1,a)&&f;return f};w.disposeInternal=function(){M.superClass_.disposeInternal.call(this);this.removeAllListeners();this.parentEventTarget_=null};w.listen=function(a,b,d,e){this.assertInitialized_();return this.eventTargetListeners_.add(String(a),b,!1,d,e)};w.listenOnce=function(a,b,d,e){return this.eventTargetListeners_.add(String(a),b,!0,d,e)};
w.unlisten=function(a,b,d,e){return this.eventTargetListeners_.remove(String(a),b,d,e)};w.unlistenByKey=function(a){return this.eventTargetListeners_.removeByKey(a)};w.removeAllListeners=function(a){return this.eventTargetListeners_?this.eventTargetListeners_.removeAll(a):0};
w.fireListeners=function(a,b,d){a=this.eventTargetListeners_.listeners[String(a)];if(!a)return!0;a=a.concat();for(var e=!0,f=0;f<a.length;++f){var g=a[f];if(g&&!g.removed&&g.capture==b){var m=g.listener,q=g.handler||g.src;g.callOnce&&this.unlistenByKey(g);e=!1!==m.call(q,d)&&e}}return e&&0!=d.returnValue_};w.getListeners=function(a,b){return this.eventTargetListeners_.getListeners(String(a),b)};w.getListener=function(a,b,d,e){return this.eventTargetListeners_.getListener(String(a),b,d,e)};
w.assertInitialized_=function(){E(this.eventTargetListeners_,fj)};var PH=function(a,b,d){this.limit_=d;this.create_=a;this.reset_=b;this.occupants_=0;this.head_=null};PH.prototype.get=function(){var a;0<this.occupants_?(this.occupants_--,a=this.head_,this.head_=a.next,a.next=null):a=this.create_();return a};PH.prototype.put=function(a){this.reset_(a);this.occupants_<this.limit_&&(this.occupants_++,a.next=this.head_,this.head_=a)};var QH=function(a){dD.setTimeout(function(){throw a;},0)},RH,SH=function(){var a=dD.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!G(an)&&(a=function(){var a=document.createElement(sk);a.style.display=iy;a.src=c;document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write(c);a.close();var d=Vr+Math.random(),e=b.location.protocol==Ut?Vb:b.location.protocol+Zc+b.location.host,a=z(function(a){if((e==Vb||
a.origin==e)&&a.data==d)this.port1.onmessage()},this);b.addEventListener(Jw,a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(d,e)}}});if("undefined"!==typeof a&&!G(np)&&!G(ll)){var b=new a,d={},e=d;b.port1.onmessage=function(){if(x(d.next)){d=d.next;var a=d.cb;d.cb=null;a()}};return function(a){e.next={cb:a};e=e.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&Gy in document.createElement(Gn)?function(a){var b=document.createElement(Gn);b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){dD.setTimeout(a,0)}};var TH=function(){this.workTail_=this.workHead_=null},VH=new PH(function(){return new UH},function(a){a.reset()},100);TH.prototype.add=function(a,b){var d=this.getUnusedItem_();d.set(a,b);this.workTail_?this.workTail_.next=d:(E(!this.workHead_),this.workHead_=d);this.workTail_=d};TH.prototype.remove=function(){var a=null;this.workHead_&&(a=this.workHead_,this.workHead_=this.workHead_.next,this.workHead_||(this.workTail_=null),a.next=null);return a};TH.prototype.returnUnused=function(a){VH.put(a)};
TH.prototype.getUnusedItem_=function(){return VH.get()};var UH=function(){this.next=this.scope=this.fn=null};UH.prototype.set=function(a,b){this.fn=a;this.scope=b;this.next=null};UH.prototype.reset=function(){this.next=this.scope=this.fn=null};var $H=function(a,b){WH||XH();YH||(WH(),YH=!0);ZH.add(a,b)},WH,XH=function(){if(dD.Promise&&dD.Promise.resolve){var a=dD.Promise.resolve(void 0);WH=function(){a.then(aI)}}else WH=function(){var a=aI;!mD(dD.setImmediate)||dD.Window&&dD.Window.prototype&&!G(Oi)&&dD.Window.prototype.setImmediate==dD.setImmediate?(RH||(RH=SH()),RH(a)):dD.setImmediate(a)}},YH=!1,ZH=new TH,aI=function(){for(var a=null;a=ZH.remove();){try{a.fn.call(a.scope)}catch(b){QH(b)}ZH.returnUnused(a)}YH=!1};var bI=function(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0},cI=function(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};var eI=function(a,b){this.state_=0;this.result_=void 0;this.callbackEntriesTail_=this.callbackEntries_=this.parent_=null;this.hadUnhandledRejection_=this.executing_=!1;if(a!=gD)try{var d=this;a.call(b,function(a){d.resolve_(2,a)},function(a){if(!(a instanceof dI))try{if(a instanceof Error)throw a;throw Error("Promise rejected.");}catch(b){}d.resolve_(3,a)})}catch(e){this.resolve_(3,e)}},fI=function(){this.next=this.context=this.onRejected=this.onFulfilled=this.child=null;this.always=!1};
fI.prototype.reset=function(){this.context=this.onRejected=this.onFulfilled=this.child=null;this.always=!1};var gI=new PH(function(){return new fI},function(a){a.reset()},100),hI=function(a,b,d){var e=gI.get();e.onFulfilled=a;e.onRejected=b;e.context=d;return e};eI.prototype.then=function(a,b,d){null!=a&&hE(a,Jy);null!=b&&hE(b,Ky);return this.addChildPromise_(mD(a)?a:null,mD(b)?b:null,d)};bI(eI);w=eI.prototype;
w.thenVoid=function(a,b,d){null!=a&&hE(a,Jy);null!=b&&hE(b,Ky);this.addCallbackEntry_(hI(a||gD,b||null,d))};w.cancel=function(a){0==this.state_&&$H(function(){var b=new dI(a);this.cancelInternal_(b)},this)};w.cancelInternal_=function(a){0==this.state_&&(this.parent_?(this.parent_.cancelChild_(this,a),this.parent_=null):this.resolve_(3,a))};
w.cancelChild_=function(a,b){if(this.callbackEntries_){for(var d=0,e=null,f=null,g=this.callbackEntries_;g&&(g.always||(d++,g.child==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(0==this.state_&&1==d?this.cancelInternal_(b):(f?this.removeEntryAfter_(f):this.popEntry_(),this.executeCallback_(e,3,b)))}};w.addCallbackEntry_=function(a){this.hasEntry_()||2!=this.state_&&3!=this.state_||this.scheduleCallbacks_();this.queueEntry_(a)};
w.addChildPromise_=function(a,b,d){var e=hI(null,null,null);e.child=new eI(function(f,g){e.onFulfilled=a?function(b){try{var e=a.call(d,b);f(e)}catch(u){g(u)}}:f;e.onRejected=b?function(a){try{var e=b.call(d,a);!x(e)&&a instanceof dI?g(a):f(e)}catch(u){g(u)}}:g});e.child.parent_=this;this.addCallbackEntry_(e);return e.child};w.unblockAndFulfill_=function(a){E(1==this.state_);this.state_=0;this.resolve_(2,a)};w.unblockAndReject_=function(a){E(1==this.state_);this.state_=0;this.resolve_(3,a)};
w.resolve_=function(a,b){if(0==this.state_){this==b&&(a=3,b=new TypeError(jn));this.state_=1;var d;a:{var e=b,f=this.unblockAndFulfill_,g=this.unblockAndReject_;if(e instanceof eI)e.thenVoid(f,g,this),d=!0;else if(cI(e))e.then(f,g,this),d=!0;else{if(nD(e))try{var m=e.then;if(mD(m)){iI(e,m,f,g,this);d=!0;break a}}catch(q){g.call(this,q);d=!0;break a}d=!1}}d||(this.result_=b,this.state_=a,this.parent_=null,this.scheduleCallbacks_(),3!=a||b instanceof dI||jI(this,b))}};
var iI=function(a,b,d,e,f){var g=!1,m=function(a){g||(g=!0,d.call(f,a))},q=function(a){g||(g=!0,e.call(f,a))};try{b.call(a,m,q)}catch(u){q(u)}};w=eI.prototype;w.scheduleCallbacks_=function(){this.executing_||(this.executing_=!0,$H(this.executeCallbacks_,this))};w.hasEntry_=function(){return!!this.callbackEntries_};w.queueEntry_=function(a){E(null!=a.onFulfilled);this.callbackEntriesTail_?this.callbackEntriesTail_.next=a:this.callbackEntries_=a;this.callbackEntriesTail_=a};
w.popEntry_=function(){var a=null;this.callbackEntries_&&(a=this.callbackEntries_,this.callbackEntries_=a.next,a.next=null);this.callbackEntries_||(this.callbackEntriesTail_=null);null!=a&&E(null!=a.onFulfilled);return a};w.removeEntryAfter_=function(a){E(this.callbackEntries_);E(null!=a);a.next==this.callbackEntriesTail_&&(this.callbackEntriesTail_=a);a.next=a.next.next};
w.executeCallbacks_=function(){for(var a=null;a=this.popEntry_();)this.executeCallback_(a,this.state_,this.result_);this.executing_=!1};w.executeCallback_=function(a,b,d){3==b&&a.onRejected&&!a.always&&this.removeUnhandledRejection_();if(a.child)a.child.parent_=null,kI(a,b,d);else try{a.always?a.onFulfilled.call(a.context):kI(a,b,d)}catch(e){lI.call(null,e)}gI.put(a)};var kI=function(a,b,d){2==b?a.onFulfilled.call(a.context,d):a.onRejected&&a.onRejected.call(a.context,d)};
eI.prototype.removeUnhandledRejection_=function(){var a;for(a=this;a&&a.hadUnhandledRejection_;a=a.parent_)a.hadUnhandledRejection_=!1};var jI=function(a,b){a.hadUnhandledRejection_=!0;$H(function(){a.hadUnhandledRejection_&&lI.call(null,b)})},lI=QH,dI=function(a){wD.call(this,a)};B(dI,wD);dI.prototype.name="cancel";var mI=function(a,b){M.call(this);this.interval_=a||1;this.timerObject_=b||dD;this.boundTick_=z(this.tick_,this);this.last_=A()};B(mI,M);w=mI.prototype;w.enabled=!1;w.timer_=null;
w.tick_=function(){if(this.enabled){var a=A()-this.last_;0<a&&a<.8*this.interval_?this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_-a):(this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null),this.dispatchTick(),this.enabled&&(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=A()))}};w.dispatchTick=function(){this.dispatchEvent(CB)};
w.start=function(){this.enabled=!0;this.timer_||(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=A())};w.stop=function(){this.enabled=!1;this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null)};w.disposeInternal=function(){mI.superClass_.disposeInternal.call(this);this.stop();delete this.timerObject_};
var nI=function(a,b,d){if(mD(a))d&&(a=z(a,d));else if(a&&typeof a.handleEvent==ku)a=z(a.handleEvent,a);else throw Error(Jk);return 2147483647<Number(b)?-1:dD.setTimeout(a,b||0)},oI=function(a){dD.clearTimeout(a)};new AH;var pI=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/,qI=function(a,b){return a?b?decodeURI(a):decodeURIComponent(a):a},rI=function(a,b){if(a)for(var d=a.split(ib),e=0;e<d.length;e++){var f=d[e].indexOf(Te),g=null,m=null;0<=f?(g=d[e].substring(0,f),m=d[e].substring(f+1)):g=d[e];b(g,m?decodeURIComponent(m.replace(/\+/g,ga)):c)}};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
var sI=function(a,b){this.sequence_=[];this.onCancelFunction_=a;this.defaultScope_=b||null;this.hadError_=this.fired_=!1;this.result_=void 0;this.silentlyCanceled_=this.blocking_=this.blocked_=!1;this.unhandledErrorId_=0;this.parent_=null;this.branches_=0};w=sI.prototype;
w.cancel=function(a){if(this.fired_)this.result_ instanceof sI&&this.result_.cancel();else{if(this.parent_){var b=this.parent_;delete this.parent_;a?b.cancel(a):b.branchCancel_()}this.onCancelFunction_?this.onCancelFunction_.call(this.defaultScope_,this):this.silentlyCanceled_=!0;this.fired_||this.errback(new tI(this))}};w.branchCancel_=function(){this.branches_--;0>=this.branches_&&this.cancel()};w.continue_=function(a,b){this.blocked_=!1;this.updateResult_(a,b)};
w.updateResult_=function(a,b){this.fired_=!0;this.result_=b;this.hadError_=!a;this.fire_()};w.check_=function(){if(this.fired_){if(!this.silentlyCanceled_)throw new uI(this);this.silentlyCanceled_=!1}};w.callback=function(a){this.check_();this.assertNotDeferred_(a);this.updateResult_(!0,a)};w.errback=function(a){this.check_();this.assertNotDeferred_(a);this.updateResult_(!1,a)};w.assertNotDeferred_=function(a){E(!(a instanceof sI),mf)};w.addCallback=function(a,b){return this.addCallbacks(a,null,b)};
w.addCallbacks=function(a,b,d){E(!this.blocking_,Kf);this.sequence_.push([a,b,d]);this.fired_&&this.fire_();return this};w.then=function(a,b,d){var e,f,g=new eI(function(a,b){e=a;f=b});this.addCallbacks(e,function(a){a instanceof tI?g.cancel():f(a)});return g.then(a,b,d)};bI(sI);sI.prototype.isError=function(a){return a instanceof Error};sI.prototype.hasErrback_=function(){return vE(this.sequence_,function(a){return mD(a[1])})};
sI.prototype.fire_=function(){if(this.unhandledErrorId_&&this.fired_&&this.hasErrback_()){var a=this.unhandledErrorId_,b=vI[a];b&&(b.resetTimer(),delete vI[a]);this.unhandledErrorId_=0}this.parent_&&(this.parent_.branches_--,delete this.parent_);for(var a=this.result_,d=b=!1;this.sequence_.length&&!this.blocked_;){var e=this.sequence_.shift(),f=e[0],g=e[1],e=e[2];if(f=this.hadError_?g:f)try{var m=f.call(e||this.defaultScope_,a);x(m)&&(this.hadError_=this.hadError_&&(m==a||this.isError(m)),this.result_=
a=m);if(cI(a)||typeof dD.Promise===ku&&a instanceof dD.Promise)this.blocked_=d=!0}catch(q){a=q,this.hadError_=!0,this.hasErrback_()||(b=!0)}}this.result_=a;d&&(m=z(this.continue_,this,!0),d=z(this.continue_,this,!1),a instanceof sI?(a.addCallbacks(m,d),a.blocking_=!0):a.then(m,d));b&&(a=new wI(a),vI[a.id_]=a,this.unhandledErrorId_=a.id_)};var uI=function(a){wD.call(this);this.deferred=a};B(uI,wD);uI.prototype.message="Deferred has already fired";uI.prototype.name="AlreadyCalledError";
var tI=function(a){wD.call(this);this.deferred=a};B(tI,wD);tI.prototype.message="Deferred was canceled";tI.prototype.name="CanceledError";var wI=function(a){this.id_=dD.setTimeout(z(this.throwError,this),0);this.error_=a};wI.prototype.throwError=function(){E(vI[this.id_],Eh);delete vI[this.id_];throw this.error_;};wI.prototype.resetTimer=function(){dD.clearTimeout(this.id_)};var vI={};var xI=function(a,b){y(b)?(E(b,Tl),E(!/[:]/.test(b),Sl+b)):E(0<=b,Ul);E(a,Rl);this.namespace_=a;this.type_=b;this.constructor.allInstances||(this.constructor.allInstances={});var d=this.toString();E(!this.constructor.allInstances[d],tn+d);this.constructor.allInstances[d]=this};xI.prototype.serialize=function(){return this.toString()};xI.prototype.toString=function(){this.toString_||(this.toString_=this.namespace_.getLongName()+Id+this.type_);return this.toString_};xI.prototype.getType=function(){return this.type_};var yI=function(a){M.call(this);this.appContext_=a;this.eventHandler_=new NH(this);this.windows_=[];var b;a=window;if(!a.location)try{mH(a)}catch(e){}var d=a.location&&a.location.ancestorOrigins;if(x(d))b=d&&d.length?d[0]==a.location.origin:!0;else try{b=x(a.parent.location.href)}catch(e){b=!1}b&&(this.scriptFrame_=window.frameElement);this.lifetimeStages_=[];this.deferredsForStage_=this.createStageMap_()};B(yI,M);w=yI.prototype;
w.disposeInternal=function(){yI.superClass_.disposeInternal.call(this);this.eventHandler_.dispose();this.scriptFrame_=this.deferredsForStage_=this.windows_=this.eventHandler_=null};w.registerWindow=function(a){a.getWindow()!=top&&this.mainWindow_||(this.mainWindow_=a);this.windows_.push(a);this.eventHandler_.listen(a,Eq,this.handleBeforeUnload_);this.eventHandler_.listen(a,qr,this.handleUnload_)};
w.setStageReady=function(a){if(!this.isDisposed()&&!this.appContext_.isDisposed()){var b=this.getDeferredForStage_(a);E(!b.fired_,po,a);b.callback()}};w.isUnloading=function(){return this.deferredsForStage_.uling.fired_};
w.handleBeforeUnload_=function(a){var b=a.target,d=b==this.mainWindow_;if(b==this.mainWindow_&&b.isVisible()){var e=[];F(this.windows_,function(a){a!=this.mainWindow_&&e.push(a.getDescription())},this);0<e.length&&(a.messages.push(Xo),a.messages.push(e.join(ba)))}d&&(b=new zI(this,a.messages),this.dispatchEvent(b),a.forcingUnload=a.forcingUnload||b.forcingUnload)};
w.handleUnload_=function(a){var b=a.target;this.eventHandler_.unlisten(b,qr,this.handleUnload_);if(b==this.mainWindow_&&!this.isUnloading()){if(this.scriptFrame_&&!a.signingOut)for(a=0;a<this.windows_.length;a++);rE(this.windows_,function(a){a==b||a.closeImmediately()},this);this.setStageReady(bC);this.setStageReady(WB);this.mainWindow_=null}this.windows_&&b&&DE(this.windows_,b)};
w.createStageMap_=function(){return uE([[kt,mt],[Av,Gt],[Ov,mu],[mw,Xu],[Yv,Hs],[bC,Pv],[WB,Sv]],function(a,b){var d=new sI;a[b[0]]=d;this.lifetimeStages_.push(b[0]);d.addCallback(function(){this.dispatchEvent(b[1])},this);return a},{},this)};w.getDeferredForStage_=function(a){var b=this.deferredsForStage_[a];E(b,Wl+a);return b};var zI=function(a,b){CF.call(this,tv);this.messages=b;this.forcingUnload=!1};B(zI,CF);var AI=G("Firefox"),BI=eF()||G(wv),CI=G(uv),DI=G("Android")&&!(dF()||G("Firefox")||G("Opera")||G("Silk")),EI=dF(),FI=G("Safari")&&!(dF()||G("Coast")||G("Opera")||G(Oi)||G("Silk")||G("Android"))&&!(eF()||G(uv)||G(wv));var GI=null;var HI=function(){},II=typeof Uint8Array==ku,LI=function(a,b,d,e,f,g){a.wrappers_=null;b||(b=d?[d]:[]);a.messageId_=d?String(d):void 0;a.arrayIndexOffset_=0===d?-1:0;a.array=b;a:{if(a.array.length&&(b=a.array.length-1,(d=a.array[b])&&typeof d==uy&&!jD(d))){a.pivot_=b-a.arrayIndexOffset_;a.extensionObject_=d;break a}-1<e?(a.pivot_=e,a.extensionObject_=null):a.pivot_=Number.MAX_VALUE}a.convertedFloatingPointFields_={};if(f)for(e=0;e<f.length;e++)b=f[e],b<a.pivot_?(b+=a.arrayIndexOffset_,a.array[b]=
a.array[b]||JI):a.extensionObject_[b]=a.extensionObject_[b]||JI;g&&g.length&&F(g,tD(KI,a))},JI=Object.freeze?Object.freeze([]):[],P=function(a,b){if(b<a.pivot_){var d=b+a.arrayIndexOffset_,e=a.array[d];return e===JI?a.array[d]=[]:e}e=a.extensionObject_[b];return e===JI?a.extensionObject_[b]=[]:e},MI=function(a,b){var d=P(a,b);return null==d?d:+d},Q=function(a,b,d){b<a.pivot_?a.array[b+a.arrayIndexOffset_]=d:a.extensionObject_[b]=d},KI=function(a,b){var d,e;F(b,function(b){var g=P(a,b);null!=g&&(d=
b,e=g,Q(a,b,void 0))});return d?(Q(a,d,e),d):0},NI=function(a,b,d,e){a.wrappers_||(a.wrappers_={});if(!a.wrappers_[d]){var f=P(a,d);if(e||f)a.wrappers_[d]=new b(f)}return a.wrappers_[d]},OI=function(a,b,d){a.wrappers_||(a.wrappers_={});if(!a.wrappers_[d]){for(var e=P(a,d),f=[],g=0;g<e.length;g++)f[g]=new b(e[g]);a.wrappers_[d]=f}b=a.wrappers_[d];b==JI&&(b=a.wrappers_[d]=[]);return b},PI=function(a,b,d){a.wrappers_||(a.wrappers_={});var e=d?d.toArray():d;a.wrappers_[b]=d;Q(a,b,e)},QI=function(a,b,
d){a.wrappers_||(a.wrappers_={});d=d||[];for(var e=[],f=0;f<d.length;f++)e[f]=d[f].toArray();a.wrappers_[b]=d;Q(a,b,e)};HI.prototype.toArray=function(){return this.array};var RI=dD.JSON&&dD.JSON.stringify||typeof JSON===uy&&JSON.stringify;
HI.prototype.serialize=II?function(){E(RI);var a=Uint8Array.prototype.toJSON;Uint8Array.prototype.toJSON=function(){E(kD(this),ut);if(!GI){GI={};for(var a=0;65>a;a++)GI[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a)}for(var a=GI,b=[],f=0;f<this.length;f+=3){var g=this[f],m=f+1<this.length,q=m?this[f+1]:0,u=f+2<this.length,D=u?this[f+2]:0,N=g>>2,g=(g&3)<<4|q>>4,q=(q&15)<<2|D>>6,D=D&63;u||(D=64,m||(q=64));b.push(a[N],a[g],a[q],a[D])}return b.join(c)};try{var b=RI.call(null,
this.toArray(),SI)}finally{Uint8Array.prototype.toJSON=a}return b}:RI?function(){return RI.call(null,this.toArray(),SI)}:function(){return mH(this.toArray(),SI)};var SI=function(a,b){if(lD(b)){if(isNaN(b))return Jl;if(Infinity===b)return Gk;if(-Infinity===b)return ec}return b};HI.prototype.toString=function(){return this.array.toString()};var R=function(a,b){xI.call(this,a,b)};B(R,xI);var UI=function(a){E(!TI.hasOwnProperty(a),wf+a);E(!/[^0-9a-zA-Z._]/.test(a),vf+a);this.name_=a;TI[a]=this},TI;TI={};UI.prototype.getLongName=function(){return this.name_};new UI("lib");var WI=function(a){AF.call(this);this.id=VI++;this.serviceRegistrationOrder=[];this.services_={};this.lateServiceModuleIdMap_={};this.serviceFactoryMap_={};this.serviceCallbacks_={};this.asyncDeferrals_={};this.noInheritMap_={};this.eventTarget_=a?a.getEventTarget():new M;this.shouldDisposeEventTarget_=!a;this.parentAppContext_=null;a?(this.parentAppContext_=a,this.serviceFactoryMap_=a.serviceFactoryMap_,this.serviceCallbacks_=a.serviceCallbacks_,this.lateServiceModuleIdMap_=a.lateServiceModuleIdMap_,
this.asyncDeferrals_=a.asyncDeferrals_):A();a=this.getRootAppContext();this!=a&&(a.childAppContexts_?a.childAppContexts_.push(this):a.childAppContexts_=[this])};B(WI,AF);var VI=1;w=WI.prototype;w.getRootAppContext=function(){for(var a=this;a.parentAppContext_;)a=a.parentAppContext_;return a};w.descendsFrom_=function(a){for(var b=this;b;){if(b==a)return!0;b=b.parentAppContext_}return!1};
w.get=function(a){var b=this.getOrNull(a);null==b&&this.disableRegistrationException_&&(b={BOGUS:Tn+a+za});if(null==b)throw new XI(a);return b};w.getOrNull=function(a){for(var b=this;b;b=b.parentAppContext_){if(b.isDisposed())throw Error("AppContext is disposed.");if(b.services_[a])return b.services_[a][0];if(b.noInheritMap_[a])break}if(b=this.getServiceFactory(a)){b=b(this);if(null==b)throw Error("Factory method for service "+a+" returned null or undefined.");this.registerService(a,b);return b}return null};
w.registerService=function(a,b,d){if(this.isDisposed())d||J(b);else{E(!this.services_[a],Vn,a);this.serviceRegistrationOrder.push(a);this.services_[a]=[b,!d];d=this.findServiceCallbacks_(this,a);for(var e=0;e<d.length;e++)d[e].callback(null);delete this.lateServiceModuleIdMap_[a];return b}};w.getServiceFactory=function(a){return this.serviceFactoryMap_[a]};
w.findServiceCallbacks_=function(a,b){var d=[],e=this.serviceCallbacks_[b];e&&(rE(e,function(b){b.appContext.descendsFrom_(a)&&(d.push(b.d),DE(e,b))}),0==e.length&&delete this.serviceCallbacks_[b]);return d};w.clearServiceCallbacks_=function(a){this.serviceCallbacks_&&zH(this.serviceCallbacks_,function(b,d,e){rE(b,function(d){d.appContext==a&&DE(b,d)});0==b.length&&delete e[d]})};
w.disposeInternal=function(){if(this.getRootAppContext()==this){var a=this.childAppContexts_;if(a)for(;a.length;)a[0].dispose()}else for(var a=this.getRootAppContext().childAppContexts_,b=0;b<a.length;b++)if(a[b]==this){a.splice(b,1);break}for(var d in this.services_)a=this.services_[d],a[1]&&a[0].dispose&&a[0].dispose();this.services_=null;this.shouldDisposeEventTarget_&&this.eventTarget_.dispose();this.clearServiceCallbacks_(this);this.serviceCallbacks_=null;J(this.overlayAppContext_);this.noInheritMap_=
this.overlayAppContext_=null;WI.superClass_.disposeInternal.call(this)};w.getEventTarget=function(){return this.eventTarget_};var XI=function(a){wD.call(this);this.id=a;this.message=Un+a+Ra};B(XI,wD);var YI=new UI("fva");new R(YI,1);var ZI=function(a){this.window_=a};w=ZI.prototype;w.getWindow=function(){return this.window_};w.getHtmlWindow=function(){return this.window_.getWindow()};w.confirm=function(a){var b=this.getActiveElement_();a=this.window_.getWindow().confirm(a);this.restoreFocus_(b);return a};w.getActiveElement_=function(){var a=this.window_.getAppContext().getOrNull(LH);return a?a.getActiveElement():null};w.restoreFocus_=function(a){a?a.focus():(a=this.window_.getAppContext().getOrNull(LH))&&a.focusDefaultFocusTarget()};var aJ=function(a,b){M.call(this);this.id_=$I++;this.htmlWindow=a;this.eventHandler=new NH(this);this.appContext_=b;this.layouts_=[];this.closeImmediately_=!1;this.eventHandler.listen(this.htmlWindow,jC,this.handleUnload_);this.eventHandler.listen(this.htmlWindow,vr,this.handleBeforeUnload_);b.get(EH).registerWindow(this);this.registerWindowServices()};B(aJ,M);var $I=1;w=aJ.prototype;w.signingOut_=!1;w.nextUnloadIsSignOut_=!1;w.getId=function(){return this.id_};w.isVisible=function(){return!0};
w.registerWindowServices=function(){this.appContext_.registerService(MH,new ZI(this))};w.handleUnload_=function(){this.eventHandler.removeAll();this.disposeLayout();this.dispatchEvent(new bJ(this,this.nextUnloadIsSignOut_));this.dispose()};w.disposeLayout=function(){F(this.layouts_,function(a){a.dispose()});this.layouts_.length=0};
w.handleBeforeUnload_=function(a){if(!this.closeImmediately_){var b=[],d=new cJ(this,this.signingOut_,b);this.nextUnloadIsSignOut_=this.signingOut_;this.signingOut_=!1;try{this.dispatchEvent(d)}catch(e){a.event_.returnValue=kj+e}KE(b);!d.forcingUnload&&b.length&&(a.event_.returnValue=b.join(ba));if(jF&&b.length)return b.join(ba)}};w.closeImmediately=function(){this.closeImmediately_=!0;var a=this.htmlWindow;this.handleUnload_();a&&a.close()};w.getWindow=function(){return this.htmlWindow};
w.getAppContext=function(){return this.appContext_};w.disposeInternal=function(){aJ.superClass_.disposeInternal.call(this);J(this.eventHandler);this.htmlWindow=this.eventHandler=null};var cJ=function(a,b,d){CF.call(this,Eq,a);this.messages=d;this.signingOut=b;this.forcingUnload=!1};B(cJ,CF);var bJ=function(a,b){CF.call(this,qr,a);this.signingOut=b};B(bJ,CF);var dJ=function(a){M.call(this);this.window_=a||window;this.listenerKey_=PF(this.window_,Vz,this.handleResize_,!1,this);this.size_=LG(this.window_||window)};B(dJ,M);dJ.prototype.getSize=function(){return this.size_?this.size_.clone():null};dJ.prototype.disposeInternal=function(){dJ.superClass_.disposeInternal.call(this);this.listenerKey_&&(YF(this.listenerKey_),this.listenerKey_=null);this.size_=this.window_=null};
dJ.prototype.handleResize_=function(){var a=LG(this.window_||window);AG(a,this.size_)||(this.size_=a,this.dispatchEvent(Vz))};var eJ=function(a){M.call(this);this.window_=a?a.getWindow():window;this.lastDensity_=this.getDensity();this.listener_=z(this.handleMediaQueryChange_,this);this.mediaQueryList_=this.window_.matchMedia?this.window_.matchMedia(Ob):null};B(eJ,M);eJ.prototype.start=function(){this.mediaQueryList_&&this.mediaQueryList_.addListener(this.listener_)};eJ.prototype.getDensity=function(){return 1.5<=this.window_.devicePixelRatio?2:1};
eJ.prototype.handleMediaQueryChange_=function(){var a=this.getDensity();this.lastDensity_!=a&&(this.lastDensity_=a,this.dispatchEvent($w))};eJ.prototype.disposeInternal=function(){this.mediaQueryList_&&this.mediaQueryList_.removeListener(this.listener_);eJ.superClass_.disposeInternal.call(this)};var fJ=function(a,b){AF.call(this);this.appContext_=a;b&&this.setOwnerDocument(b)};B(fJ,AF);fJ.prototype.setOwnerDocument=function(a){if(this.ownerDocument_)throw Error("[fava.component.DomServices] Owner document already initialized");this.ownerDocument_=a;this.domHelper_=GG(a);this.viewportSizeMonitor_=new dJ(NG(a));this.viewportSizeMonitor_.setParentEventTarget(this.appContext_.getEventTarget());this.pixelDensityMonitor_=new eJ(this.domHelper_);this.pixelDensityMonitor_.start()};
fJ.prototype.getDomHelper=function(){iE(this.domHelper_,op);return this.domHelper_};fJ.prototype.getViewportSize=function(){E(this.domHelper_,Th);return this.viewportSizeMonitor_.getSize()};fJ.prototype.disposeInternal=function(){this.domHelper_=this.ownerDocument_=null;this.viewportSizeMonitor_&&(this.viewportSizeMonitor_.dispose(),this.viewportSizeMonitor_=null);J(this.pixelDensityMonitor_);this.pixelDensityMonitor_=null};var hJ=function(a){gJ();var b=new mG;b.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=a;return b},gJ=gD;var iJ=function(a,b,d,e){this.top=a;this.right=b;this.bottom=d;this.left=e};w=iJ.prototype;w.getWidth=function(){return this.right-this.left};w.getHeight=function(){return this.bottom-this.top};w.clone=function(){return new iJ(this.top,this.right,this.bottom,this.left)};w.toString=function(){return Gb+this.top+pB+this.right+Nz+this.bottom+rr+this.left+Zv};
w.contains=function(a){return this&&a?a instanceof iJ?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};w.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};
w.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};w.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};w.scale=function(a,b){var d=lD(b)?b:a;this.left*=a;this.right*=a;this.top*=d;this.bottom*=d;return this};var jJ=function(a,b,d,e){this.left=a;this.top=b;this.width=d;this.height=e};w=jJ.prototype;w.clone=function(){return new jJ(this.left,this.top,this.width,this.height)};w.toString=function(){return Gb+this.left+h+this.top+ja+this.width+JC+this.height+Yu};
w.intersection=function(a){var b=Math.max(this.left,a.left),d=Math.min(this.left+this.width,a.left+a.width);if(b<=d){var e=Math.max(this.top,a.top);a=Math.min(this.top+this.height,a.top+a.height);if(e<=a)return this.left=b,this.top=e,this.width=d-b,this.height=a-e,!0}return!1};
w.contains=function(a){return a instanceof jJ?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};w.getSize=function(){return new zG(this.width,this.height)};w.getTopLeft=function(){return new xG(this.left,this.top)};
w.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};w.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};w.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
w.scale=function(a,b){var d=lD(b)?b:a;this.left*=a;this.width*=a;this.top*=d;this.height*=d;return this};var S=function(a,b,d){if(y(b))(b=kJ(a,b))&&(a.style[b]=d);else for(var e in b){d=a;var f=b[e],g=kJ(d,e);g&&(d.style[g]=f)}},lJ={},kJ=function(a,b){var d=lJ[b];if(!d){var e=aE(b),d=e;void 0===a.style[e]&&(e=(jF?Rp:iF?Fl:H?Uw:fF?dm:null)+bE(e),void 0!==a.style[e]&&(d=e));lJ[b]=d}return d},mJ=function(a,b){var d=FG(a);return d.defaultView&&d.defaultView.getComputedStyle&&(d=d.defaultView.getComputedStyle(a,null))?d[b]||d.getPropertyValue(b)||c:c},nJ=function(a,b){return mJ(a,b)||(a.currentStyle?a.currentStyle[b]:
null)||a.style&&a.style[b]},pJ=function(a,b,d){var e;b instanceof xG?(e=b.x,b=b.y):(e=b,b=d);a.style.left=oJ(e,!1);a.style.top=oJ(b,!1)},qJ=function(a){a=a?FG(a):document;return!H||vF(9)||GG(a).isCss1CompatMode()?a.documentElement:a.body},rJ=function(a){var b;try{b=a.getBoundingClientRect()}catch(d){return{left:0,top:0,right:0,bottom:0}}H&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b},
sJ=function(a){if(H&&!vF(8))return E(a&&xy in a),a.offsetParent;var b=FG(a),d=nJ(a,tz),e=d==Yt||d==Jq;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(11==a.nodeType&&a.host&&(a=a.host),d=nJ(a,tz),e=e&&d==hB&&a!=b.documentElement&&a!=b.body,!e&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||d==Yt||d==Jq||d==Tz))return a;return null},uJ=function(a){for(var b=new iJ(0,Infinity,Infinity,0),d=GG(a),e=d.document_.body,f=d.document_.documentElement,g=d.getDocumentScrollElement();a=sJ(a);)if(!(H&&
0==a.clientWidth||jF&&0==a.clientHeight&&a==e)&&a!=e&&a!=f&&nJ(a,Oy)!=FC){var m=tJ(a),q=new xG(a.clientLeft,a.clientTop);m.x+=q.x;m.y+=q.y;b.top=Math.max(b.top,m.y);b.right=Math.min(b.right,m.x+a.clientWidth);b.bottom=Math.min(b.bottom,m.y+a.clientHeight);b.left=Math.max(b.left,m.x)}e=g.scrollLeft;g=g.scrollTop;b.left=Math.max(b.left,e);b.top=Math.max(b.top,g);d=d.getViewportSize();b.right=Math.min(b.right,e+d.width);b.bottom=Math.min(b.bottom,g+d.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&
b.right>b.left?b:null},wJ=function(a,b,d){var e=(b=b||MG(document))||MG(document),f=tJ(a),g=tJ(e),m=vJ(e);if(e==MG(document)){var q=f.x-e.scrollLeft,f=f.y-e.scrollTop;H&&!vF(10)&&(q+=m.left,f+=m.top)}else q=f.x-g.x-m.left,f=f.y-g.y-m.top;m=e.clientWidth-a.offsetWidth;a=e.clientHeight-a.offsetHeight;g=e.scrollLeft;e=e.scrollTop;d?(g+=q-m/2,e+=f-a/2):(g+=Math.min(q,Math.max(q-m,0)),e+=Math.min(f,Math.max(f-a,0)));d=new xG(g,e);b.scrollLeft=d.x;b.scrollTop=d.y},tJ=function(a){var b=FG(a);iE(a,Fm);var d=
new xG(0,0),e=qJ(b);if(a==e)return d;a=rJ(a);b=GG(b).getDocumentScroll();d.x=a.left+b.x;d.y=a.top+b.y;return d},xJ=function(a,b,d){if(b instanceof zG)d=b.height,b=b.width;else if(void 0==d)throw Error("missing height argument");a.style.width=oJ(b,!0);a.style.height=oJ(d,!0)},oJ=function(a,b){typeof a==qy&&(a=(b?Math.round(a):a)+Iz);return a},zJ=function(a){var b;var d=yJ;if(nJ(a,$s)!=iy)b=d(a);else{b=a.style;var e=b.display,f=b.visibility,g=b.position;b.visibility=dv;b.position=Jq;b.display=Gv;a=
d(a);b.display=e;b.position=g;b.visibility=f;b=a}return b},yJ=function(a){var b=a.offsetWidth,d=a.offsetHeight,e=jF&&!b&&!d;return x(b)&&!e||!a.getBoundingClientRect?new zG(b,d):(a=rJ(a),new zG(a.right-a.left,a.bottom-a.top))},AJ=function(a){var b=tJ(a);a=zJ(a);return new jJ(b.x,b.y,a.width,a.height)},BJ=function(a){E(a);var b=a.style;a=c;Hy in b?a=b.opacity:Gl in b?a=b.MozOpacity:Vt in b&&(b=b.filter.match(/alpha\(opacity=([\d.]+)\)/))&&(a=String(b[1]/100));return a==c?a:Number(a)},CJ=function(a,
b){E(a);var d=a.style;Hy in d?d.opacity=b:Gl in d?d.MozOpacity=b:Vt in d&&(d.filter=b===c?c:ar+100*Number(b)+Pb)},T=function(a,b){a.style.display=b?c:iy},DJ=function(a){return yA==nJ(a,Ws)},EJ=iF?"MozUserSelect":jF||gF?"WebkitUserSelect":null,FJ=function(a,b,d){d=d?null:a.getElementsByTagName(Vb);if(EJ){if(b=b?iy:c,a.style&&(a.style[EJ]=b),d){a=0;for(var e;e=d[a];a++)e.style&&(e.style[EJ]=b)}}else if(H||fF)if(b=b?Ay:c,a.setAttribute(lC,b),d)for(a=0;e=d[a];a++)e.setAttribute(lC,b)},GJ=function(a){return new zG(a.offsetWidth,
a.offsetHeight)},HJ=function(a,b,d,e){if(/^\d+px?$/.test(b))return parseInt(b,10);var f=a.style[d],g=a.runtimeStyle[d];a.runtimeStyle[d]=a.currentStyle[d];a.style[d]=b;b=a.style[e];a.style[d]=f;a.runtimeStyle[d]=g;return b},IJ=function(a,b){var d=a.currentStyle?a.currentStyle[b]:null;return d?HJ(a,d,cw,nz):0},JJ={thin:2,medium:4,thick:6},KJ=function(a,b){if((a.currentStyle?a.currentStyle[b+Do]:null)==iy)return 0;var d=a.currentStyle?a.currentStyle[b+Tp]:null;return d in JJ?JJ[d]:HJ(a,d,cw,nz)},vJ=
function(a){if(H&&!vF(9)){var b=KJ(a,Gr),d=KJ(a,Ir),e=KJ(a,Kr);a=KJ(a,Er);return new iJ(e,d,a,b)}b=mJ(a,Hr);d=mJ(a,Jr);e=mJ(a,Lr);a=mJ(a,Fr);return new iJ(parseFloat(e),parseFloat(d),parseFloat(a),parseFloat(b))},LJ=/[^\d]+$/;var MJ=function(a,b,d){b||(b={});d=d||window;var e;e=a instanceof gG?a:kG("undefined"!=typeof a.href?a.href:String(a));a=b.target||a.target;var f=[],g;for(g in b)switch(g){case NC:case bv:case KB:case cw:f.push(g+Te+b[g]);break;case wB:case jy:break;default:f.push(g+Te+(b[g]?1:0))}g=f.join(Xb);(eF()||G(uv)||G(wv))&&d.navigator&&d.navigator.standalone&&a&&a!=Dq?(g=d.document.createElement(Ze),e=e instanceof gG?e:kG(e),g.href=hG(e),g.setAttribute(wB,a),b.noreferrer&&g.setAttribute(Sz,jy),b=document.createEvent(Dl),
b.initMouseEvent(ls,!0,!0,d,1),g.dispatchEvent(b),b={}):b.noreferrer?(b=d.open(c,a,g),d=hG(e),b&&(hF&&QD(d,Ld)&&(d=Db+d.replace(/'/g,fb)+Db),b.opener=null,d=pH(eG(sr),he+LD(d)+Xa),b.document.write(pG(d)),b.document.close())):b=d.open(hG(e),a,g);return b};var NJ=function(){AF.call(this);this.featuresMap_=new vH};B(NJ,AF);var OJ=/\/u\/(\d+)\/?/;w=NJ.prototype;w.dataServiceServerUrl_="/s2/lbx";w.profileBaseUrl_="//profiles.google.com/";w.authUser_=null;w.blockConfirmCallback_=null;w.editorServiceCallback_=null;w.canSharePhotoCallback_=null;w.sharePhotoCallback_=null;var PJ=function(a){return a.get(Eq)};w=NJ.prototype;w.enableFeature=function(a,b){this.featuresMap_.set(a,b);return this};w.isFeatureEnabled=function(a){return!!this.featuresMap_.get(a,!1)};
w.isRightToLeft=function(a){return DJ(a)};w.getProfileBaseUrlWithGaiaSession=function(){var a=this.getAuthUser(),b=c;null!=a&&(b=XB+a+Wc);return this.profileBaseUrl_+b};w.getDefaultProfilePortraitUrl=function(){return $c};w.getAuthUser=function(){return null!=this.authUser_?this.authUser_:this.getAuthUserFromUrl_()};w.getAuthUserFromUrl_=function(a){a=(a=OJ.exec(a?qI(a.match(pI)[5]||null,!0):window.top.location.pathname))?parseInt(a[1],10):null;return isNaN(a)?null:a};
w.setAttributionTemplate=function(a){this.attributionTemplate_=a;return this};var QJ=function(a,b){b&&this.setCanvas(b)};QJ.prototype.setCanvas=function(a){this.canvasElement_=a;FG(a)};QJ.prototype.getCanvas=function(){iE(this.canvasElement_,Hh);return this.canvasElement_};var SJ=function(a,b,d,e){if(!(mD(b)||b&&typeof b.handleEvent==ku))throw Error(Jk);a=z(RJ,null,a,b,e);return dD.setTimeout(a,d||0)},RJ=function(a,b,d){mD(b)?BF(d)||b.call(d):b&&typeof b.handleEvent==ku&&!BF(b)&&b.handleEvent.call(b)};var TJ=function(a,b){AF.call(this);this.disposeObjectFn_=this.createObjectFn_=null;this.maxCount_=b;this.freeQueue_=[];this.createInitial_(a)};B(TJ,AF);w=TJ.prototype;w.getObject=function(){return this.freeQueue_.length?this.freeQueue_.pop():this.createObject()};w.releaseObject=function(a){this.freeQueue_.length<this.maxCount_?this.freeQueue_.push(a):this.disposeObject(a)};
w.createInitial_=function(a){if(a>this.maxCount_)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var b=0;b<a;b++)this.freeQueue_.push(this.createObject())};w.createObject=function(){return this.createObjectFn_?this.createObjectFn_():{}};w.disposeObject=function(a){if(this.disposeObjectFn_)this.disposeObjectFn_(a);else if(nD(a))if(mD(a.dispose))a.dispose();else for(var b in a)delete a[b]};
w.disposeInternal=function(){TJ.superClass_.disposeInternal.call(this);for(var a=this.freeQueue_;a.length;)this.disposeObject(a.pop());delete this.freeQueue_};var UJ=function(a){M.call(this);a=a||GG();this.sizeElement_=a.createDom(H?k:sk,{style:uz,tabIndex:-1,"aria-hidden":NB});a=a.document_.body;a.insertBefore(this.sizeElement_,a.firstChild);var b;if(H)b=this.sizeElement_;else a:{a=this.sizeElement_;try{b=a.contentWindow||(a.contentDocument?NG(a.contentDocument):null);break a}catch(d){}b=null}b=this.resizeTarget_=b;iF&&(a=b.document,a.open(),a.close());PF(b,Vz,this.handleResize_,!1,this);this.lastWidth_=this.sizeElement_.offsetWidth};B(UJ,M);
UJ.prototype.disposeInternal=function(){UJ.superClass_.disposeInternal.call(this);XF(this.resizeTarget_,Vz,this.handleResize_,!1,this);this.resizeTarget_=null;iF&&!I(md)||SG(this.sizeElement_);delete this.sizeElement_};UJ.prototype.handleResize_=function(){var a=this.sizeElement_.offsetWidth;this.lastWidth_!=a&&(this.lastWidth_=a,this.dispatchEvent(eu))};var VJ=function(a,b,d){this.rangeArray=null;if(a.length!=b.length)return null;this.storeInversion_(a,d);this.values=b};VJ.prototype.storeInversion_=function(a,b){this.rangeArray=a;for(var d=1;d<a.length;d++)null==a[d]?a[d]=a[d-1]+1:b&&(a[d]+=a[d-1])};VJ.prototype.at=function(a){a=this.getLeast(a);return 0>a?null:this.values[a]};VJ.prototype.getLeast=function(a){for(var b=this.rangeArray,d=0,e=b.length;8<e-d;){var f=e+d>>1;b[f]<=a?d=f:e=f}for(;d<e&&!(a<b[d]);++d);return d-1};var WJ=null,XJ=function(a){if(44032<=a&&55203>=a)return 16==a%28?10:11;WJ||(WJ=new VJ([0,10,1,2,1,18,95,33,13,1,594,112,275,7,263,45,1,1,1,2,1,2,1,1,56,5,11,11,48,21,16,1,101,7,1,1,6,2,2,1,4,33,1,1,1,30,27,91,11,58,9,34,4,1,9,1,3,1,5,43,3,136,31,1,17,37,1,1,1,1,3,8,4,1,2,1,7,8,2,2,21,8,1,2,17,39,1,1,1,2,6,6,1,9,5,4,2,2,12,2,15,2,1,17,39,2,3,12,4,8,6,17,2,3,14,1,17,39,1,1,3,8,4,1,20,2,29,1,2,17,39,1,1,2,1,6,6,9,6,4,2,2,13,1,16,1,18,41,1,1,1,12,1,9,1,41,3,17,37,4,3,5,7,8,3,2,8,2,30,2,17,39,1,1,1,1,
2,1,3,1,5,1,8,9,1,3,2,30,2,17,38,3,1,2,5,7,1,9,1,10,2,30,2,22,48,5,1,2,6,7,19,2,13,46,2,1,1,1,6,1,12,8,50,46,2,1,1,1,9,11,6,14,2,58,2,27,1,1,1,1,1,4,2,49,14,1,4,1,1,2,5,48,9,1,57,33,12,4,1,6,1,2,2,2,1,16,2,4,2,2,4,3,1,3,2,7,3,4,13,1,1,1,2,6,1,1,14,1,98,96,72,88,349,3,931,15,2,1,14,15,2,1,14,15,2,15,15,14,35,17,2,1,7,8,1,2,9,1,1,9,1,45,3,155,1,87,31,3,4,2,9,1,6,3,20,19,29,44,9,3,2,1,69,23,2,3,4,45,6,2,1,1,1,8,1,1,1,2,8,6,13,128,4,1,14,33,1,1,5,1,1,5,1,1,1,7,31,9,12,2,1,7,23,1,4,2,2,2,2,2,11,3,2,36,
2,1,1,2,3,1,1,3,2,12,36,8,8,2,2,21,3,128,3,1,13,1,7,4,1,4,2,1,203,64,523,1,2,2,24,7,49,16,96,33,3070,3,141,1,96,32,554,6,105,2,30164,4,1,10,33,1,80,2,272,1,3,1,4,1,23,2,2,1,24,30,4,4,3,8,1,1,13,2,16,34,16,1,27,18,24,24,4,8,2,23,11,1,1,12,32,3,1,5,3,3,36,1,2,4,2,1,3,1,69,35,6,2,2,2,2,12,1,8,1,1,18,16,1,3,6,1,5,48,1,1,3,2,2,5,2,1,1,32,9,1,2,2,5,1,1,201,14,2,1,1,9,8,2,1,2,1,2,1,1,1,18,11184,27,49,1028,1024,6942,1,737,16,16,7,216,1,158,2,89,3,513,1,2051,15,40,7,1,1472,1,1,1,53,14,1,57,2,1,45,3,4,2,1,
1,2,1,66,3,36,5,1,6,2,75,2,1,48,3,9,1,1,1258,1,1,1,2,6,1,1,22681,62,4,25042,1,1,3,3,1,5,8,8,2,7,30,4,148,3,8097,26,790017,255],[1,13,1,12,1,0,1,0,1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,1,0,2,0,2,0,2,0,2,1,0,2,0,2,0,2,0,1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,4,0,5,2,4,2,0,4,2,4,6,4,0,2,5,0,2,0,5,2,4,0,5,2,0,2,4,2,4,6,0,2,5,0,2,0,5,0,2,4,0,5,2,4,2,6,2,5,0,2,0,2,4,0,5,2,0,4,2,4,6,0,2,0,2,4,0,5,2,0,2,4,2,4,6,2,5,0,2,0,5,0,2,0,5,2,4,2,4,6,0,2,0,4,0,5,0,2,4,2,6,2,5,0,2,0,4,0,5,2,0,4,2,4,2,4,2,4,2,6,2,5,0,2,
0,4,0,5,0,2,4,2,4,6,0,2,0,2,0,4,0,5,6,2,4,2,4,2,4,0,5,0,2,0,4,2,6,0,2,0,5,0,2,0,4,2,0,2,0,5,0,2,0,2,0,2,0,2,0,4,5,2,4,2,6,0,2,0,2,0,2,0,5,0,2,4,2,0,6,4,2,5,0,5,0,4,2,5,2,5,0,5,0,5,2,5,2,0,4,2,0,2,5,0,2,0,7,8,9,0,2,0,5,2,6,0,5,2,6,0,5,2,0,5,2,5,0,2,4,2,4,2,4,2,6,2,0,2,0,2,0,2,0,5,2,4,2,4,2,4,2,0,5,0,5,0,4,0,4,0,5,2,4,0,5,0,5,4,2,4,2,6,0,2,0,2,4,2,0,2,4,0,5,2,4,2,4,2,4,2,4,6,5,0,2,0,2,4,0,5,4,2,4,2,6,4,5,0,5,0,5,0,2,4,2,4,2,4,2,6,0,5,4,2,4,2,0,5,0,2,0,2,4,2,0,2,0,4,2,0,2,0,1,2,1,0,1,0,1,0,2,0,2,0,6,
0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,6,5,2,5,4,2,4,0,5,0,5,0,5,0,5,0,4,0,5,4,6,0,2,0,5,0,2,0,5,2,4,6,0,7,2,4,0,5,0,5,2,4,2,4,2,4,6,0,5,2,4,2,4,2,0,2,0,2,4,0,5,0,5,0,5,0,5,2,0,2,0,2,0,2,0,2,0,5,4,2,4,0,4,6,0,5,0,5,0,5,0,4,2,4,2,4,0,4,6,0,11,8,9,0,2,0,2,0,2,0,2,0,1,0,2,0,1,0,2,0,2,0,2,6,0,4,2,4,0,2,6,0,2,4,0,4,2,4,6,2,0,1,0,2,0,2,4,2,6,0,2,4,0,4,2,4,6,0,2,4,2,4,2,6,2,0,4,2,0,2,4,2,0,4,2,1,2,0,2,0,2,0,2,0,14,0,1,2],!0));return WJ.at(a)};var YJ=[pm,Jo,Tj,kl,Pk,c,sw,WB,$w],ZJ={"":1,n:Math.pow(1024,-3),u:Math.pow(1024,-2),m:1/1024,k:1024,K:1024,M:Math.pow(1024,2),G:Math.pow(1024,3),T:Math.pow(1024,4),P:Math.pow(1024,5)},$J=function(a){return 32>=a||4096<=a&&(8192<=a&&8198>=a||8200<=a&&8203>=a||5760==a||6158==a||8232==a||8233==a||8287==a||12288==a)},aK=H&&I(8),bK=jF?"<wbr></wbr>":fF?"&shy;":aK?"&#8203;":"<wbr>";var cK={sanitizedContentKindHtml:!0},dK={sanitizedContentUri:!0},eK={sanitizedContentTrustedResourceUri:!0},fK={sanitizedContentKindText:!0},gK=function(){throw Error("Do not instantiate directly");};gK.prototype.contentDir=null;gK.prototype.getContent=function(){return this.content};gK.prototype.toString=function(){return this.content};
gK.prototype.toSafeHtml=function(){if(this.contentKind===fK)return rG(this.toString());if(this.contentKind!==cK)throw Error("Sanitized content was not of kind TEXT or HTML.");return pH(eG(mo),this.toString(),this.contentDir)};var hK=function(){gK.call(this)};B(hK,gK);var kK=function(a,b,d,e){E(b,no);a.innerHTML=iK(b(d||jK,void 0,e))},iK=function(a){if(!nD(a))return String(a);if(a instanceof gK){if(a.contentKind===cK)return gE(a.getContent());if(a.contentKind===fK)return LD(a.getContent())}eE(oo+a);return VC},lK=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,jK={};var mK=function(a,b){null!=a&&this.append.apply(this,arguments)};w=mK.prototype;w.buffer_=c;w.set=function(a){this.buffer_=c+a};w.append=function(a,b,d){this.buffer_+=String(a);if(null!=b)for(var e=1;e<arguments.length;e++)this.buffer_+=arguments[e];return this};w.clear=function(){this.buffer_=c};w.toString=function(){return this.buffer_};var nK=function(a){if(null!=a)switch(a.contentDir){case 1:return 1;case -1:return-1;case 0:return 0}return null},oK=function(){gK.call(this)};B(oK,gK);oK.prototype.contentKind=cK;var qK=function(a){return null!=a&&a.contentKind===cK?(E(a.constructor===oK),a):a instanceof oG?pK(pG(a),a.getDirection()):pK(LD(String(String(a))),nK(a))},rK=function(){gK.call(this)};B(rK,gK);rK.prototype.contentKind={sanitizedContentJsChars:!0};rK.prototype.contentDir=1;var sK=function(){gK.call(this)};B(sK,gK);
sK.prototype.contentKind=dK;sK.prototype.contentDir=1;var tK=function(){gK.call(this)};B(tK,gK);tK.prototype.contentKind=eK;tK.prototype.contentDir=1;var uK=function(){gK.call(this)};B(uK,gK);uK.prototype.contentKind={sanitizedContentHtmlAttribute:!0};uK.prototype.contentDir=1;var vK=function(){gK.call(this)};B(vK,hK);vK.prototype.contentKind={sanitizedContentCss:!0};vK.prototype.contentDir=1;
var wK=function(a){function b(a){this.content=a}b.prototype=a.prototype;return function(a){return new b(String(a))}},pK=function(a){function b(a){this.content=a}b.prototype=a.prototype;return function(a,e){var f=new b(String(a));void 0!==e&&(f.contentDir=e);return f}}(oK);wK(rK);wK(sK);wK(tK);wK(uK);wK(vK);
var xK=function(a,b,d,e){d=new EG(d);E(a,no);a:if(b=a(b||jK,void 0,e),a=(d||GG()).createElement(k),b=iK(b),e=b.match(lK),E(!e,ip,e&&e[0],b),a.innerHTML=b,1==a.childNodes.length&&(b=a.firstChild,1==b.nodeType)){a=b;break a}return a},yK=function(a){function b(a){this.content=a}b.prototype=a.prototype;return function(a){return(a=String(a))?new b(a):c}};
(function(a){function b(a){this.content=a}b.prototype=a.prototype;return function(a,e){var f=String(a);if(!f)return c;f=new b(f);void 0!==e&&(f.contentDir=e);return f}})(oK);yK(rK);yK(tK);yK(sK);yK(uK);yK(vK);
var zK=/^<(?:area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)\b/,GK=function(a,b){if(!b)return String(a).replace(AK,c).replace(BK,wb);var d=String(a).replace(/\[/g,lb),e=[],f=[],d=d.replace(AK,function(a,d){if(d&&(d=d.toLowerCase(),b.hasOwnProperty(d)&&b[d])){var g=e.length,D=Nd,N=c;if(a.charAt(1)!=Wc){for(var D=Md,O;O=CK.exec(a);)if(O[1]&&O[1].toLowerCase()==Vs){if(O=O[2]){if(O.charAt(0)==Db||O.charAt(0)==Ca)O=O.substr(1,O.length-2);O=O.toLowerCase();if(O==rw||
O==yA||O==or)N=qa+O+Ca}break}CK.lastIndex=0}e[g]=D+d+Ue;f[g]=N;return fq+g+n}return c}),d=String(d).replace(DK,EK),g=FK(e),d=d.replace(/\[(\d+)\]/g,function(a,b){return f[b]&&e[b]?e[b].substr(0,e[b].length-1)+f[b]+Ue:e[b]});return d+g},FK=function(a){for(var b=[],d=0,e=a.length;d<e;++d){var f=a[d];f.charAt(1)==Wc?(f=qE(b,f),0>f?a[d]=c:(a[d]=b.slice(f).reverse().join(c),b.length=f)):f==Ke&&0>qE(b,Zd)&&0>qE(b,ge)?a[d]=c:zK.test(f)||b.push(Nd+f.substring(1))}return b.reverse().join(c)},HK=function(a){return null!=
a&&a.contentKind===cK?(E(a.constructor===oK),String(GK(a.getContent())).replace(DK,EK)):LD(String(a))},LK=function(a){if(null!=a&&a.contentKind===dK)return E(a.constructor===sK),String(a).replace(IK,JK);if(null!=a&&a.contentKind===eK)return E(a.constructor===tK),String(a).replace(IK,JK);a instanceof gG?a=String(hG(a)).replace(IK,JK):a instanceof mG?(a instanceof mG&&a.constructor===mG&&a.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===lG?a=a.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:
(eE(Ft+a+Eb+iD(a)),a=VB),a=String(a).replace(IK,JK)):(a=String(a),KK.test(a)?a=a.replace(IK,JK):(eE(Ff,[a]),a=$a));return a},MK={"\x00":jb,"\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':zb,"&":pb,"'":kb,"-":"&#45;","/":"&#47;","<":wb,"=":"&#61;",">":vb,"`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"},EK=function(a){return MK[a]},NK={"\x00":"%00","\u0001":"%01","\u0002":"%02","\u0003":"%03","\u0004":"%04","\u0005":"%05","\u0006":"%06",
"\u0007":"%07","\b":"%08","\t":"%09","\n":"%0A","\x0B":"%0B","\f":"%0C","\r":"%0D","\u000e":"%0E","\u000f":"%0F","\u0010":"%10","\u0011":"%11","\u0012":"%12","\u0013":"%13","\u0014":"%14","\u0015":"%15","\u0016":"%16","\u0017":"%17","\u0018":"%18","\u0019":"%19","\u001a":"%1A","\u001b":"%1B","\u001c":"%1C","\u001d":"%1D","\u001e":"%1E","\u001f":"%1F"," ":"%20",'"':"%22","'":fb,"(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","\u007f":"%7F","\u0085":"%C2%85","\u00a0":"%C2%A0",
"\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","\uff01":"%EF%BC%81","\uff03":"%EF%BC%83","\uff04":"%EF%BC%84","\uff06":"%EF%BC%86","\uff07":"%EF%BC%87","\uff08":"%EF%BC%88","\uff09":"%EF%BC%89","\uff0a":"%EF%BC%8A","\uff0b":"%EF%BC%8B","\uff0c":"%EF%BC%8C","\uff0f":"%EF%BC%8F","\uff1a":"%EF%BC%9A","\uff1b":"%EF%BC%9B","\uff1d":"%EF%BC%9D","\uff1f":"%EF%BC%9F","\uff20":"%EF%BC%A0","\uff3b":"%EF%BC%BB","\uff3d":"%EF%BC%BD"},JK=function(a){return NK[a]},DK=/[\x00\x22\x27\x3c\x3e]/g,IK=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,
KK=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,AK=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,BK=/</g,CK=/([a-zA-Z][a-zA-Z0-9:\-]*)[\t\n\r\u0020]*=[\t\n\r\u0020]*("[^"]*"|'[^']*')/g;var OK=function(a){return pK(a.content?qK(a.content):c)};OK.soyTemplateName="fava.dom.strict.toHtml";var PK=function(){};hD(PK);PK.prototype.nextId_=0;PK.prototype.getNextUniqueId=function(){return Id+(this.nextId_++).toString(36)};var QK,RK=function(a,b){this.inUse_={};TJ.call(this,a,b)};B(RK,TJ);w=RK.prototype;w.idGenerator_=PK.getInstance();w.createObject=function(){return this.idGenerator_.getNextUniqueId()};w.getObject=function(){var a=RK.superClass_.getObject.call(this);this.inUse_[a]=!0;return a};w.releaseObject=function(a){if(!this.inUse_[a])throw Error("Unrecognized obj released.");RK.superClass_.releaseObject.call(this,a);delete this.inUse_[a]};w.disposeObject=function(){};
w.dispose=function(){RK.superClass_.dispose.call(this);this.inUse_=null};var SK=function(){if(!QK){var a=void 0;if(QK)throw Error("The id pool is already initialized");a=x(a)?a:1E3;QK=new RK(a,2800)}return QK};var TK=function(a){M.call(this);this.context_=a;this.dom_=a.get(IH).getDomHelper();this.favaComponentComponentHandler_=new NH(this)},UK;B(TK,M);var VK=[];w=TK.prototype;w.getContext=function(){return this.context_};w.getAppContext=function(){return this.context_};w.getId=function(){this.id_||(this.id_=SK().getObject());return this.id_};w.getDomHelper=function(){return this.dom_};
w.makeId=function(a){this.ensureNotDisposed_();if(!this.idToFragmentMap_){var b=WK();this.idToFragmentMap_=b.getObject();this.fragmentToIdMap_=b.getObject()}a=String(a);b=this.fragmentToIdMap_.get(a);b||(b=SK().getObject(),this.fragmentToIdMap_.set(a,b),this.idToFragmentMap_.set(b,a));return b};w.ensureNotDisposed_=function(){if(this.isDisposed())throw Error("Component already disposed");};w.getFragment=function(a){return this.idToFragmentMap_?this.idToFragmentMap_.get(a):null};
w.getElementByFragment=function(a){return this.idToFragmentMap_?this.dom_.getElement(this.makeId(a)):null};w.getType=function(){var a;a=this.constructor;if(!CH[a]&&(a=String(a),!CH[a])){var b=/function ([^\(]+)/.exec(a);CH[a]=b?b[1]:gq}a=CH[a];return a};w.toString=function(){return this.getType()};w.getParent=function(){return this.parent_};w.getParentEventTarget=function(){return this.getParent()};w.setParentEventTarget=function(){throw Error("Unsupported operation");};
w.getNumChildren=function(){return this.children_?this.children_.length:0};w.getChildAt=function(a){return this.children_?this.children_[a]:null};w.getChildren=function(){return this.children_?this.children_:[]};w.getElement=function(a){this.ensureDomCreated();return x(a)?this.getElementByFragment(String(a)):this.element_};w.isDomCreated=function(){return!!this.element_};w.isInDocument=function(){return this.isInDocument_};w.ensureDomCreated=function(){this.ensureNotDisposed_();this.element_||this.createDom_()};
w.createDom=function(){this.element_=this.dom_.createElement(bt)};w.createDom_=function(){this.createDom()};w.setParent=function(a){if(this.parent_)throw Error("Parent is already set.");this.parent_=a;for(a=0;a<VK.length;a++)VK[a].parentSet(this)};w.clearParent=function(){this.parent_=null;for(var a=0;a<VK.length;a++)VK[a].parentClear(this)};w.addChild_=function(a){this.addChildAt_(a,this.getNumChildren())};
w.addChildAt_=function(a,b){a.getParent()||0>b||b>this.getNumChildren()||(this.children_=this.children_||[],JE(this.children_,b,0,a),a.setParent(this),this.isInDocument_&&a.enterDocument())};w.removeChild_=function(a){for(var b=this.getNumChildren(),d=0;d<b;d++)if(this.getChildAt(d)==a)return this.removeChildAt_(d);return!1};
w.removeChildAt_=function(a){if(0>a||a>=this.getNumChildren())return!1;var b=this.children_[a];CE(this.children_,a);b.clearParent();b.isInDocument_&&b.exitDocument();this.children_=this.children_.length?this.children_:null;return!0};w.clear_=function(){for(;this.removeChildAt_(0););};w.enterDocument=function(){this.isInDocument_=!0;if(this.children_)for(var a=this.children_,b=a.length,d=0;d<b;d++)a[d].enterDocument()};
w.exitDocument=function(){this.isInDocument_=!1;if(this.children_)for(var a=this.children_,b=a.length,d=0;d<b;d++)a[d].exitDocument()};
w.disposeInternal=function(){this.isInDocument_&&(this.exitDocument(),SG(this.element_));this.element_=null;for(var a=GE(this.getChildren()),b=0;b<a.length;b++)a[b].dispose();this.id_&&SK().releaseObject(this.id_);if(this.idToFragmentMap_){a=this.idToFragmentMap_.getKeys();for(b=0;b<a.length;b++){var d=a[b],e=this.idToFragmentMap_.get(d);this.idToFragmentMap_.remove(d);this.fragmentToIdMap_.remove(e);SK().releaseObject(d)}b=WK();b.releaseObject(this.idToFragmentMap_);b.releaseObject(this.fragmentToIdMap_);
this.fragmentToIdMap_=this.idToFragmentMap_=null}this.favaComponentComponentHandler_.dispose();this.favaComponentComponentHandler_=null;TK.superClass_.disposeInternal.call(this)};w.getHandler=function(){return this.favaComponentComponentHandler_};var XK=function(a,b){TJ.call(this,a,b)};B(XK,TJ);XK.prototype.createObject=function(){return new vH};var WK=function(){if(!UK){var a=void 0;if(UK)throw Error("The id map pool is already initialized");a=x(a)?a:400;UK=new XK(a,400)}return UK};var YK=function(a){TK.call(this,a)};B(YK,TK);w=YK.prototype;w.xDirty_=!0;w.yDirty_=!0;w.isDirty=function(a){if(!a)return this.xDirty_||this.yDirty_;switch(a){case p:return this.xDirty_;case r:return this.yDirty_;default:throw Error("fava.layout.BaseLayoutComponent.isDirty Invalid dimension for is dirty.");}};
w.markDirty=function(a){if(!a&&this.xDirty_&&this.yDirty_||a==p&&this.xDirty_||a==r&&this.yDirty_)return!1;if(a)switch(a){case p:this.xDirty_=!0;break;case r:this.yDirty_=!0;break;default:throw Error("fava.layout.BaseLayoutComponent.markDirty Invalid dimension for mark dirty.");}else this.xDirty_=this.yDirty_=!0;return!0};
w.markClean=function(a){if(!a&&!this.xDirty_&&!this.yDirty_||a==p&&!this.xDirty_||a==r&&!this.yDirty_)return!1;if(a)switch(a){case p:this.xDirty_=!1;break;case r:this.yDirty_=!1;break;default:throw Error("fava.layout.BaseLayoutComponent.markClean Invalid dimension for mark clean.");}else this.xDirty_=this.yDirty_=!1;return!0};var ZK=function(a){if(a.classList)return a.classList;a=a.className;return y(a)&&a.match(/\S+/g)||[]},$K=function(a,b){return a.classList?a.classList.contains(b):AE(ZK(a),b)},U=function(a,b){a.classList?a.classList.add(b):$K(a,b)||(a.className+=0<a.className.length?ga+b:b)},aL=function(a,b){if(a.classList)F(b,function(b){U(a,b)});else{var d={};F(ZK(a),function(a){d[a]=!0});F(b,function(a){d[a]=!0});a.className=c;for(var e in d)a.className+=0<a.className.length?ga+e:e}},bL=function(a,b){a.classList?
a.classList.remove(b):$K(a,b)&&(a.className=sE(ZK(a),function(a){return a!=b}).join(ga))},cL=function(a,b){a.classList?F(b,function(b){bL(a,b)}):a.className=sE(ZK(a),function(a){return!AE(b,a)}).join(ga)},dL=function(a,b,d){d?U(a,b):bL(a,b)};var eL=function(){};eL.prototype.setElement=function(a){this.element_=a};eL.prototype.computeSpace=function(){jF?this.computeWebKitMbpSpace_():H?this.computeIeMbpSpace_():this.computeNonIeWebkitMbpSpace_()};eL.prototype.computeWebKitMbpSpace_=function(){var a=this.getCascadedStyleWebKit_(this.element_);this.computeCascadedStyleMbpSpace_(a)};
var fL=[Hr,Jr,Lr,Fr,"borderLeftStyle","borderRightStyle","borderTopStyle","borderBottomStyle",Vy,Wy,Xy,Uy,"marginLeft","marginRight","marginTop","marginBottom"],gL={borderLeftWidth:jd,borderRightWidth:jd,borderTopWidth:jd,borderBottomWidth:jd,borderLeftStyle:iy,borderRightStyle:iy,borderTopStyle:iy,borderBottomStyle:iy,paddingLeft:jd,paddingRight:jd,paddingTop:jd,paddingBottom:jd,marginLeft:jd,marginRight:jd,marginTop:jd,marginBottom:jd};
eL.prototype.getCascadedStyleWebKit_=function(a){var b={},d=a.ownerDocument.defaultView.getMatchedCSSRules(a,c),e,f=[];f.push(gL);if(d)for(e=0;e<d.length;e++)f.push(d[e].style);f.push(a.style);for(e=0;e<f.length;e++)for(a=f[e],d=0;d<fL.length;d++){var g=fL[d],m=a[g];m&&(b[g]=m)}return b};
eL.prototype.computeNonIeWebkitMbpSpace_=function(){var a=this.element_.ownerDocument.defaultView.getComputedStyle(this.element_,c)||gL;this.paddingBorderSizeX_=parseInt(a.borderLeftWidth,10)+parseInt(a.borderRightWidth,10)+parseInt(a.paddingLeft,10)+parseInt(a.paddingRight,10);this.marginSizeX_=parseInt(a.marginLeft,10)+parseInt(a.marginRight,10);this.paddingBorderSizeY_=parseInt(a.borderTopWidth,10)+parseInt(a.borderBottomWidth,10)+parseInt(a.paddingTop,10)+parseInt(a.paddingBottom,10);this.marginSizeY_=
parseInt(a.marginTop,10)+parseInt(a.marginBottom,10)};eL.prototype.computeIeMbpSpace_=function(){this.element_.currentStyle?this.computeCascadedStyleMbpSpace_(this.element_.currentStyle):x(this.paddingBorderSizeX_)||(this.paddingBorderSizeX_=this.marginSizeX_=this.paddingBorderSizeY_=this.marginSizeY_=0)};
eL.prototype.computeCascadedStyleMbpSpace_=function(a){this.paddingBorderSizeX_=hL(a.borderLeftWidth,a.borderLeftStyle)+hL(a.borderRightWidth,a.borderRightStyle)+iL(a.paddingLeft,Ty)+iL(a.paddingRight,Ty);this.marginSizeX_=jL(a.marginLeft)+jL(a.marginRight);this.paddingBorderSizeY_=hL(a.borderTopWidth,a.borderTopStyle)+hL(a.borderBottomWidth,a.borderBottomStyle)+iL(a.paddingTop,Ty)+iL(a.paddingBottom,Ty);this.marginSizeY_=jL(a.marginTop)+jL(a.marginBottom)};
var hL=function(a,b){return b==iy?0:iL(a,Cr)},jL=function(a){return a==or?0:iL(a,vw)},iL=function(a){if(a==jd)a=0;else{var b=a.match(LJ);a=(b&&b[0]||null)==Iz?parseInt(a,10):0}return a};var kL=function(a){TK.call(this,a)};B(kL,YK);var lL=!(H&&!I(Fd)),mL=new eL;w=kL.prototype;w.minWidth_=0;w.minHeight_=0;w.maxWidth_=Infinity;w.maxHeight_=Infinity;w.widthFlex_=1;w.heightFlex_=-1;w.display_=!0;w.width_=0;w.height_=0;w.cachedDisplay_=!0;w.cachedWidth_=-1;w.cachedHeight_=-1;w.cachedMarginSizeX_=0;w.cachedMarginSizeY_=0;w.cachedPaddingBorderSizeX_=0;w.cachedPaddingBorderSizeY_=0;
w.getMinSize=function(a){switch(a){case p:return this.minWidth_;case r:return this.minHeight_;default:throw Error("LC getMinSize bad dim");}};w.getMaxSize=function(a){switch(a){case p:return this.maxWidth_;case r:return this.maxHeight_;default:throw Error("LC getMaxSize bad dim");}};
w.constrainSize=function(a,b){switch(a){case p:return Math.min(Math.max(b,this.minWidth_),this.maxWidth_);case r:return Math.min(Math.max(b,this.minHeight_),this.maxHeight_);default:throw Error("LC constrainSize bad dim");}};w.getFlexValue=function(a){switch(a){case p:return this.widthFlex_;case r:return this.heightFlex_;default:throw Error("LC getFlexValue bad dim");}};w.isSizeToContent=function(a){return-1==this.getFlexValue(a)};
w.isSimpleSizeToContent=function(a){return this.isSizeToContent(a)&&0==this.getMinSize(a)&&Infinity==this.getMaxSize(a)};w.getSize=function(a){switch(a){case p:return this.cachedDisplay_?this.width_:0;case r:return this.cachedDisplay_?this.height_:0;default:throw Error("LC getSize bad dim");}};w.getWidth=function(){return this.getSize(p)};w.getHeight=function(){return this.getSize(r)};w.getElementStyle_=function(){this.elementStyle_||(this.elementStyle_=this.getElement().style);return this.elementStyle_};
w.getCachedContentSize_=function(a){switch(a){case p:return this.cachedXContentSize_;case r:return this.cachedYContentSize_;default:throw Error("LC getCCS_ bad dim");}};w.getCachedCanMeasureContentDirectly_=function(a){switch(a){case p:return this.cachedXCanMeasureContentDirectly_;case r:return this.cachedYCanMeasureContentDirectly_;default:throw Error("LC getCCMD bad dim");}};
w.isPreparedForDirectContentMeasure_=function(a){switch(a){case p:return this.isXPreparedForDirectContentMeasure_;case r:return this.isYPreparedForDirectContentMeasure_;default:throw Error("LC isPFDCM bad dim");}};w.disposeInternal=function(){kL.superClass_.disposeInternal.call(this);var a=this.getId();delete nL.x[a];delete nL.y[a];delete this.elementStyle_};w.createDom_=function(){kL.superClass_.createDom_.call(this);U(this.element_,Yf)};w.setLayout=function(a){this.layout_=a};
w.setMinWidth=function(a){this.setConstraintsInternal(a,void 0,void 0,void 0)};w.setMinHeight=function(a){this.setConstraintsInternal(void 0,a,void 0,void 0)};w.setMinSize=function(a,b){switch(a){case p:this.setConstraintsInternal(b,void 0,void 0,void 0);break;case r:this.setConstraintsInternal(void 0,b,void 0,void 0);break;default:throw Error("LC setMinSize bad dim");}};w.setMaxWidth=function(a){this.setConstraintsInternal(void 0,void 0,a,void 0)};
w.setMaxSize=function(a,b){switch(a){case p:this.setConstraintsInternal(void 0,void 0,b,void 0);break;case r:this.setConstraintsInternal(void 0,void 0,void 0,b);break;default:throw Error("LS setMaxSize bad dim");}};
w.setConstraintsInternal=function(a,b,d,e){var f=this.minWidth_,g=this.minHeight_,m=this.maxWidth_,q=this.maxHeight_;a=x(a)?a:f;b=x(b)?b:g;d=x(d)?d:m;e=x(e)?e:q;if(a!=f||b!=g||d!=m||e!=q){var u=!0;0>a&&(u=!1);0>b&&(u=!1);a>d&&(u=!1);b>e&&(u=!1);if(!u)throw Error("LC setConstraintsInternal bad constraints");this.minWidth_=a;this.minHeight_=b;this.maxWidth_=d;this.maxHeight_=e;a==f&&d==m?this.markDirty(r):b==g&&e==q?this.markDirty(p):this.markDirty()}};
w.setWidthFlex=function(a){this.setFlexValuesInternal(a,void 0)};w.setHeightFlex=function(a){this.setFlexValuesInternal(void 0,a)};w.setFlexValue=function(a,b){switch(a){case p:this.setFlexValuesInternal(b,void 0);break;case r:this.setFlexValuesInternal(void 0,b);break;default:throw Error("LC setFlexValue bad dim");}};
w.setFlexValuesInternal=function(a,b){var d=this.widthFlex_,e=this.heightFlex_,f=x(a)?a:d,g=x(b)?b:e;if(f!=d||g!=e){var m=!0;0>f&&-1!=f&&(m=!1);0>g&&-1!=g&&(m=!1);if(!m)throw Error("LC setFlexValuesInternal bad flex");this.widthFlex_=f;this.heightFlex_=g;f==d?this.markDirty(r):g==e?this.markDirty(p):this.markDirty()}};w.setStaticWidth=function(a){this.setStaticSize(p,a)};w.setStaticHeight=function(a){this.setStaticSize(r,a)};
w.setStaticSize=function(a,b){oL++;this.setMinSize(a,0);this.setMaxSize(a,b);this.setMinSize(a,b);this.setFlexValue(a,0);pL()};w.setDisplay=function(a){a!=this.display_&&(this.display_=a,this.markDirtyDueToDisplayChange())};w.setSize_=function(a,b){switch(a){case p:this.setSizes_(b,this.getHeight());break;case r:this.setSizes_(this.getWidth(),b);break;default:throw Error("LC setSize_ bad dim");}};w.setSizes_=function(a,b){this.width_=a;this.height_=b};
w.markDirty=function(a){if(!kL.superClass_.markDirty.call(this,a))return!1;a&&a!=p||(this.cachedXCanMeasureContentDirectly_=this.cachedXContentSize_=null,this.isXPreparedForDirectContentMeasure_=!1);a&&a!=r||(this.cachedYCanMeasureContentDirectly_=this.cachedYContentSize_=null,this.isYPreparedForDirectContentMeasure_=!1);var b=this.getParent();b&&this.display_&&b.markDirty(a);return!0};
w.markDirtyDueToDisplayChange=function(){var a=kL.superClass_.markDirty.call(this);a&&(this.cachedXCanMeasureContentDirectly_=this.cachedXContentSize_=null,this.isXPreparedForDirectContentMeasure_=!1,this.cachedYCanMeasureContentDirectly_=this.cachedYContentSize_=null,this.isYPreparedForDirectContentMeasure_=!1);var b=this.getParent();b&&(a||this.display_)&&b.markDirty();return!0};
w.setCachedContentSize_=function(a,b){switch(a){case p:this.cachedXContentSize_=b;break;case r:this.cachedYContentSize_=b;break;default:throw Error("LC setCCS bad dim");}};w.setCachedCanMeasureContentDirectly_=function(a,b){switch(a){case p:this.cachedXCanMeasureContentDirectly_=b;break;case r:this.cachedYCanMeasureContentDirectly_=b;break;default:throw Error("LC setCCMCD bad dim");}};
w.setIsPreparedForDirectContentMeasure_=function(a,b){switch(a){case p:this.isXPreparedForDirectContentMeasure_=b;break;case r:this.isYPreparedForDirectContentMeasure_=b;break;default:throw Error(Uk);}};
w.measureContentSize=function(a){if(!this.display_)return 0;var b=this.getCachedContentSize_(a);if(b)return b;if(this.canMeasureContentDirectly(a))return this.prepareForDirectContentMeasure(a),b=this.getElement(),b=a==p?b.offsetWidth:b.offsetHeight,b+=a==p?this.cachedMarginSizeX_:this.cachedMarginSizeY_,this.setCachedContentSize_(a,b),b;this.updateDisplayStyle_(a);b=this.measureContentSizeNow(a);b+=a==p?this.cachedMarginSizeX_:this.cachedMarginSizeY_;this.setCachedContentSize_(a,b);return b};
w.measureContentSizeNow=function(){return 0};w.canMeasureContentDirectly=function(a){if(!this.display_||this.getCachedCanMeasureContentDirectly_(a))return!0;var b=this.canMeasureContentDirectlyNow(a);this.setCachedCanMeasureContentDirectly_(a,b);return b};w.canMeasureContentDirectlyNow=function(){return!1};
w.prepareForDirectContentMeasure=function(a){if(!this.canMeasureContentDirectly(a))throw Error("LC prepareFDCM can't measure direct");this.isPreparedForDirectContentMeasure_(a)||(this.updateDisplayStyle_(a),this.display_&&this.prepareForDirectContentMeasureNow(a),this.setIsPreparedForDirectContentMeasure_(a,!0))};w.prepareForDirectContentMeasureNow=function(a){this.clearSizeStyle(a)};
w.isStaticallySized_=function(a){switch(a){case p:return-1==this.cachedWidth_;case r:return-1==this.cachedHeight_;default:throw Error(Uk);}};w.hide=function(){this.setDisplayStyle_(!1)};w.updateDisplayStyle_=function(a){this.setDisplayStyle_(this.display_)&&a==p&&this.markDirty(r)};w.setDisplayStyle_=function(a){return this.cachedDisplay_!=a?(this.cachedDisplay_=a,this.getElementStyle_().display=a?c:iy,!0):!1};
w.setSizeStyle=function(a,b){if(a==p){if(this.cachedWidth_!=b)return this.cachedWidth_=b,this.getElementStyle_().width=qL(b),!0}else if(this.cachedHeight_!=b)return this.cachedHeight_=b,this.getElementStyle_().height=qL(b),!0;return!1};w.clearSizeStyle=function(a){this.setSizeStyle(a,-1)};
w.updateMarginBorderPaddingMeasurements=function(){if(this.display_){var a=this.getElement();mL.setElement(a);mL.computeSpace();var a=mL.paddingBorderSizeX_,b=mL.marginSizeX_;if(a!=this.cachedPaddingBorderSizeX_||b!=this.cachedMarginSizeX_)this.markDirty(p),this.cachedMarginSizeX_=b,this.cachedPaddingBorderSizeX_=a;a=mL.paddingBorderSizeY_;b=mL.marginSizeY_;if(a!=this.cachedPaddingBorderSizeY_||b!=this.cachedMarginSizeY_)this.markDirty(r),this.cachedMarginSizeY_=b,this.cachedPaddingBorderSizeY_=a;
this.updateChildrenMarginBorderPaddingMeasurements()}};
w.updateLayout=function(a,b,d){this.getElement();var e=this.display_;d=!!d;this.updateDisplayStyle_(a);if(e&&(this.isDirty()||b!=this.getSize(a)||d!=this.isStaticallySized_(a))){if(-1!=this.getFlexValue(a)&&-1==b)throw Error("LC updateLayout bad C_S not sToC");e=0;if(-1!=b)switch(a){case p:e=this.cachedMarginSizeX_+this.cachedPaddingBorderSizeX_;break;case r:e=this.cachedMarginSizeY_+this.cachedPaddingBorderSizeY_}this.updateElementSizeAndChildren(a,b-e,d)}this.markClean(a);this.afterUpdateLayout(a)};
w.afterUpdateLayout=function(){};w.updateChildrenMarginBorderPaddingMeasurements=function(){for(var a=this.getChildren(),b=0;b<a.length;b++){var d=a[b];d instanceof kL&&d.updateMarginBorderPaddingMeasurements()}};w.updateElementSizeAndChildren=function(a,b,d){this.getElement();this.setSize_(a,b+(a==p?this.cachedPaddingBorderSizeX_:this.cachedPaddingBorderSizeY_));this.setSizeStyle(a,-1==b||d?-1:b)};
var qL=function(a){return 0>a?c:lL?a+Iz:a},nL={x:{},y:{}},rL=[],sL=function(a,b,d){for(var e=nL[a],f=d.length,g=0,m=0;m<f;m++){var q=null,u=d[m],q=u.getMinSize(a);u.getMaxSize(a);var D=u.getFlexValue(a),N=u.isSimpleSizeToContent(a);switch(D){case 0:break;case -1:N?q=-1:(D=u.measureContentSize(a),q=u.constrainSize(a,D),q=q==D?-1:q);break;default:-1==b?g++:q=u.constrainSize(a,b)}e[u.getId()]=q}if(g){for(m=b=0;m<f;m++)u=d[m],q=e[u.getId()],-1==q&&(q=u.measureContentSize(a)),b=Math.max(b,q);for(m=0;m<
f&&0<g;m++)u=d[m],0<u.getFlexValue(a)&&(g--,e[u.getId()]=u.constrainSize(a,b))}},tL=[],uL=[],vL=[],wL=[],xL=[],yL=function(a,b,d,e,f,g,m){for(a=GE(a);;){for(var q=f/g,u=[],D=[],N=0,O=0,ea=a.length,V=0;V<ea;V++){var Ka=a[V],rb=Math.ceil(e[Ka]*q);rb<b[Ka]?(u.push(Ka),N+=b[Ka]-rb):rb>d[Ka]&&(D.push(Ka),O+=rb-d[Ka]);m[Ka]=rb}if(0==u.length&&0==D.length)break;var Bg=0,Zb=0,q=function(f){m[f]=Math.min(Math.max(m[f],b[f]),d[f]);Bg+=m[f];Zb+=e[f];DE(a,f)};if(O==N){for(V=0;V<D.length;V++)q(D[V]);for(V=0;V<
u.length;V++)q(u[V]);break}else{if(O>N)for(E(0<D.length,IB),V=0;V<D.length;V++)q(D[V]);else for(E(0<u.length,JB),V=0;V<u.length;V++)q(u[V]);f-=Bg;g-=Zb}}};kL.prototype.isPossiblyVisible=function(){if(!this.isInDocument())return!1;for(var a=this.layout_,b=this;b&&b!=a;){if(!b.cachedDisplay_)return!1;b=b.getParent()}return!0};var zL=function(a,b){this.defaultValue=a;this.type=b;this.value=a};zL.prototype.get=function(){return this.value};zL.prototype.getType=function(){return this.type};zL.prototype.set=function(a){this.value=a};var AL=function(a){zL.call(this,a,qr)};B(AL,zL);AL.prototype.get=function(){return this.value};var BL=new AL(!1),CL=new AL(!0),DL=new AL(!0);var FL=function(a,b,d){TK.call(this,a);this.sizeProvider_=b;this.fontSizeMonitor_=d;this.fontSizeChangeHandlers_=[];PF(this.sizeProvider_,$A,this.checkSize,!1,this);EL.set(this.getId(),this);PF(this.fontSizeMonitor_,eu,this.handleFontSizeChange_,!1,this)};B(FL,YK);w=FL.prototype;w.layoutPhase_=0;w.fontSizeChangeTimeout_=null;w.getChild=function(){return this.getChildAt(0)};w.isLayoutInProgress=function(){return 0<this.layoutPhase_};
w.setChild=function(a){if(!this.getChild()){oL++;try{this.getDomHelper().appendChild(this.getElement(),a.getElement()),a.setLayout(this),this.addChild_(a),this.markDirty()}finally{pL()}}};w.removeChild=function(){var a=this.getChild(),b=this.removeChildAt_(0);b&&(a.setLayout(null),this.getDomHelper().removeNode(a.getElement()),this.markDirty());return b};
w.disposeInternal=function(){EL.remove(this.getId());XF(this.fontSizeMonitor_,eu,this.handleFontSizeChange_,!1,this);EL.isEmpty()&&GL&&(GL.dispose(),GL=null);XF(this.sizeProvider_,$A,this.checkSize,!1,this);this.sizeProvider_.dispose();this.sizeProvider_=null;FL.superClass_.disposeInternal.call(this)};w.checkSize=function(){this.cachedSize_=null;this.markDirty()};
w.markDirty=function(a){if(3==this.layoutPhase_&&(2==a||!a))throw Error("Cannot mark x dimension dirty during y layout");a=FL.superClass_.markDirty.call(this,a);this.maybeDoLayout();return a};w.maybeDoLayout=function(){if(this.isDirty()&&!this.isLayoutInProgress()&&0<this.getNumChildren()&&this.isInDocument()&&!(0<oL)){oL++;try{this.layout_()}finally{pL()}}};
w.layout_=function(){BL.get()||(this.layoutPhase_=1,this.dispatchEvent(pw),this.cachedSize_||(this.cachedSize_=this.sizeProvider_.getSize(this)),CL.get()&&this.getChild().updateMarginBorderPaddingMeasurements(),this.layoutPhase_=2,this.isDirty(p)&&this.layoutChild_(p,this.cachedSize_.width),this.markClean(p),this.layoutPhase_=3,this.isDirty(r)&&this.layoutChild_(r,this.cachedSize_.height),this.markClean(r),this.layoutPhase_=0,this.dispatchEvent(ow))};
w.layoutChild_=function(a,b){var d=this.getChild();rL.push(d);sL(a,b,rL);rL.length=0;var e=nL[a][d.getId()];d.updateLayout(a,e,!1)};w.handleFontSizeChange_=function(){this.fontSizeChangeTimeout_||(this.fontSizeChangeTimeout_=SJ(Lt,this.handleFontSizeChangeHelper_,50,this))};w.handleFontSizeChangeHelper_=function(){oL++;for(var a=this.fontSizeChangeHandlers_,b=0;b<a.length;b++)a[b]();this.checkSize();pL();this.fontSizeChangeTimeout_=null};w.addFontSizeChangeHandler=function(a){this.fontSizeChangeHandlers_.push(a)};
w.removeFontSizeChangeHandler=function(a){DE(this.fontSizeChangeHandlers_,a)};var pL=function(){if(0<oL&&(oL--,!(0<oL)))for(var a=EL.getValues(),b=0;b<a.length;b++)a[b].maybeDoLayout()},GL=null,oL=0,EL=new vH,HL=function(){M.call(this)};B(HL,M);HL.prototype.getSize=function(){return new zG(0,0)};HL.prototype.notifyResized=function(){this.dispatchEvent($A)};
var LL=function(a,b){M.call(this);this.resizeHandler_=new NH(this);if(b)for(var d=0;d<b.length;d++)this.resizeHandler_.listen(b[d],Vz,this.handleResize_);a&&(IL.push(this),JL||KL())},JL;B(LL,HL);var IL=[];LL.prototype.size_=null;LL.prototype.handleResizeTimeout_=null;var KL=function(){F(IL,ML);JL=SJ(Nt,KL,500)},ML=function(a){var b=a.getSizeInternal();AG(a.size_,b)||a.notifyResized()};LL.prototype.getSize=function(){this.size_||(this.size_=this.getSizeInternal());return this.size_};
LL.prototype.handleResize_=function(){H&&!I(od)?(this.handleResizeTimeout_&&dD.clearTimeout(this.handleResizeTimeout_),this.handleResizeTimeout_=SJ(Mt,this.notifyResized,500,this)):this.notifyResized()};LL.prototype.notifyResized=function(){this.size_=this.handleResizeTimeout_=null;this.dispatchEvent($A)};LL.prototype.disposeInternal=function(){this.resizeHandler_.dispose();var a=JL;DE(IL,this);0==IL.length&&a&&dD.clearTimeout(a);LL.superClass_.disposeInternal.call(this)};
var NL=function(a,b){this.documentEl_=a.document.documentElement;var d=jF&&lF||fF&&a.self!=a.top,e=b||[];e.unshift(a);this.reservedSpace_=new zG(0,0);LL.call(this,d,e)};B(NL,LL);
NL.prototype.getSizeInternal=function(){if(jF){var a=this.documentEl_.getBoundingClientRect();return new zG((a.width?a.width:this.documentEl_.clientWidth)-this.reservedSpace_.width,(a.height?a.height:this.documentEl_.clientHeight)-this.reservedSpace_.height)}return new zG(this.documentEl_.clientWidth-this.reservedSpace_.width,this.documentEl_.clientHeight-this.reservedSpace_.height)};NL.prototype.disposeInternal=function(){this.documentEl_=null;NL.superClass_.disposeInternal.call(this)};var OL=function(a){if(a.altKey&&!a.ctrlKey||a.metaKey||112<=a.keyCode&&123>=a.keyCode)return!1;switch(a.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!iF;default:return 166>a.keyCode||183<a.keyCode}},RL=function(a,b,d,e,f){if(!(H||gF||jF&&I(zd)))return!0;if(kF&&f)return PL(a);if(f&&!e)return!1;lD(b)&&
(b=QL(b));if(!d&&(17==b||18==b||kF&&91==b))return!1;if((jF||gF)&&e&&d)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(H&&e&&b==a)return!1;switch(a){case 13:return!0;case 27:return!(jF||gF)}return PL(a)},PL=function(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||(jF||gF)&&0==a)return!0;switch(a){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;
default:return!1}},QL=function(a){if(iF)a=SL(a);else if(kF&&jF)a:switch(a){case 93:a=91;break a}return a},SL=function(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};var TL=function(a,b){M.call(this);a&&this.attach(a,b)};B(TL,M);w=TL.prototype;w.element_=null;w.keyPressKey_=null;w.keyDownKey_=null;w.keyUpKey_=null;w.lastKey_=-1;w.keyCode_=-1;w.altKey_=!1;
var UL={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},VL={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},WL=H||gF||jF&&I(zd),XL=kF&&iF;w=TL.prototype;
w.handleKeyDown_=function(a){(jF||gF)&&(17==this.lastKey_&&!a.ctrlKey||18==this.lastKey_&&!a.altKey||kF&&91==this.lastKey_&&!a.metaKey)&&this.resetState();-1==this.lastKey_&&(a.ctrlKey&&17!=a.keyCode?this.lastKey_=17:a.altKey&&18!=a.keyCode?this.lastKey_=18:a.metaKey&&91!=a.keyCode&&(this.lastKey_=91));WL&&!RL(a.keyCode,this.lastKey_,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.keyCode_=QL(a.keyCode),XL&&(this.altKey_=a.altKey))};w.resetState=function(){this.keyCode_=this.lastKey_=-1};
w.handleKeyup_=function(a){this.resetState();this.altKey_=a.altKey};
w.handleEvent=function(a){var b=a.event_,d,e,f=b.altKey;H&&a.type==Wv?(d=this.keyCode_,e=13!=d&&27!=d?b.keyCode:0):(jF||gF)&&a.type==Wv?(d=this.keyCode_,e=0<=b.charCode&&63232>b.charCode&&PL(d)?b.charCode:0):fF&&!jF?(d=this.keyCode_,e=PL(d)?b.keyCode:0):(d=b.keyCode||this.keyCode_,e=b.charCode||0,XL&&(f=this.altKey_),kF&&63==e&&224==d&&(d=191));var g=d=QL(d),m=b.keyIdentifier;d?63232<=d&&d in UL?g=UL[d]:25==d&&a.shiftKey&&(g=9):m&&m in VL&&(g=VL[m]);a=g==this.lastKey_;this.lastKey_=g;b=new YL(g,e,
a,b);b.altKey=f;this.dispatchEvent(b)};w.getElement=function(){return this.element_};w.attach=function(a,b){this.keyUpKey_&&this.detach();this.element_=a;this.keyPressKey_=PF(this.element_,Wv,this,b);this.keyDownKey_=PF(this.element_,Vv,this.handleKeyDown_,b,this);this.keyUpKey_=PF(this.element_,Xv,this.handleKeyup_,b,this)};
w.detach=function(){this.keyPressKey_&&(YF(this.keyPressKey_),YF(this.keyDownKey_),YF(this.keyUpKey_),this.keyUpKey_=this.keyDownKey_=this.keyPressKey_=null);this.element_=null;this.keyCode_=this.lastKey_=-1};w.disposeInternal=function(){TL.superClass_.disposeInternal.call(this);this.detach()};var YL=function(a,b,d,e){EF.call(this,e);this.type=Uv;this.keyCode=a;this.charCode=b;this.repeat=d};B(YL,EF);var $L=function(a){M.call(this);this.dom_=a||GG();this.rightToLeft_=ZL;this.id_=null;this.inDocument_=!1;this.element_=null;this.googUiComponentHandler_=void 0;this.childIndex_=this.children_=this.parent_=this.model_=null;this.wasDecorated_=!1};B($L,M);$L.prototype.idGenerator_=PK.getInstance();
var ZL=null,aM=function(a,b){switch(a){case 1:return b?Xs:tt;case 2:return b?fv:gC;case 4:return b?Sq:Os;case 8:return b?JA:kC;case 16:return b?es:eC;case 32:return b?bu:Ar;case 64:return b?Iy:os}throw Error("Invalid component state");};w=$L.prototype;w.getId=function(){return this.id_||(this.id_=this.idGenerator_.getNextUniqueId())};w.setId=function(a){this.parent_&&this.parent_.childIndex_&&(VE(this.parent_.childIndex_,this.id_),WE(this.parent_.childIndex_,a,this));this.id_=a};w.getElement=function(){return this.element_};
w.getElementStrict=function(){var a=this.element_;E(a,Bh);return a};w.setElementInternal=function(a){this.element_=a};w.getElementsByClass=function(a){return this.element_?this.dom_.getElementsByClass(a,this.element_):[]};w.getElementByClass=function(a){return this.element_?this.dom_.getElementByClass(a,this.element_):null};w.getHandler=function(){this.googUiComponentHandler_||(this.googUiComponentHandler_=new NH(this));return this.googUiComponentHandler_};
w.setParent=function(a){if(this==a)throw Error(wp);if(a&&this.parent_&&this.id_&&this.parent_.getChild(this.id_)&&this.parent_!=a)throw Error(wp);this.parent_=a;$L.superClass_.setParentEventTarget.call(this,a)};w.getParent=function(){return this.parent_};w.setParentEventTarget=function(a){if(this.parent_&&this.parent_!=a)throw Error("Method not supported");$L.superClass_.setParentEventTarget.call(this,a)};w.getDomHelper=function(){return this.dom_};w.isInDocument=function(){return this.inDocument_};
w.createDom=function(){this.element_=this.dom_.createElement(k)};w.render=function(a){this.render_(a)};w.renderBefore=function(a){this.render_(a.parentNode,a)};w.render_=function(a,b){if(this.inDocument_)throw Error(Sh);this.element_||this.createDom();a?a.insertBefore(this.element_,b||null):this.dom_.document_.body.appendChild(this.element_);this.parent_&&!this.parent_.isInDocument()||this.enterDocument()};
w.decorate=function(a){if(this.inDocument_)throw Error(Sh);if(a&&this.canDecorate(a)){this.wasDecorated_=!0;var b=FG(a);this.dom_&&this.dom_.document_==b||(this.dom_=GG(a));this.decorateInternal(a);this.enterDocument()}else throw Error("Invalid element to decorate");};w.canDecorate=function(){return!0};w.decorateInternal=function(a){this.element_=a};w.enterDocument=function(){this.inDocument_=!0;this.forEachChild(function(a){!a.isInDocument()&&a.getElement()&&a.enterDocument()})};
w.exitDocument=function(){this.forEachChild(function(a){a.isInDocument()&&a.exitDocument()});this.googUiComponentHandler_&&this.googUiComponentHandler_.removeAll();this.inDocument_=!1};
w.disposeInternal=function(){this.inDocument_&&this.exitDocument();this.googUiComponentHandler_&&(this.googUiComponentHandler_.dispose(),delete this.googUiComponentHandler_);this.forEachChild(function(a){a.dispose()});!this.wasDecorated_&&this.element_&&SG(this.element_);this.parent_=this.model_=this.element_=this.childIndex_=this.children_=null;$L.superClass_.disposeInternal.call(this)};w.makeId=function(a){return this.getId()+Rc+a};w.setModel=function(a){this.model_=a};
w.getElementByFragment=function(a){if(!this.inDocument_)throw Error("Operation not supported while component is not in document");return this.dom_.getElement(this.makeId(a))};w.addChild=function(a,b){this.addChildAt(a,this.getChildCount(),b)};
w.addChildAt=function(a,b,d){E(!!a,kn);if(a.inDocument_&&(d||!this.inDocument_))throw Error(Sh);if(0>b||b>this.getChildCount())throw Error("Child component index out of bounds");this.childIndex_&&this.children_||(this.childIndex_={},this.children_=[]);if(a.getParent()==this){var e=a.getId();this.childIndex_[e]=a;DE(this.children_,a)}else WE(this.childIndex_,a.getId(),a);a.setParent(this);JE(this.children_,b,0,a);a.inDocument_&&this.inDocument_&&a.getParent()==this?(d=this.getContentElement(),b=d.childNodes[b]||
null,b!=a.getElement()&&d.insertBefore(a.getElement(),b)):d?(this.element_||this.createDom(),b=this.getChildAt(b+1),a.render_(this.getContentElement(),b?b.element_:null)):this.inDocument_&&!a.inDocument_&&a.element_&&a.element_.parentNode&&1==a.element_.parentNode.nodeType&&a.enterDocument()};w.getContentElement=function(){return this.element_};w.isRightToLeft=function(){null==this.rightToLeft_&&(this.rightToLeft_=DJ(this.inDocument_?this.element_:this.dom_.document_.body));return this.rightToLeft_};
w.setRightToLeft=function(a){if(this.inDocument_)throw Error(Sh);this.rightToLeft_=a};w.hasChildren=function(){return!!this.children_&&0!=this.children_.length};w.getChildCount=function(){return this.children_?this.children_.length:0};w.getChild=function(a){if(this.childIndex_&&a){var b=this.childIndex_;a=(null!==b&&a in b?b[a]:void 0)||null}else a=null;return a};w.getChildAt=function(a){return this.children_?this.children_[a]||null:null};
w.forEachChild=function(a,b){this.children_&&F(this.children_,a,b)};w.indexOfChild=function(a){return this.children_&&a?pE(this.children_,a):-1};w.removeChild=function(a,b){if(a){var d=y(a)?a:a.getId();a=this.getChild(d);d&&a&&(VE(this.childIndex_,d),DE(this.children_,a),b&&(a.exitDocument(),a.element_&&SG(a.element_)),a.setParent(null))}if(!a)throw Error("Child is not in parent component");return a};w.removeChildAt=function(a,b){return this.removeChild(this.getChildAt(a),b)};
w.removeChildren=function(a){for(var b=[];this.hasChildren();)b.push(this.removeChildAt(0,a));return b};var bM=!!vD&&!!vD.DebugWindow&&!!vD.Logger;var cM=function(a){this.diagnostics_=a.getOrNull(HH)};cM.prototype.logAction=function(a){if(this.diagnostics_)try{this.diagnostics_.recordInstantAction(a)}catch(b){}};cM.prototype.startUserAction=function(a){if(this.diagnostics_)try{this.userAction_=this.diagnostics_.startUserAction(a)}catch(b){}};cM.prototype.finishUserAction=function(){if(this.diagnostics_&&this.userAction_){try{this.diagnostics_.finishUserAction(this.userAction_)}catch(a){}this.userAction_=null}};var dM=function(a,b,d,e){CF.call(this,a);this.index=b||0;this.photoId=e||null};B(dM,CF);var eM=function(a,b,d,e){CF.call(this,Mz);this.userName=b;this.shapeId=e||null};B(eM,CF);var fM=function(a){M.call(this);this.setParentEventTarget(a)};B(fM,M);var gM=function(){AF.call(this)};B(gM,AF);gM.prototype.init=function(){this.savedExceptions_=[]};gM.prototype.reportException=function(a,b){this.isDisposed()||b instanceof tI||this.sender_||this.savedExceptions_&&10>this.savedExceptions_.length&&this.savedExceptions_.push([a,b])};var hM=new gM;var iM=function(){};iM.prototype.cachedOptions_=null;iM.prototype.getOptions=function(){return this.cachedOptions_||(this.cachedOptions_=this.internalGetOptions())};var jM,kM=function(){};B(kM,iM);kM.prototype.createInstance=function(){var a=this.getProgId_();return a?new ActiveXObject(a):new XMLHttpRequest};kM.prototype.internalGetOptions=function(){var a={};this.getProgId_()&&(a[0]=!0,a[1]=!0);return a};
kM.prototype.getProgId_=function(){if(!this.ieProgId_&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var a=[ol,nl,ml,xl],b=0;b<a.length;b++){var d=a[b];try{return new ActiveXObject(d),this.ieProgId_=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return this.ieProgId_};jM=new kM;var lM=function(a){M.call(this);this.headers=new vH;this.xmlHttpFactory_=a||null;this.active_=!1;this.xhrOptions_=this.xhr_=null;this.lastUri_=c;this.lastErrorCode_=0;this.inAbort_=this.inOpen_=this.inSend_=this.errorDispatched_=!1;this.timeoutInterval_=0;this.timeoutId_=null;this.responseType_=c;this.useXhr2Timeout_=this.progressEventsEnabled_=this.withCredentials_=!1};B(lM,M);var mM=/^https?$/i,nM=[Am,"PUT"],oM=[];lM.prototype.cleanupSend_=function(){this.dispose();DE(oM,this)};
lM.prototype.setTimeoutInterval=function(a){this.timeoutInterval_=Math.max(0,a)};
lM.prototype.send=function(a,b,d,e){if(this.xhr_)throw Error("[goog.net.XhrIo] Object is active with another request="+this.lastUri_+"; newUri="+a);b=b?b.toUpperCase():Uj;this.lastUri_=a;this.lastErrorCode_=0;this.errorDispatched_=!1;this.active_=!0;this.xhr_=this.createXhr();this.xhrOptions_=this.xmlHttpFactory_?this.xmlHttpFactory_.getOptions():jM.getOptions();this.xhr_.onreadystatechange=z(this.onReadyStateChange_,this);this.progressEventsEnabled_&&Fy in this.xhr_&&(this.xhr_.onprogress=z(function(a){this.onProgressHandler_(a,
!0)},this),this.xhr_.upload&&(this.xhr_.upload.onprogress=z(this.onProgressHandler_,this)));try{this.inOpen_=!0,this.xhr_.open(b,String(a),!0),this.inOpen_=!1}catch(g){this.error_(5,g);return}a=d||c;var f=this.headers.clone();e&&zH(e,function(a,b){f.set(b,a)});e=yE(f.getKeys(),pM);d=dD.FormData&&a instanceof dD.FormData;!AE(nM,b)||e||d||f.set(bi,gr);f.forEach(function(a,b){this.xhr_.setRequestHeader(b,a)},this);this.responseType_&&(this.xhr_.responseType=this.responseType_);SE(this.xhr_,PC)&&(this.xhr_.withCredentials=
this.withCredentials_);try{this.cleanUpTimeoutTimer_(),0<this.timeoutInterval_&&((this.useXhr2Timeout_=qM(this.xhr_))?(this.xhr_.timeout=this.timeoutInterval_,this.xhr_.ontimeout=z(this.timeout_,this)):this.timeoutId_=nI(this.timeout_,this.timeoutInterval_,this)),this.inSend_=!0,this.xhr_.send(a),this.inSend_=!1}catch(g){this.error_(5,g)}};var qM=function(a){return H&&I(9)&&lD(a.timeout)&&x(a.ontimeout)},pM=function(a){return As==a.toLowerCase()};w=lM.prototype;
w.createXhr=function(){return this.xmlHttpFactory_?this.xmlHttpFactory_.createInstance():jM.createInstance()};w.timeout_=function(){"undefined"!=typeof cD&&this.xhr_&&(this.lastErrorCode_=8,this.dispatchEvent(DB),this.abort(8))};w.error_=function(a){this.active_=!1;this.xhr_&&(this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1);this.lastErrorCode_=a;this.dispatchErrors_();this.cleanUpXhr_()};w.dispatchErrors_=function(){this.errorDispatched_||(this.errorDispatched_=!0,this.dispatchEvent(ss),this.dispatchEvent(xt))};
w.abort=function(a){this.xhr_&&this.active_&&(this.active_=!1,this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1,this.lastErrorCode_=a||7,this.dispatchEvent(ss),this.dispatchEvent(Hq),this.cleanUpXhr_())};w.disposeInternal=function(){this.xhr_&&(this.active_&&(this.active_=!1,this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1),this.cleanUpXhr_(!0));lM.superClass_.disposeInternal.call(this)};
w.onReadyStateChange_=function(){if(!this.isDisposed())if(this.inOpen_||this.inSend_||this.inAbort_)this.onReadyStateChangeHelper_();else this.onReadyStateChangeEntryPoint_()};w.onReadyStateChangeEntryPoint_=function(){this.onReadyStateChangeHelper_()};
w.onReadyStateChangeHelper_=function(){if(this.active_&&"undefined"!=typeof cD&&(!this.xhrOptions_[1]||4!=this.getReadyState()||2!=this.getStatus()))if(this.inSend_&&4==this.getReadyState())nI(this.onReadyStateChange_,0,this);else if(this.dispatchEvent(Pz),this.isComplete()){this.active_=!1;try{this.isSuccess()?(this.dispatchEvent(ss),this.dispatchEvent(mB)):(this.lastErrorCode_=6,this.getStatus(),this.dispatchErrors_())}finally{this.cleanUpXhr_()}}};
w.onProgressHandler_=function(a,b){E(a.type===Fz,Su);this.dispatchEvent(rM(a,Fz));this.dispatchEvent(rM(a,b?ht:oC))};var rM=function(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}};w=lM.prototype;w.cleanUpXhr_=function(a){if(this.xhr_){this.cleanUpTimeoutTimer_();var b=this.xhr_,d=this.xhrOptions_[0]?gD:null;this.xhrOptions_=this.xhr_=null;a||this.dispatchEvent(Oz);try{b.onreadystatechange=d}catch(e){}}};
w.cleanUpTimeoutTimer_=function(){this.xhr_&&this.useXhr2Timeout_&&(this.xhr_.ontimeout=null);lD(this.timeoutId_)&&(oI(this.timeoutId_),this.timeoutId_=null)};w.isActive=function(){return!!this.xhr_};w.isComplete=function(){return 4==this.getReadyState()};w.isSuccess=function(){var a=this.getStatus(),b;a:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:b=!0;break a;default:b=!1}return b||0===a&&!this.isLastUriEffectiveSchemeHttp_()};
w.isLastUriEffectiveSchemeHttp_=function(){var a=String(this.lastUri_).match(pI)[1]||null;!a&&dD.self&&dD.self.location&&(a=dD.self.location.protocol,a=a.substr(0,a.length-1));return mM.test(a?a.toLowerCase():c)};w.getReadyState=function(){return this.xhr_?this.xhr_.readyState:0};w.getStatus=function(){try{return 2<this.getReadyState()?this.xhr_.status:-1}catch(a){return-1}};w.getLastUri=function(){return String(this.lastUri_)};
w.getResponseText=function(){try{return this.xhr_?this.xhr_.responseText:c}catch(a){return c}};w.getResponse=function(){try{if(!this.xhr_)return null;if(Wz in this.xhr_)return this.xhr_.response;switch(this.responseType_){case c:case xB:return this.xhr_.responseText;case lr:if(Sw in this.xhr_)return this.xhr_.mozResponseArrayBuffer}return null}catch(a){return null}};var sM=function(a,b){this.domain_=this.userInfo_=this.scheme_=c;this.port_=null;this.fragment_=this.path_=c;this.ignoreCase_=this.isReadOnly_=!1;var d;a instanceof sM?(this.ignoreCase_=x(b)?b:a.ignoreCase_,this.setScheme(a.scheme_),this.setUserInfo(a.userInfo_),this.setDomain(a.getDomain()),this.setPort(a.port_),this.setPath(a.getPath()),this.setQueryData(a.queryData_.clone()),this.setFragment(a.getFragment())):a&&(d=String(a).match(pI))?(this.ignoreCase_=!!b,this.setScheme(d[1]||c,!0),this.setUserInfo(d[2]||
c,!0),this.setDomain(d[3]||c,!0),this.setPort(d[4]),this.setPath(d[5]||c,!0),this.setQueryData(d[6]||c,!0),this.setFragment(d[7]||c,!0)):(this.ignoreCase_=!!b,this.queryData_=new tM(null,null,this.ignoreCase_))};w=sM.prototype;
w.toString=function(){var a=[],b=this.scheme_;b&&a.push(uM(b,vM,!0),Id);var d=this.getDomain();if(d||b==Tt)a.push(Zc),(b=this.userInfo_)&&a.push(uM(b,vM,!0),Ye),a.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,db)),d=this.port_,null!=d&&a.push(Id,String(d));if(d=this.getPath())this.hasDomain()&&d.charAt(0)!=Wc&&a.push(Wc),a.push(uM(d,d.charAt(0)==Wc?wM:xM,!0));(d=this.getEncodedQuery())&&a.push(We,d);(d=this.getFragment())&&a.push(Ya,uM(d,yM));return a.join(c)};
w.resolve=function(a){var b=this.clone(),d=a.hasScheme();d?b.setScheme(a.scheme_):d=a.hasUserInfo();d?b.setUserInfo(a.userInfo_):d=a.hasDomain();d?b.setDomain(a.getDomain()):d=a.hasPort();var e=a.getPath();if(d)b.setPort(a.port_);else if(d=a.hasPath()){if(e.charAt(0)!=Wc)if(this.hasDomain()&&!this.hasPath())e=Wc+e;else{var f=b.getPath().lastIndexOf(Wc);-1!=f&&(e=b.getPath().substr(0,f+1)+e)}f=e;if(f==Sc||f==Rc)e=c;else if(QD(f,Uc)||QD(f,Yc)){for(var e=0==f.lastIndexOf(Wc,0),f=f.split(Wc),g=[],m=0;m<
f.length;){var q=f[m++];q==Rc?e&&m==f.length&&g.push(c):q==Sc?((1<g.length||1==g.length&&g[0]!=c)&&g.pop(),e&&m==f.length&&g.push(c)):(g.push(q),e=!0)}e=g.join(Wc)}else e=f}d?b.setPath(e):d=a.hasQuery();d?b.setQueryData(a.getDecodedQuery()):d=a.hasFragment();d&&b.setFragment(a.getFragment());return b};w.clone=function(){return new sM(this)};w.setScheme=function(a,b){this.enforceReadOnly();if(this.scheme_=b?zM(a,!0):a)this.scheme_=this.scheme_.replace(/:$/,c);return this};w.hasScheme=function(){return!!this.scheme_};
w.setUserInfo=function(a,b){this.enforceReadOnly();this.userInfo_=b?zM(a):a;return this};w.hasUserInfo=function(){return!!this.userInfo_};w.getDomain=function(){return this.domain_};w.setDomain=function(a,b){this.enforceReadOnly();this.domain_=b?zM(a,!0):a;return this};w.hasDomain=function(){return!!this.domain_};w.setPort=function(a){this.enforceReadOnly();if(a){a=Number(a);if(isNaN(a)||0>a)throw Error("Bad port number "+a);this.port_=a}else this.port_=null;return this};
w.hasPort=function(){return null!=this.port_};w.getPath=function(){return this.path_};w.setPath=function(a,b){this.enforceReadOnly();this.path_=b?zM(a,!0):a;return this};w.hasPath=function(){return!!this.path_};w.hasQuery=function(){return this.queryData_.toString()!==c};w.setQueryData=function(a,b){this.enforceReadOnly();a instanceof tM?(this.queryData_=a,this.queryData_.setIgnoreCase(this.ignoreCase_)):(b||(a=uM(a,AM)),this.queryData_=new tM(a,null,this.ignoreCase_));return this};
w.getEncodedQuery=function(){return this.queryData_.toString()};w.getDecodedQuery=function(){return this.queryData_.toDecodedString()};w.getQuery=function(){return this.getEncodedQuery()};w.setParameterValue=function(a,b){this.enforceReadOnly();this.queryData_.set(a,b);return this};w.getParameterValue=function(a){return this.queryData_.get(a)};w.getFragment=function(){return this.fragment_};w.setFragment=function(a,b){this.enforceReadOnly();this.fragment_=b?zM(a):a;return this};w.hasFragment=function(){return!!this.fragment_};
w.enforceReadOnly=function(){if(this.isReadOnly_)throw Error("Tried to modify a read-only Uri");};w.setIgnoreCase=function(a){this.ignoreCase_=a;this.queryData_&&this.queryData_.setIgnoreCase(a);return this};
var BM=function(a,b){return a instanceof sM?a.clone():new sM(a,b)},CM=function(a,b){a instanceof sM||(a=BM(a));b instanceof sM||(b=BM(b));return a.resolve(b)},zM=function(a,b){return a?b?decodeURI(a.replace(/%25/g,eb)):decodeURIComponent(a):c},uM=function(a,b,d){return y(a)?(a=encodeURI(a).replace(b,DM),d&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,db)),a):null},DM=function(a){a=a.charCodeAt(0);return cb+(a>>4&15).toString(16)+(a&15).toString(16)},vM=/[#\/\?@]/g,xM=/[\#\?:]/g,wM=/[\#\?]/g,AM=/[\#\?@]/g,
yM=/#/g,tM=function(a,b,d){this.count_=this.keyMap_=null;this.encodedQuery_=a||null;this.ignoreCase_=!!d};w=tM.prototype;w.ensureKeyMapInitialized_=function(){if(!this.keyMap_&&(this.keyMap_=new vH,this.count_=0,this.encodedQuery_)){var a=this;rI(this.encodedQuery_,function(b,d){a.add(decodeURIComponent(b.replace(/\+/g,ga)),d)})}};w.getCount=function(){this.ensureKeyMapInitialized_();return this.count_};
w.add=function(a,b){this.ensureKeyMapInitialized_();this.invalidateCache_();a=this.getKeyName_(a);var d=this.keyMap_.get(a);d||this.keyMap_.set(a,d=[]);d.push(b);this.count_=fE(this.count_)+1;return this};w.remove=function(a){this.ensureKeyMapInitialized_();a=this.getKeyName_(a);return this.keyMap_.containsKey(a)?(this.invalidateCache_(),this.count_=fE(this.count_)-this.keyMap_.get(a).length,this.keyMap_.remove(a)):!1};w.clear=function(){this.invalidateCache_();this.keyMap_=null;this.count_=0};
w.isEmpty=function(){this.ensureKeyMapInitialized_();return 0==this.count_};w.containsKey=function(a){this.ensureKeyMapInitialized_();a=this.getKeyName_(a);return this.keyMap_.containsKey(a)};w.getKeys=function(){this.ensureKeyMapInitialized_();for(var a=this.keyMap_.getValues(),b=this.keyMap_.getKeys(),d=[],e=0;e<b.length;e++)for(var f=a[e],g=0;g<f.length;g++)d.push(b[e]);return d};
w.getValues=function(a){this.ensureKeyMapInitialized_();var b=[];if(y(a))this.containsKey(a)&&(b=FE(b,this.keyMap_.get(this.getKeyName_(a))));else{a=this.keyMap_.getValues();for(var d=0;d<a.length;d++)b=FE(b,a[d])}return b};w.set=function(a,b){this.ensureKeyMapInitialized_();this.invalidateCache_();a=this.getKeyName_(a);this.containsKey(a)&&(this.count_=fE(this.count_)-this.keyMap_.get(a).length);this.keyMap_.set(a,[b]);this.count_=fE(this.count_)+1;return this};
w.get=function(a,b){var d=a?this.getValues(a):[];return 0<d.length?String(d[0]):b};w.setValues=function(a,b){this.remove(a);0<b.length&&(this.invalidateCache_(),this.keyMap_.set(this.getKeyName_(a),GE(b)),this.count_=fE(this.count_)+b.length)};
w.toString=function(){if(this.encodedQuery_)return this.encodedQuery_;if(!this.keyMap_)return c;for(var a=[],b=this.keyMap_.getKeys(),d=0;d<b.length;d++)for(var e=b[d],f=encodeURIComponent(String(e)),e=this.getValues(e),g=0;g<e.length;g++){var m=f;e[g]!==c&&(m+=Te+encodeURIComponent(String(e[g])));a.push(m)}return this.encodedQuery_=a.join(ib)};w.toDecodedString=function(){return zM(this.toString())};w.invalidateCache_=function(){this.encodedQuery_=null};
w.clone=function(){var a=new tM;a.encodedQuery_=this.encodedQuery_;this.keyMap_&&(a.keyMap_=this.keyMap_.clone(),a.count_=this.count_);return a};w.getKeyName_=function(a){a=String(a);this.ignoreCase_&&(a=a.toLowerCase());return a};w.setIgnoreCase=function(a){a&&!this.ignoreCase_&&(this.ensureKeyMapInitialized_(),this.invalidateCache_(),this.keyMap_.forEach(function(a,d){var e=d.toLowerCase();d!=e&&(this.remove(d),this.setValues(e,a))},this));this.ignoreCase_=a};var EM=function(a){LI(this,a,0,-1,null,null)};B(EM,HI);EM.prototype.getNickName=function(){return P(this,1)};EM.prototype.getProfileUrl=function(){return P(this,3)};EM.prototype.getUserName=function(){return P(this,5)};var GM=function(a){LI(this,a,0,-1,FM,null)};B(GM,HI);var FM=[13,18];w=GM.prototype;w.getId=function(){return P(this,1)};w.setId=function(a){Q(this,1,a)};w.getType=function(){return P(this,2)};w.setSourceUrl=function(a){Q(this,6,a)};w.getIsPlusonedByViewer=function(){return P(this,14)};
w.setIsPlusonedByViewer=function(a){Q(this,14,a)};w.getImageUrl=function(){return P(this,15)};w.setImageUrl=function(a){Q(this,15,a)};w.getGlobalCount=function(){return P(this,17)};w.setGlobalCount=function(a){Q(this,17,a)};w.getPersonList=function(){return OI(this,EM,18)};w.setPersonList=function(a){QI(this,18,a)};w.clearPersonList=function(){this.setPersonList([])};var HM=function(a){LI(this,a,c,-1,null,null)};B(HM,HI);HM.prototype.getLightboxResponse=function(){return NI(this,IM,1)};var JM=function(a){LI(this,a,0,-1,null,null)};B(JM,HI);JM.prototype.getResult=function(){return P(this,1)};var LM=function(a){LI(this,a,0,4,KM,null)};B(LM,HI);var KM=[3];LM.prototype.getServerLatencyStats=function(){return P(this,1)};LM.prototype.getErrorDescriptionList=function(){return P(this,3)};var MM=function(a){LI(this,a,0,-1,null,null)};B(MM,HI);
MM.prototype.getMutationToken=function(){return P(this,1)};var NM=function(a){LI(this,a,0,-1,null,null)};B(NM,HI);w=NM.prototype;w.getUrl=function(){return P(this,1)};w.setUrl=function(a){Q(this,1,a)};w.getWidth=function(){return P(this,2)};w.setWidth=function(a){Q(this,2,a)};w.getHeight=function(){return P(this,3)};w.setHeight=function(a){Q(this,3,a)};var PM=function(a){LI(this,a,0,-1,OM,null)};B(PM,HI);var OM=[7];w=PM.prototype;w.getId=function(){return P(this,1)};w.setId=function(a){Q(this,1,a)};
w.getTotalPhotos=function(){return P(this,2)};w.setTotalPhotos=function(a){Q(this,2,a)};w.getTitle=function(){return P(this,3)};w.getCanonicalTitle=function(){return P(this,4)};w.setCanonicalTitle=function(a){Q(this,4,a)};w.getAuthKey=function(){return P(this,5)};w.setAuthKey=function(a){Q(this,5,a)};w.getUrl=function(){return P(this,6)};w.setUrl=function(a){Q(this,6,a)};w.getIsReshareDisabled=function(){return P(this,8)};w.getShowGeoinfo=function(){return P(this,9)};
w.setShowGeoinfo=function(a){Q(this,9,a)};var QM=function(a){LI(this,a,0,-1,null,null)};B(QM,HI);w=QM.prototype;w.getFormatId=function(){return P(this,1)};w.getWidth=function(){return P(this,2)};w.setWidth=function(a){Q(this,2,a)};w.getHeight=function(){return P(this,3)};w.setHeight=function(a){Q(this,3,a)};w.getUrl=function(){return P(this,4)};w.setUrl=function(a){Q(this,4,a)};var SM=function(a){LI(this,a,0,-1,RM,null)};B(SM,HI);var RM=[3];w=SM.prototype;w.getId=function(){return P(this,1)};
w.setId=function(a){Q(this,1,a)};w.getStatus=function(){return P(this,2)};w.setStatus=function(a){Q(this,2,a)};w.getStreamList=function(){return OI(this,QM,3)};w.getTtsUrl=function(){return P(this,4)};w.setTtsUrl=function(a){Q(this,4,a)};var TM={PENDING:0,FAILED:1,READY:2,FINAL:3},VM=function(a){LI(this,a,0,-1,UM,null)};B(VM,HI);var UM=[4,6,9,20];w=VM.prototype;w.getId=function(){return P(this,1)};w.setId=function(a){Q(this,1,a)};w.getTitle=function(){return P(this,2)};
w.getDescription=function(){return P(this,3)};w.setDescription=function(a){Q(this,3,a)};w.getThumbnailList=function(){return OI(this,NM,4)};w.getOriginal=function(){return NI(this,NM,5)};w.getShapeList=function(){return OI(this,WM,6)};w.setShapeList=function(a){QI(this,6,a)};w.getUrl=function(){return P(this,7)};w.setUrl=function(a){Q(this,7,a)};w.getCanEdit=function(){return P(this,8)};w.getCanTag=function(){return P(this,14)};w.getCanPlusOne=function(){return P(this,31)};
w.getTotalComments=function(){return P(this,10)};w.getExifInfo=function(){return NI(this,XM,11)};w.getGeoInfo=function(){return NI(this,YM,12)};w.getHistogram=function(){return NI(this,ZM,15)};w.setHistogram=function(a){PI(this,15,a)};w.getPlusOne=function(){return NI(this,GM,28)};w.setPlusOne=function(a){PI(this,28,a)};w.getOwner=function(){return NI(this,$M,18)};w.setOwner=function(a){PI(this,18,a)};w.getImageFilter=function(){return P(this,21)};w.setImageFilter=function(a){Q(this,21,a)};
w.getVideoInfo=function(){return NI(this,SM,22)};w.setVideoInfo=function(a){PI(this,22,a)};w.getFileSize=function(){return P(this,27)};w.getImageViewCount=function(){return P(this,29)};w.getIsSoftDeleted=function(){return P(this,30)};w.getSoftDeleteAppealStatus=function(){return null==P(this,32)?0:P(this,32)};w.getIsPublic=function(){return P(this,33)};var XM=function(a){LI(this,a,0,-1,null,null)};B(XM,HI);w=XM.prototype;w.getCameraModel=function(){return P(this,2)};
w.getIsoEquivalent=function(){return P(this,3)};w.getExposureTime=function(){return MI(this,4)};w.getApertureFnumber=function(){return MI(this,5)};w.getPhotoTime=function(){return P(this,7)};w.getFocalLength=function(){return MI(this,8)};w.getFlashUsed=function(){return P(this,9)};w.getExposureBias=function(){return MI(this,11)};var YM=function(a){LI(this,a,0,-1,null,null)};B(YM,HI);YM.prototype.getLatitude=function(){return+P(this,1)};YM.prototype.getLongitude=function(){return+P(this,2)};
var ZM=function(a){LI(this,a,0,-1,aN,null)};B(ZM,HI);var aN=[1,2,3];ZM.prototype.getRedDataList=function(){return P(this,1)};ZM.prototype.getGreenDataList=function(){return P(this,2)};ZM.prototype.getBlueDataList=function(){return P(this,3)};var WM=function(a){LI(this,a,0,-1,bN,null)};B(WM,HI);var bN=[8];w=WM.prototype;w.getId=function(){return P(this,1)};w.setId=function(a){Q(this,1,a)};w.getUpperLeftX=function(){return P(this,2)};w.setUpperLeftX=function(a){Q(this,2,a)};
w.getUpperLeftY=function(){return P(this,3)};w.setUpperLeftY=function(a){Q(this,3,a)};w.getLowerRightX=function(){return P(this,4)};w.setLowerRightX=function(a){Q(this,4,a)};w.getLowerRightY=function(){return P(this,5)};w.setLowerRightY=function(a){Q(this,5,a)};w.getCanEdit=function(){return P(this,6)};w.getCanApprove=function(){return P(this,10)};w.getPersonList=function(){return OI(this,$M,8)};w.setPersonList=function(a){QI(this,8,a)};w.clearPersonList=function(){this.setPersonList([])};
w.getStatus=function(){return P(this,9)};w.setStatus=function(a){Q(this,9,a)};w.getNameTagCreator=function(){return NI(this,$M,11)};w.getSource=function(){return P(this,12)};var $M=function(a){LI(this,a,0,-1,null,null)};B($M,HI);w=$M.prototype;w.getId=function(){return P(this,1)};w.setId=function(a){Q(this,1,a)};w.getContactId=function(){return P(this,2)};w.setContactId=function(a){Q(this,2,a)};w.getEmail=function(){return P(this,3)};w.setEmail=function(a){Q(this,3,a)};
w.setNickname=function(a){Q(this,4,a)};w.getFullname=function(){return P(this,5)};w.setFullname=function(a){Q(this,5,a)};w.getProfileUrl=function(){return P(this,7)};w.getDisplayname=function(){return P(this,8)};w.setDisplayname=function(a){Q(this,8,a)};w.getProfilePortraitUrl=function(){return P(this,9)};var dN=function(a){LI(this,a,0,-1,cN,null)};B(dN,HI);var cN=[4];dN.prototype.getOwner=function(){return NI(this,$M,2,1)};dN.prototype.setOwner=function(a){PI(this,2,a)};
dN.prototype.getContainer=function(){return NI(this,PM,3,1)};dN.prototype.getPhotoList=function(){return OI(this,VM,4)};var IM=function(a){LI(this,a,0,-1,eN,null)};B(IM,HI);var eN=[4,5];w=IM.prototype;w.getError=function(){return P(this,1)};w.setError=function(a){Q(this,1,a)};w.getTotalMatches=function(){return P(this,2)};w.getAuthToken=function(){return P(this,3)};w.getPhotoList=function(){return OI(this,VM,5)};var fN=function(){AF.call(this);this.xhrHeaders_={"X-XSRF-Same-Domain":NB};this.handler_=new NH(this);new mK};B(fN,AF);w=fN.prototype;w.serverUrl_="/s2/lbx";w.disposeInternal=function(){fN.superClass_.disposeInternal.call(this);this.handler_.dispose()};w.setServerUrl=function(a){this.serverUrl_=a};w.send=function(a){this.sendXhr_(a)};
w.sendXhr_=function(a){var b=new sM(this.serverUrl_),d=a.queryData_,e=a.getMethod();e==Am&&this.tok_&&d.add(HB,this.tok_);b.setQueryData(d);b=b.toString();this.logRequest_(b);a=z(this.onXhrComplete_,this,a);var d=this.xhrHeaders_,f=new lM;oM.push(f);a&&f.listen(ss,a);f.listenOnce(Oz,f.cleanupSend_);f.setTimeoutInterval(1E4);f.send(b,e,void 0,d)};
w.onXhrComplete_=function(a,b){var d=null,e=null,f=null,d=b.currentTarget;if(d.isSuccess()){var g=this.parseProtectedJson_(d.getLastUri(),d.getResponseText()),d=g.proto?g.proto:[];g.debug&&(e=new LM(g.debug));g.status&&(f=new JM(g.status));g.api&&(g=(new MM(g.api)).getMutationToken(),x(g)&&(this.tok_=g));a.handleResponse(d,f,e)}else a.handleError()};
w.parseProtectedJson_=function(a,b){var d=b.substring(b.indexOf(ob)+11,b.lastIndexOf(nb));try{return kH(d)}catch(e){return hM.reportException(Sn+a+da+d,e),[]}};w.logRequest_=function(){};var W=new UI("phst");new R(W,95);new R(W,104);var gN=new R(W,6);new R(W,114);new R(W,18);new R(W,303);new R(W,304);new R(W,305);new R(W,105);var hN=new R(W,17);new R(W,132);new R(W,133);new R(W,134);new R(W,128);new R(W,118);new R(W,119);new R(W,120);new R(W,56);new R(W,22);new R(W,21);new R(W,24);new R(W,23);new R(W,19);new R(W,20);new R(W,30);new R(W,31);var iN=new R(W,147),jN=new R(W,148);new R(W,137);new R(W,178);new R(W,139);new R(W,285);new R(W,286);new R(W,156);var kN=new R(W,138);new R(W,319);new R(W,320);
new R(W,321);new R(W,322);new R(W,323);new R(W,324);new R(W,325);new R(W,326);new R(W,334);new R(W,327);new R(W,344);new R(W,328);new R(W,329);new R(W,330);new R(W,331);new R(W,39);new R(W,4);new R(W,106);new R(W,27);var lN=new R(W,11);new R(W,25);new R(W,107);var mN=new R(W,7);new R(W,108);new R(W,109);new R(W,110);new R(W,111);new R(W,96);new R(W,112);new R(W,47);new R(W,48);new R(W,49);new R(W,61);new R(W,62);new R(W,346);new R(W,113);new R(W,127);new R(W,15);new R(W,115);new R(W,116);
new R(W,117);new R(W,14);new R(W,28);new R(W,121);new R(W,122);new R(W,123);new R(W,124);new R(W,125);new R(W,126);var nN=new R(W,38);var oN=new R(W,140);new R(W,155);var pN=new R(W,8);new R(W,9);new R(W,158);var qN=new R(W,141),rN=new R(W,149),sN=new R(W,150),tN=new R(W,151),uN=new R(W,152);new R(W,179);new R(W,180);var vN=new R(W,153);new R(W,157);var wN=new R(W,142),xN=new R(W,143),yN=new R(W,146),zN=new R(W,144),AN=new R(W,145),BN=new R(W,5),CN=new R(W,136),DN=new R(W,154);var EN=function(a){M.call(this);this.configService_=PJ(a);this.diagnostics_=a.get(mu)};B(EN,M);EN.prototype.handlePublicProfileSignupNavigation=function(a){MJ(this.configService_.getProfileBaseUrlWithGaiaSession()+a)};EN.prototype.handleEsSignupNavigation=function(){MJ(this.configService_.getProfileBaseUrlWithGaiaSession()+mC)};var FN=function(){};FN.prototype.createPhoto=function(a,b,d,e,f,g,m){return new GN(a,b,d,e,f,g,m)};var HN=function(a){var b=a.getContext();TK.call(this,b);this.wrappedComponent_=a};B(HN,kL);w=HN.prototype;w.getAppContext=function(){return this.wrappedComponent_.getContext()};w.getFlexValue=function(a){return this.wrappedComponent_.getFlexValue(a)};w.getMinSize=function(a){return this.wrappedComponent_.getMinSize(a)};w.getMaxSize=function(a){return this.wrappedComponent_.getMaxSize(a)};w.constrainSize=function(a,b){return this.wrappedComponent_.constrainSize(a,b)};
w.createDom_=function(){HN.superClass_.createDom_.call(this);var a=this.wrappedComponent_;a.ensureDomCreated();this.getDomHelper().appendChild(this.getElement(),a.getElement());this.addChild_(a)};w.disposeInternal=function(){this.isDomCreated()||this.wrappedComponent_.dispose();HN.superClass_.disposeInternal.call(this)};w.setLayout=function(a){HN.superClass_.setLayout.call(this,a);this.wrappedComponent_.setLayout(a)};
w.setConstraintsInternal=function(a,b,d,e){this.wrappedComponent_.setConstraintsInternal(a,b,d,e)};w.setFlexValuesInternal=function(a,b){this.wrappedComponent_.setFlexValuesInternal(a,b)};w.measureContentSizeNow=function(a){return this.wrappedComponent_.measureContentSize(a)};w.canMeasureContentDirectlyNow=function(a){return this.wrappedComponent_.canMeasureContentDirectly(a)};w.prepareForDirectContentMeasureNow=function(a){HN.superClass_.prepareForDirectContentMeasureNow.call(this,a);this.wrappedComponent_.prepareForDirectContentMeasure(a)};
w.updateElementSizeAndChildren=function(a,b,d){var e=!!d,f=this.wrappedComponent_;a==p?-1!=b||d?(HN.superClass_.updateElementSizeAndChildren.call(this,a,b,d),e=!0):(d=f.measureContentSize(a),HN.superClass_.updateElementSizeAndChildren.call(this,a,d,!1)):HN.superClass_.updateElementSizeAndChildren.call(this,a,-1,d);f.updateLayout(a,b,e)};var IN=function(a){TK.call(this,a)};B(IN,kL);w=IN.prototype;w.setLayout=function(a){IN.superClass_.setLayout.call(this,a);for(var b=this.getChildren(),d=0;d<b.length;d++)b[d].setLayout(a)};w.addChild=function(a){this.addChildAt(a,this.getNumChildren())};w.addChildAt=function(a,b){this.addChildrenAt([a],b)};w.addChildren=function(a){this.addChildrenAt(a,this.getNumChildren())};
w.addChildrenAt=function(a,b){var d=this.getNumChildren();if(a.length&&0<=b&&b<=d){this.ensureDomCreated();oL++;try{for(var e=this.isPossiblyVisible(),d=0;d<a.length;d++){var f=b+d,g=a[d];g.ensureDomCreated();!e&&g.display_||g.hide();this.insertChildElementAt(g,f);g.setLayout(this.layout_);this.addChildAt_(g,f)}g.display_&&this.markDirty()}finally{pL()}}};
w.insertChildElementAt=function(a,b){if(b==this.getNumChildren())this.getDomHelper().appendChild(this.getElement(),a.getElement());else{var d=this.getElement();d.insertBefore(a.getElement(),d.childNodes[b])}};w.removeChildAt=function(a){var b=this.getChildAt(a),d=this.removeChildAt_(a);if(d){var e=b.display_;b.setLayout(null);this.removeChildElementFrom(b,a);e&&this.markDirty()}return d};w.removeChild=function(a){if(!this.children_)return!1;oL++;try{var b=pE(this.children_,a);return this.removeChildAt(b)}finally{pL()}};
w.clear=function(){oL++;try{for(;this.removeChildAt(0););}finally{pL()}};w.removeChildElementFrom=function(a){SG(a.getElement())};var JN=function(a,b){TK.call(this,a);this.variableDimension_=b};B(JN,IN);w=JN.prototype;w.measureContentSizeNow=function(a){for(var b=this.getNumChildren(),d=0,e=0;e<b;e++){var f=this.getChildAt(e),g=f.getMinSize(a),m=f.getMaxSize(a),q=f.getFlexValue(a),u=f.isSimpleSizeToContent(a);switch(q){case 0:d+=g;break;case -1:f=f.measureContentSize(a);u||(f=Math.max(f,g),f=Math.min(f,m));d+=f;break;default:d+=g}}return d+=a==p?this.cachedPaddingBorderSizeX_:this.cachedPaddingBorderSizeY_};
w.canMeasureContentDirectlyNow=function(a){if(a==p)return!1;for(var b=this.getNumChildren(),d=0;d<b;d++){var e=this.getChildAt(d);if(!e.isSimpleSizeToContent(a)||!e.canMeasureContentDirectly(a))return!1}return!0};w.prepareForDirectContentMeasureNow=function(a){for(var b=this.getNumChildren(),d=0;d<b;d++)this.getChildAt(d).prepareForDirectContentMeasure(a);this.clearSizeStyle(a)};
w.updateElementSizeAndChildren=function(a,b,d){this.updateElementLayout(a,b,d);this.calculateChildrenSizes_(a,b);this.updateChildrenLayout_(a,b,nL[a])};w.updateElementLayout=function(a,b,d){a==p&&-1==b?JN.superClass_.updateElementSizeAndChildren.call(this,a,this.measureContentSize(a)-this.cachedPaddingBorderSizeX_,!1):JN.superClass_.updateElementSizeAndChildren.call(this,a,b,d)};
w.calculateChildrenSizes_=function(a,b){if(this.getNumChildren()){var d=b,e=this.getChildren();if(a==this.variableDimension_){EI&&(d=Math.floor(60*d)/60);var f=d,d=nL[a];tL.length=uL.length=vL.length=wL.length=0;for(var g=e.length,m=0;m<g;m++){var q=0,q=e[m];q.display_?(uL[m]=q.getFlexValue(a),vL[m]=q.getMinSize(a),wL[m]=q.getMaxSize(a)):(vL[m]=0,wL[m]=0);tL[m]=0}for(var u=!1,m=0;m<g;m++)if(q=e[m],q.display_)if(q.isSimpleSizeToContent(a))tL[m]=-1;else if(q.isSizeToContent(a)){var D=q.measureContentSize(a),
q=q.constrainSize(a,D);tL[m]=q==D?-1:q}else 0==q.getFlexValue(a)?tL[m]=vL[m]:(u||(u=!0,xL.length=0),xL.push(m));if(u)if(-1==f)for(m=0;m<xL.length;m++)u=xL[m],tL[u]=vL[u];else{for(m=q=0;m<g;m++)u=tL[m],0>u&&(u=e[m].measureContentSize(a)),q+=u;for(var N=D=0,m=0;m<xL.length;m++)u=xL[m],D+=uL[u],N+=vL[u];q=Math.max(f-q,N);yL(xL,vL,wL,uL,q,D,tL);for(m=f=0;m<xL.length;m++)u=xL[m],f+=tL[u];f-=q;for(m=0;m<xL.length&&0<f;m++)u=xL[m],q=tL[u],D=vL[u],q>D&&(q=Math.min(f,q-D),tL[u]-=q,f-=q);if(0<f)throw Error("Overflow pixels left over: "+
f+Rc);}for(m=0;m<g;m++)q=e[m],d[q.getId()]=tL[m]}else sL(a,d,e)}};w.updateChildrenLayout_=function(a,b,d){var e=this.getNumChildren();if(e)for(var f=0;f<e;f++){var g=this.getChildAt(f),m=d[g.getId()];g.updateLayout(a,m,this.useStaticSizingFor_(a,b,g,m))}};w.useStaticSizingFor_=function(a,b,d,e){return this.variableDimension_==r&&a==p&&e==b};var KN=function(a,b){JN.call(this,a,r);this.supportsSetVAlign_=!!b};B(KN,JN);w=KN.prototype;w.vAlign_=KB;w.currentlyAppliedVAlign_=KB;
w.createDom_=function(){KN.superClass_.createDom_.call(this);var a=this.element_;this.supportsSetVAlign_?(this.childrenHolderDiv_=this.getDomHelper().createElement(bt),this.childrenHolderDiv_.className=sh,this.childrenHolderDivStyle_=this.childrenHolderDiv_.style,this.getDomHelper().appendChild(a,this.childrenHolderDiv_)):(this.childrenHolderDiv_=a,this.childrenHolderDivStyle_=this.getElementStyle_())};w.disposeInternal=function(){this.childrenHolderDivStyle_=this.childrenHolderDiv_=null;KN.superClass_.disposeInternal.call(this)};
w.updateElementLayout=function(a,b,d){KN.superClass_.updateElementLayout.call(this,a,b,d);this.currentlyAppliedVAlign_!=this.vAlign_&&(this.getElementStyle_().position=this.vAlign_==KB?c:Tz,this.childrenHolderDivStyle_.position=this.vAlign_==KB?c:Jq)};
w.insertChildElementAt=function(a,b){var d=a.getElement();if(DL.get())if(d=this.getDomHelper().createElement(bt),d.className=th,YG(d,bD),b==this.getNumChildren())this.childrenHolderDiv_.appendChild(d),this.childrenHolderDiv_.appendChild(a.getElement());else{var e=this.childrenHolderDiv_.childNodes[2*b];this.childrenHolderDiv_.insertBefore(d,e);this.childrenHolderDiv_.insertBefore(a.getElement(),e)}else b==this.getNumChildren()?this.childrenHolderDiv_.appendChild(d):this.childrenHolderDiv_.insertBefore(d,
this.childrenHolderDiv_.childNodes[b])};w.removeChildElementFrom=function(a){DL.get()&&SG(a.getElement().previousSibling);SG(a.getElement())};var LN=function(a,b,d,e,f){M.call(this);E(!(0<f&&!e),yp);this.message_=a&&a.toString()?qK(a):null;this.duration_=d||6E4;this.type_=b||0;this.updateMessage_=qK(e||c);this.waitBeforeUpdate_=f||-1};B(LN,M);var MN=function(a,b,d,e,f){return new LN(a,b,d,e,f)};LN.prototype.hideWhenClicked_=!0;LN.prototype.getType=function(){return this.type_};LN.prototype.handleAction=function(){};LN.prototype.setHandleAction=function(a){this.handleAction=a};var NN=function(){M.call(this);this.pendingNotifications_=[]};B(NN,M);w=NN.prototype;w.setControl=function(a){this.control_=a};w.showNotification=function(a){a.message_?(this.setActiveNotification_(a),this.showNotificationInternal_()):this.hideNotification()};w.setActiveNotification_=function(a){this.activeNotification_&&this.activeNotification_.dispose();this.activeNotification_=a};
w.hideNotification=function(a){a&&a!=this.activeNotification_||(this.activeNotification_&&(this.clearHideTimer_(),this.clearUpdateTimer_(),this.setActiveNotification_(null)),this.showNotificationInternal_(!0),0<this.pendingNotifications_.length?this.state_=1:2==this.state_&&(this.state_=3))};w.updateNotification=function(){var a=this.activeNotification_;a&&this.control_&&this.control_.showNotification(a,a.updateMessage_);this.clearUpdateTimer_()};
w.showNotificationInternal_=function(a){var b=a?this.defaultNotification_:this.activeNotification_;this.clearHideTimer_();this.clearUpdateTimer_();b?(this.control_&&this.control_.showNotification(b),this.state_=this.activeNotification_?0==this.pendingNotifications_.length?2:3:0,a||-1==b.duration_||(this.hideTimerId_=SJ(Kt,this.hideNotification,b.duration_,this)),!a&&0<=b.waitBeforeUpdate_&&(this.updateTimerId_=SJ(Kt,this.updateNotification,b.waitBeforeUpdate_,this))):(this.control_&&this.control_.hideNotification(),
this.state_=0)};w.startUserAction=function(){2==this.state_&&(this.state_=3)};w.clearHideTimer_=function(){this.hideTimerId_&&dD.clearTimeout(this.hideTimerId_);this.hideTimerId_=null};w.clearUpdateTimer_=function(){this.updateTimerId_&&dD.clearTimeout(this.updateTimerId_);this.updateTimerId_=null};w.disposeInternal=function(){NN.superClass_.disposeInternal.call(this);this.clearHideTimer_();this.clearUpdateTimer_();this.activeNotification_&&this.activeNotification_.dispose()};var ON=function(a,b){this.content=qK(a);y(b)?(this.id=b,0!=this.id.lastIndexOf(iw,0)&&(this.id=iw+this.id)):this.uri=b};var PN=function(a){TK.call(this,a);this.changeHandler_=null};B(PN,kL);PN.prototype.checkContentSize=function(a){if(a)this.isSizeToContent(a)&&this.markDirty(a);else{a=this.isSizeToContent(p);var b=this.isSizeToContent(r);a&&b?this.markDirty():a?this.markDirty(p):b&&this.markDirty(r)}};PN.prototype.enterDocument=function(){PN.superClass_.enterDocument.call(this);this.layout_&&(this.changeHandler_=z(this.handleFontSizeChange_,this),this.layout_.addFontSizeChangeHandler(this.changeHandler_))};
PN.prototype.exitDocument=function(){PN.superClass_.exitDocument.call(this);this.layout_&&(this.layout_.removeFontSizeChangeHandler(this.changeHandler_),this.changeHandler_=null)};PN.prototype.handleFontSizeChange_=function(){this.checkContentSize()};var QN=function(a,b){PN.call(this,a);this.adaptedComponent_=b};B(QN,PN);w=QN.prototype;w.contentWidthMeasurer_=function(a){a=a.adaptedComponent_;if(!a)return 0;var b=a.getElement();a=b.style;var d=a.position,e=a.width;a.position=Jq;a.width=c;b=b.offsetWidth;a.position=d;a.width=e;return b};
w.createDom_=function(){QN.superClass_.createDom_.call(this);var a=this.adaptedComponent_;a.ensureDomCreated();var b=a.getElement();this.adaptedComponentElement_=b;this.adaptedComponentElementStyle_=b.style;this.getDomHelper().appendChild(this.element_,b);this.addChild_(a)};
w.disposeInternal=function(){!this.isDomCreated()&&this.adaptedComponent_&&this.adaptedComponent_.dispose();this.adaptedComponentElementStyle_=this.adaptedComponentElement_=this.adaptedComponent_=this.contentWidthMeasurer_=null;QN.superClass_.disposeInternal.call(this)};
w.detach=function(){return this.adaptedComponent_?(this.removeChildAt_(0),this.cachedAdaptedComponentElementHeight_=this.cachedAdaptedComponentElementWidth_=this.adaptedComponentElementStyle_=this.adaptedComponentElement_=this.adaptedComponent_=null,this.checkContentSize(),!0):!1};
w.clearAdaptedComponentSizeStyle_=function(a){this.adaptedComponentElement_&&(a==p?-1!=this.cachedAdaptedComponentElementWidth_&&(this.cachedAdaptedComponentElementWidth_=-1,this.adaptedComponentElementStyle_.width=c):-1!=this.cachedAdaptedComponentElementHeight_&&(this.cachedAdaptedComponentElementHeight_=-1,this.adaptedComponentElementStyle_.height=c))};w.canMeasureContentDirectlyNow=function(a){return a==r};w.prepareForDirectContentMeasureNow=function(a){this.clearSizeStyle(a);this.clearAdaptedComponentSizeStyle_(a)};
w.measureContentSizeNow=function(a){var b=this.getElement();if(!b)return 0;if(a==p)return this.contentWidthMeasurer_(this);this.clearAdaptedComponentSizeStyle_(a);return b.clientHeight};
w.updateElementSizeAndChildren=function(a,b,d){a==p?(-1!=b||d?QN.superClass_.updateElementSizeAndChildren.call(this,a,b,d):QN.superClass_.updateElementSizeAndChildren.call(this,a,this.measureContentSize(a),!1),this.checkContentSize(r)):QN.superClass_.updateElementSizeAndChildren.call(this,a,-1,d);this.adaptedComponentElement_&&(a==p?-1!=this.cachedAdaptedComponentElementWidth_&&(this.cachedAdaptedComponentElementWidth_=-1,this.adaptedComponentElementStyle_.width=qL(-1)):(a=-1==b?-1:b,this.cachedAdaptedComponentElementHeight_!=
a&&(this.cachedAdaptedComponentElementHeight_=a,this.adaptedComponentElementStyle_.height=qL(a))))};var RN=function(){return pK(ze)};RN.soyTemplateName="fava.component.roundedbox.roundedBoxWidgetTemplate";var SN=function(a,b){TK.call(this,a);this.createInternalStructure_(b)};B(SN,TK);SN.prototype.getContentArea=function(){this.contentArea_||(this.contentArea_=this.getElement().firstChild.childNodes[1]);return this.contentArea_};SN.prototype.getAdaptor=function(a){this.layoutAdaptor_||a||(this.layoutAdaptor_=new QN(this.getContext(),this));return this.layoutAdaptor_};SN.prototype.createInternalStructure_=function(a){var b=this.getElement();this.setStyleClass(a);kK(b,RN);U(b,rh)};
SN.prototype.setStyleClass=function(a){var b=this.getElement();if(this.currentStyleClass_){if(this.currentStyleClass_!=a){var d=this.currentStyleClass_;$K(b,d)&&(bL(b,d),U(b,a))}}else U(b,a);this.currentStyleClass_=a};var TN=function(){},WN=function(a){var b=a.delegateBase_,d=function(a){d.superClass_.constructor.call(this,a);var b=this.delegateClasses_.length;this.delegates_=[];for(var e=0;e<b;++e)this.delegateClasses_[e].delegateStateless_||(this.delegates_[e]=new this.delegateClasses_[e](a))};B(d,b);for(var e=[];a;){if(b=a.delegateBase_){b.delegateClasses_&&HE(e,b.delegateClasses_);var f=b.prototype,g;for(g in f)if(f.hasOwnProperty(g)&&mD(f[g])&&f[g]!==b){var m=!!f[g].callFirst,q=UN(g,f,e,m);(m=VN(g,f,q,m))&&
(d.prototype[g]=m)}}a=a.superClass_&&a.superClass_.constructor}d.prototype.delegateClasses_=e;return d},UN=function(a,b,d,e){for(var f=[],g=0;g<d.length&&(d[g].prototype[a]===b[a]||(f.push(g),!e));++g);return f},VN=function(a,b,d,e){return d.length?e?function(b){var e=this.delegates_[d[0]];return e?e[a].apply(this.delegates_[d[0]],arguments):this.delegateClasses_[d[0]].prototype[a].apply(this,arguments)}:b[a].callUntilTrue?function(b){return this.delegateUntilTrue(a,d,Array.prototype.slice.call(arguments,
0))}:b[a].callUntilDefined?function(b){return this.delegateUntilDefined(a,d,Array.prototype.slice.call(arguments,0))}:b[a].noResult?function(b){return this.delegateAndDiscard(a,d,Array.prototype.slice.call(arguments,0))}:function(b){return this.delegate(a,d,Array.prototype.slice.call(arguments,0))}:e||b[a].callUntilTrue||b[a].callUntilDefined||b[a].noResult?null:XN},XN=function(){return[]};w=TN.prototype;
w.delegate=function(a,b,d){for(var e=[],f=0;f<b.length;++f){var g=this.delegates_[b[f]];e.push(g?g[a].apply(g,d):this.delegateClasses_[b[f]].prototype[a].apply(this,d))}return e};w.delegateAndDiscard=function(a,b,d){for(var e=0;e<b.length;++e){var f=this.delegates_[b[e]];f?f[a].apply(f,d):this.delegateClasses_[b[e]].prototype[a].apply(this,d)}};
w.delegateUntilTrue=function(a,b,d){for(var e=0;e<b.length;++e){var f=this.delegates_[b[e]];if(f=f?f[a].apply(f,d):this.delegateClasses_[b[e]].prototype[a].apply(this,d))return f}return!1};w.delegateUntilDefined=function(a,b,d){for(var e=0;e<b.length;++e){var f=this.delegates_[b[e]],f=f?f[a].apply(f,d):this.delegateClasses_[b[e]].prototype[a].apply(this,d);if(null!=f)return f}};
w.findDelegate=function(a){if(this.delegates_)for(var b=0;b<this.delegates_.length;++b)if(this.delegates_[b]instanceof a)return this.delegates_[b];return null};var YN=function(a){return this.delegate_.findDelegate(a)};var ZN,$N={ACTIVEDESCENDANT:Uq,ATOMIC:mr,AUTOCOMPLETE:pr,BUSY:"busy",CHECKED:fs,CONTROLS:"controls",DESCRIBEDBY:"describedby",DISABLED:Ys,DROPEFFECT:"dropeffect",EXPANDED:Bt,FLOWTO:"flowto",GRABBED:"grabbed",HASPOPUP:av,HIDDEN:dv,INVALID:"invalid",LABEL:aw,LABELLEDBY:"labelledby",LEVEL:"level",LIVE:lw,MULTILINE:"multiline",MULTISELECTABLE:"multiselectable",ORIENTATION:"orientation",OWNS:Qy,POSINSET:"posinset",PRESSED:Dz,READONLY:"readonly",RELEVANT:"relevant",REQUIRED:"required",SELECTED:KA,SETSIZE:"setsize",
SORT:"sort",VALUEMAX:"valuemax",VALUEMIN:"valuemin",VALUENOW:"valuenow",VALUETEXT:"valuetext"};var aO={ALERT:"alert",ALERTDIALOG:"alertdialog",APPLICATION:"application",ARTICLE:"article",BANNER:"banner",BUTTON:Qr,CHECKBOX:"checkbox",COLUMNHEADER:"columnheader",COMBOBOX:rs,COMPLEMENTARY:"complementary",CONTENTINFO:"contentinfo",DEFINITION:"definition",DIALOG:"dialog",DIRECTORY:"directory",DOCUMENT:ft,FORM:"form",GRID:"grid",GRIDCELL:"gridcell",GROUP:"group",HEADING:"heading",IMG:"img",LINK:"link",LIST:jw,LISTBOX:kw,LISTITEM:"listitem",LOG:"log",MAIN:"main",MARQUEE:"marquee",MATH:"math",MENU:Ew,
MENUBAR:"menubar",MENU_ITEM:Gw,MENU_ITEM_CHECKBOX:Hw,MENU_ITEM_RADIO:Iw,NAVIGATION:"navigation",NOTE:"note",OPTION:Ly,PRESENTATION:"presentation",PROGRESSBAR:"progressbar",RADIO:"radio",RADIOGROUP:"radiogroup",REGION:"region",ROW:"row",ROWGROUP:"rowgroup",ROWHEADER:"rowheader",SCROLLBAR:"scrollbar",SEARCH:"search",SEPARATOR:MA,SLIDER:"slider",SPINBUTTON:"spinbutton",STATUS:"status",TAB:rB,TAB_LIST:uB,TAB_PANEL:"tabpanel",TEXTBOX:"textbox",TEXTINFO:"textinfo",TIMER:"timer",TOOLBAR:"toolbar",TOOLTIP:"tooltip",
TREE:"tree",TREEGRID:"treegrid",TREEITEM:"treeitem"};var bO=function(a,b){b?(E(TE(aO,b),Zl+b),a.setAttribute(rA,b)):a.removeAttribute(rA)},dO=function(a,b,d){jD(d)&&(d=d.join(ga));var e=cO(b);d===c||void 0==d?(ZN||(ZN={atomic:!1,autocomplete:iy,dropeffect:iy,haspopup:!1,live:vy,multiline:!1,multiselectable:!1,orientation:zC,readonly:!1,relevant:Vq,required:!1,sort:iy,busy:!1,disabled:!1,hidden:!1,invalid:Jt}),d=ZN,b in d?a.setAttribute(e,d[b]):a.removeAttribute(e)):a.setAttribute(e,d)},eO=function(a,b){var d=c;b&&(d=b.id,E(d,Ro));dO(a,Uq,d)},cO=function(a){E(a,
bf);E(TE($N,a),Yl+a);return ir+a};var fO=function(){},gO=new fO,hO=[ls,iF?Wv:Vv,Xv];fO.prototype.listen=function(a,b,d,e,f){var g=function(a){var d=QF(b),f=WG(a.target)?a.target.getAttribute(rA)||null:null;a.type==ls&&a.isMouseActionButton()?d.call(e,a):13!=a.keyCode&&3!=a.keyCode||a.type==Xv?32!=a.keyCode||a.type!=Xv||f!=Qr&&f!=rB||(d.call(e,a),a.preventDefault()):(a.type=Wv,d.call(e,a))};g.listener_=b;g.scope_=e;f?f.listen(a,hO,g,d):PF(a,hO,g,d)};
fO.prototype.unlisten=function(a,b,d,e,f){for(var g,m=0;g=hO[m];m++){var q;var u=a;q=g;var D=!!d;q=HF(u)?u.getListeners(q,D):u?(u=SF(u))?u.getListeners(q,D):[]:[];for(u=0;D=q[u];u++)if(D.listener.listener_==b&&D.listener.scope_==e){f?f.unlisten(a,g,D.listener,d,e):XF(a,g,D.listener,d,e);break}}};var lO=function(a,b,d,e,f,g,m,q,u){E(d);var D=iO(d),N=AJ(a),O=uJ(a);O&&N.intersection(new jJ(O.left,O.top,O.right-O.left,O.bottom-O.top));var O=GG(a),ea=GG(d);if(O.document_!=ea.document_){var V=O.document_.body;var ea=ea.getWindow(),Ka=new xG(0,0),rb=NG(FG(V));if(nE(rb,Zy)){var Bg=V;do{var Zb;rb==ea?Zb=tJ(Bg):(Zb=E(Bg),Zb=rJ(Zb),Zb=new xG(Zb.left,Zb.top));Ka.x+=Zb.x;Ka.y+=Zb.y}while(rb&&rb!=ea&&rb!=rb.parent&&(Bg=rb.frameElement)&&(rb=rb.parent))}V=yG(Ka,tJ(V));!H||vF(9)||O.isCss1CompatMode()||(V=
yG(V,O.getDocumentScroll()));N.left+=V.x;N.top+=V.y}a=jO(a,b);b=N.left;a&4?b+=N.width:a&2&&(b+=N.width/2);N=new xG(b,N.top+(a&1?N.height:0));N=yG(N,D);f&&(N.x+=(a&4?-1:1)*f.x,N.y+=(a&1?-1:1)*f.y);var uc;if(m)if(u)uc=u;else if(uc=uJ(d))uc.top-=D.y,uc.right-=D.x,uc.bottom-=D.y,uc.left-=D.x;return kO(N,d,e,g,uc,m,q)},iO=function(a){var b;if(a=a.offsetParent){var d=a.tagName==lk||a.tagName==Bf;d&&nJ(a,tz)==hB||(b=tJ(a),d||(d=(d=DJ(a))&&iF?-a.scrollLeft:!d||hF&&I(Fd)||nJ(a,Py)==FC?a.scrollLeft:a.scrollWidth-
a.clientWidth-a.scrollLeft,b=yG(b,new xG(d,a.scrollTop))))}return b||new xG},kO=function(a,b,d,e,f,g,m){a=a.clone();var q=jO(b,d);d=zJ(b);m=m?m.clone():d.clone();a=a.clone();m=m.clone();var u=0;if(e||0!=q)q&4?a.x-=m.width+(e?e.right:0):q&2?a.x-=m.width/2:e&&(a.x+=e.left),q&1?a.y-=m.height+(e?e.bottom:0):e&&(a.y+=e.top);if(g){if(f){e=a;q=m;u=0;65==(g&65)&&(e.x<f.left||e.x>=f.right)&&(g&=-2);132==(g&132)&&(e.y<f.top||e.y>=f.bottom)&&(g&=-5);e.x<f.left&&g&1&&(e.x=f.left,u|=1);if(g&16){var D=e.x;e.x<
f.left&&(e.x=f.left,u|=4);e.x+q.width>f.right&&(q.width=Math.min(f.right-e.x,D+q.width-f.left),q.width=Math.max(q.width,0),u|=4)}e.x+q.width>f.right&&g&1&&(e.x=Math.max(f.right-q.width,f.left),u|=1);g&2&&(u|=(e.x<f.left?16:0)|(e.x+q.width>f.right?32:0));e.y<f.top&&g&4&&(e.y=f.top,u|=2);g&32&&(D=e.y,e.y<f.top&&(e.y=f.top,u|=8),e.y+q.height>f.bottom&&(q.height=Math.min(f.bottom-e.y,D+q.height-f.top),q.height=Math.max(q.height,0),u|=8));e.y+q.height>f.bottom&&g&4&&(e.y=Math.max(f.bottom-q.height,f.top),
u|=2);g&8&&(u|=(e.y<f.top?64:0)|(e.y+q.height>f.bottom?128:0));f=u}else f=256;u=f}g=new jJ(0,0,0,0);g.left=a.x;g.top=a.y;g.width=m.width;g.height=m.height;f=u;if(f&496)return f;pJ(b,g.getTopLeft());m=g.getSize();AG(d,m)||(d=m,m=FG(b),a=GG(m).isCss1CompatMode(),!H||I(od)||a&&I(Fd)?(b=b.style,iF?b.MozBoxSizing=Dr:jF?b.WebkitBoxSizing=Dr:b.boxSizing=Dr,b.width=Math.max(d.width,0)+Iz,b.height=Math.max(d.height,0)+Iz):(m=b.style,a?(H?(a=IJ(b,Vy),g=IJ(b,Wy),e=IJ(b,Xy),q=IJ(b,Uy),a=new iJ(e,g,q,a)):(a=mJ(b,
Vy),g=mJ(b,Wy),e=mJ(b,Xy),q=mJ(b,Uy),a=new iJ(parseFloat(e),parseFloat(g),parseFloat(q),parseFloat(a))),b=vJ(b),m.pixelWidth=d.width-b.left-a.left-a.right-b.right,m.pixelHeight=d.height-b.top-a.top-a.bottom-b.bottom):(m.pixelWidth=d.width,m.pixelHeight=d.height)));return f},jO=function(a,b){return(b&8&&DJ(a)?b^4:b)&-9};var mO=function(){};B(mO,TN);mO.prototype.onShow=function(){};mO.prototype.onShow.noResult=!0;var nO=function(){};nO.prototype.reposition=function(){};var oO=function(a,b,d){this.element=a;this.corner=b;this.overflow_=d};B(oO,nO);oO.prototype.reposition=function(a,b,d){lO(this.element,this.corner,a,b,void 0,d,this.overflow_)};var pO=function(a,b,d,e){oO.call(this,a,b);this.lastResortOverflow_=d?5:0;this.overflowConstraint_=e||void 0};B(pO,oO);pO.prototype.getLastResortOverflow=function(){return this.lastResortOverflow_};pO.prototype.setLastResortOverflow=function(a){this.lastResortOverflow_=a};
pO.prototype.reposition=function(a,b,d,e){var f=lO(this.element,this.corner,a,b,null,d,10,e,this.overflowConstraint_);if(f&496){var g=this.adjustCorner(f,this.corner);b=this.adjustCorner(f,b);f=lO(this.element,g,a,b,null,d,10,e,this.overflowConstraint_);f&496&&(g=this.adjustCorner(f,g),b=this.adjustCorner(f,b),lO(this.element,g,a,b,null,d,this.lastResortOverflow_,e,this.overflowConstraint_))}};pO.prototype.adjustCorner=function(a,b){a&48&&(b^=4);a&192&&(b^=1);return b};var qO=function(a,b,d,e){pO.call(this,a,b,d||e);(d||e)&&this.setLastResortOverflow(65|(e?32:132))};B(qO,pO);var rO=function(a,b){this.coordinate=a instanceof xG?a:new xG(a,b)};B(rO,nO);rO.prototype.reposition=function(a,b,d,e){E(a);var f;f=FG(a);var g=f.body;f=f.documentElement;f=new xG(g.scrollLeft||f.scrollLeft,g.scrollTop||f.scrollTop);g=this.coordinate.x+f.x;f=this.coordinate.y+f.y;var m=iO(a),g=g-m.x;f-=m.y;kO(new xG(g,f),a,b,d,null,null,e)};var sO=function(a,b){rO.call(this,a,b)};B(sO,rO);sO.prototype.lastResortOverflow_=0;sO.prototype.setLastResortOverflow=function(a){this.lastResortOverflow_=a};sO.prototype.reposition=function(a,b,d,e){var f=qJ(a),f=uJ(f),g=GG(a).getDocumentScrollElement(),g=new xG(this.coordinate.x+g.scrollLeft,this.coordinate.y+g.scrollTop),m=b,q=kO(g,a,m,d,f,10,e);if(0!=(q&496)){if(q&16||q&32)m^=4;if(q&64||q&128)m^=1;q=kO(g,a,m,d,f,10,e);0!=(q&496)&&kO(g,a,b,d,f,this.lastResortOverflow_,e)}};var uO=function(a,b){if(!a)throw Error("Invalid class name "+a);if(!mD(b))throw Error("Invalid decorator function "+b);tO[a]=b},vO={},tO={};var wO=function(a){this.ariaRole_=a};hD(wO);w=wO.prototype;w.getAriaRole=function(){return this.ariaRole_};w.enableTabIndex=function(a,b){a&&(a.tabIndex=b?0:-1)};w.createDom=function(a){return a.getDomHelper().createDom(k,this.getClassNames(a).join(ga))};w.getContentElement=function(a){return a};w.canDecorate=function(a){return a.tagName==k};
w.decorate=function(a,b){b.id&&a.setId(b.id);var d=this.getCssClass(),e=!1,f=ZK(b);f&&F(f,function(b){b==d?e=!0:b&&this.setStateFromClassName(a,b,d)},this);e||U(b,d);this.decorateChildren(a,this.getContentElement(b));return b};w.setStateFromClassName=function(a,b,d){b==d+mc?a.setEnabled(!1):b==d+tc?a.setOrientation(iv):b==d+Kc&&a.setOrientation(zC)};
w.decorateChildren=function(a,b,d){if(b){d=d||b.firstChild;for(var e;d&&d.parentNode==b;){e=d.nextSibling;if(1==d.nodeType){var f=this.getDecoratorForChild(d);f&&(f.setElementInternal(d),a.isEnabled()||f.setEnabled(!1),a.addChild(f),f.decorate(d))}else d.nodeValue&&DD(d.nodeValue)!=c||b.removeChild(d);d=e}}};w.getDecoratorForChild=function(a){a:{var b;E(a);a=ZK(a);for(var d=0,e=a.length;d<e;d++)if(b=a[d],b=b in tO?tO[b]():null){a=b;break a}a=null}return a};
w.initializeDom=function(a){a=a.getElement();E(a,Vo);FJ(a,!0,iF);H&&(a.hideFocus=!0);var b=this.getAriaRole();b&&bO(a,b)};w.getKeyEventTarget=function(a){return a.getElement()};w.getCssClass=function(){return yu};w.getClassNames=function(a){var b=this.getCssClass(),d=[b,a.orientation_==iv?b+tc:b+Kc];a.isEnabled()||d.push(b+mc);return d};var xO=function(){},yO;hD(xO);var zO=function(a,b){var d=new a;d.getCssClass=function(){return b};return d},AO={button:Dz,checkbox:fs,menuitem:KA,menuitemcheckbox:fs,menuitemradio:fs,radio:fs,tab:KA,treeitem:KA};w=xO.prototype;w.getAriaRole=function(){};w.createDom=function(a){return a.getDomHelper().createDom(k,this.getClassNames(a).join(ga),a.getContent())};w.getContentElement=function(a){return a};
w.enableClassName=function(a,b,d){if(a=a.getElement?a.getElement():a){var e=[b];H&&!I(Dd)&&(e=this.getAppliedCombinedClassNames_(ZK(a),b),e.push(b));(d?aL:cL)(a,e)}};w.enableExtraClassName=function(a,b,d){this.enableClassName(a,b,d)};w.canDecorate=function(){return!0};
w.decorate=function(a,b){b.id&&a.setId(b.id);var d=this.getContentElement(b);d&&d.firstChild?a.setContentInternal(d.firstChild.nextSibling?GE(d.childNodes):d.firstChild):a.setContentInternal(null);var e=0,f=this.getCssClass(),g=this.getStructuralCssClass(),m=!1,q=!1,u=!1,D=GE(ZK(b));F(D,function(a){m||a!=f?q||a!=g?e|=this.getStateFromClass(a):q=!0:(m=!0,g==f&&(q=!0));1==this.getStateFromClass(a)&&(jE(d),cH(d)&&dH(d,!1))},this);a.setStateInternal(e);m||(D.push(f),g==f&&(q=!0));q||D.push(g);var N=a.extraClassNames_;
N&&D.push.apply(D,N);if(H&&!I(Dd)){var O=this.getAppliedCombinedClassNames_(D);0<O.length&&(D.push.apply(D,O),u=!0)}if(!m||!q||N||u)b.className=D.join(ga);return b};w.initializeDom=function(a){a.isRightToLeft()&&this.setRightToLeft(a.getElement(),!0);a.isEnabled()&&this.setFocusable(a,a.isVisible())};w.setAriaRole=function(a,b){var d=b||this.getAriaRole();if(d){E(a,Wo);var e=a.getAttribute(rA)||null;d!=e&&bO(a,d)}};
w.setAriaStates=function(a,b){E(a);E(b);var d=a.ariaLabel_;null!=d&&this.setAriaLabel(b,d);a.isVisible()||dO(b,dv,!a.isVisible());a.isEnabled()||this.updateAriaState(b,1,!a.isEnabled());a.isSupportedState(8)&&this.updateAriaState(b,8,a.isSelected());a.isSupportedState(16)&&this.updateAriaState(b,16,a.isChecked());a.isSupportedState(64)&&this.updateAriaState(b,64,a.isOpen())};w.setAriaLabel=function(a,b){dO(a,aw,b)};w.setAllowTextSelection=function(a,b){FJ(a,!b,!H&&!fF)};
w.setRightToLeft=function(a,b){this.enableClassName(a,this.getStructuralCssClass()+Fc,b)};w.isFocusable=function(a){var b;return a.isSupportedState(32)&&(b=a.getKeyEventTarget())?cH(b):!1};w.setFocusable=function(a,b){var d;if(a.isSupportedState(32)&&(d=a.getKeyEventTarget())){if(!b&&a.isFocused()){try{d.blur()}catch(e){}a.isFocused()&&a.handleBlur(null)}cH(d)!=b&&dH(d,b)}};w.setVisible=function(a,b){T(a,b);a&&dO(a,dv,!b)};
w.setState=function(a,b,d){var e=a.getElement();if(e){var f=this.getClassForState(b);f&&this.enableClassName(a,f,d);this.updateAriaState(e,b,d)}};w.updateAriaState=function(a,b,d){yO||(yO={1:Ys,8:KA,16:fs,64:Bt});E(a,Wo);b=yO[b];var e=a.getAttribute(rA)||null;e&&(e=AO[e]||b,b=b==fs||b==KA?e:b);b&&dO(a,b,d)};
w.setContent=function(a,b){var d=this.getContentElement(a);if(d&&(QG(d),b))if(y(b))YG(d,b);else{var e=function(a){if(a){var b=FG(d);d.appendChild(y(a)?b.createTextNode(a):a)}};jD(b)?F(b,e):!kD(b)||hy in b?e(b):F(GE(b),e)}};w.getKeyEventTarget=function(a){return a.getElement()};w.getCssClass=function(){return zu};w.getStructuralCssClass=function(){return this.getCssClass()};
w.getClassNames=function(a){var b=this.getCssClass(),d=[b],e=this.getStructuralCssClass();e!=b&&d.push(e);b=this.getClassNamesForState(a.getState());d.push.apply(d,b);(a=a.extraClassNames_)&&d.push.apply(d,a);H&&!I(Dd)&&d.push.apply(d,this.getAppliedCombinedClassNames_(d));return d};w.getAppliedCombinedClassNames_=function(a,b){var d=[];b&&(a=FE(a,[b]));F([],function(e){!wE(e,tD(AE,a))||b&&!AE(e,b)||d.push(e.join(Aq))});return d};
w.getClassNamesForState=function(a){for(var b=[];a;){var d=a&-a;b.push(this.getClassForState(d));a&=~d}return b};w.getClassForState=function(a){this.classByState_||this.createClassByStateMap_();return this.classByState_[a]};w.getStateFromClass=function(a){this.stateByClass_||this.createStateByClassMap_();a=parseInt(this.stateByClass_[a],10);return isNaN(a)?0:a};
w.createClassByStateMap_=function(){var a=this.getStructuralCssClass(),b=!QD(a.replace(/\xa0|\s/g,ga),ga);E(b,di+a+Db);this.classByState_={1:a+mc,2:a+vc,4:a+fc,8:a+Gc,16:a+kc,32:a+rc,64:a+Bc}};w.createStateByClassMap_=function(){this.classByState_||this.createClassByStateMap_();this.stateByClass_=XE(this.classByState_)};var BO=function(a,b,d){$L.call(this,d);if(!b){b=this.constructor;for(var e;b;){e=qD(b);if(e=vO[e])break;b=b.superClass_?b.superClass_.constructor:null}b=e?mD(e.getInstance)?e.getInstance():new e:null}this.renderer_=b;this.setContentInternal(x(a)?a:null);this.ariaLabel_=null};B(BO,$L);w=BO.prototype;w.content_=null;w.state_=0;w.supportedStates_=39;w.autoStates_=255;w.statesWithTransitionEvents_=0;w.visible_=!0;w.extraClassNames_=null;w.handleMouseEvents_=!0;w.allowTextSelection_=!1;
w.preferredAriaRole_=null;w.setHandleMouseEvents=function(a){this.isInDocument()&&a!=this.handleMouseEvents_&&this.enableMouseEventHandling_(a);this.handleMouseEvents_=a};w.getKeyEventTarget=function(){return this.renderer_.getKeyEventTarget(this)};w.getKeyHandler=function(){return this.keyHandler_||(this.keyHandler_=new TL)};
w.addClassName=function(a){a&&(this.extraClassNames_?AE(this.extraClassNames_,a)||this.extraClassNames_.push(a):this.extraClassNames_=[a],this.renderer_.enableExtraClassName(this,a,!0))};w.removeClassName=function(a){a&&this.extraClassNames_&&DE(this.extraClassNames_,a)&&(0==this.extraClassNames_.length&&(this.extraClassNames_=null),this.renderer_.enableExtraClassName(this,a,!1))};w.enableClassName=function(a,b){b?this.addClassName(a):this.removeClassName(a)};
w.createDom=function(){var a=this.renderer_.createDom(this);this.setElementInternal(a);this.renderer_.setAriaRole(a,this.getPreferredAriaRole());this.allowTextSelection_||this.renderer_.setAllowTextSelection(a,!1);this.isVisible()||this.renderer_.setVisible(a,!1)};w.getPreferredAriaRole=function(){return this.preferredAriaRole_};w.setAriaLabel=function(a){this.ariaLabel_=a;var b=this.getElement();b&&this.renderer_.setAriaLabel(b,a)};w.getContentElement=function(){return this.renderer_.getContentElement(this.getElement())};
w.canDecorate=function(a){return this.renderer_.canDecorate(a)};w.decorateInternal=function(a){a=this.renderer_.decorate(this,a);this.setElementInternal(a);this.renderer_.setAriaRole(a,this.getPreferredAriaRole());this.allowTextSelection_||this.renderer_.setAllowTextSelection(a,!1);this.visible_=a.style.display!=iy};
w.enterDocument=function(){BO.superClass_.enterDocument.call(this);this.renderer_.setAriaStates(this,this.getElementStrict());this.renderer_.initializeDom(this);if(this.supportedStates_&-2&&(this.handleMouseEvents_&&this.enableMouseEventHandling_(!0),this.isSupportedState(32))){var a=this.getKeyEventTarget();if(a){var b=this.getKeyHandler();b.attach(a);this.getHandler().listen(b,Uv,this.handleKeyEvent).listen(a,bu,this.handleFocus).listen(a,Ar,this.handleBlur)}}};
w.enableMouseEventHandling_=function(a){var b=this.getHandler(),d=this.getElement();a?(b.listen(d,Pw,this.handleMouseOver).listen(d,Nw,this.handleMouseDown).listen(d,Qw,this.handleMouseUp).listen(d,Ow,this.handleMouseOut),this.handleContextMenu!=gD&&b.listen(d,Bs,this.handleContextMenu),H&&(I(9)||b.listen(d,Ms,this.handleDblClick),this.ieMouseEventSequenceSimulator_||(this.ieMouseEventSequenceSimulator_=new CO(this),this.registerDisposable(this.ieMouseEventSequenceSimulator_)))):(b.unlisten(d,Pw,
this.handleMouseOver).unlisten(d,Nw,this.handleMouseDown).unlisten(d,Qw,this.handleMouseUp).unlisten(d,Ow,this.handleMouseOut),this.handleContextMenu!=gD&&b.unlisten(d,Bs,this.handleContextMenu),H&&(I(9)||b.unlisten(d,Ms,this.handleDblClick),J(this.ieMouseEventSequenceSimulator_),this.ieMouseEventSequenceSimulator_=null))};
w.exitDocument=function(){BO.superClass_.exitDocument.call(this);this.keyHandler_&&this.keyHandler_.detach();this.isVisible()&&this.isEnabled()&&this.renderer_.setFocusable(this,!1)};w.disposeInternal=function(){BO.superClass_.disposeInternal.call(this);this.keyHandler_&&(this.keyHandler_.dispose(),delete this.keyHandler_);delete this.renderer_;this.ieMouseEventSequenceSimulator_=this.extraClassNames_=this.content_=null};w.getContent=function(){return this.content_};
w.setContent=function(a){this.renderer_.setContent(this.getElement(),a);this.setContentInternal(a)};w.setContentInternal=function(a){this.content_=a};w.getCaption=function(){var a=this.getContent();if(!a)return c;a=y(a)?a:jD(a)?tE(a,gH).join(c):fH(a);return CD(a)};w.setCaption=function(a){this.setContent(a)};w.setRightToLeft=function(a){BO.superClass_.setRightToLeft.call(this,a);var b=this.getElement();b&&this.renderer_.setRightToLeft(b,a)};
w.setAllowTextSelection=function(a){this.allowTextSelection_=a;var b=this.getElement();b&&this.renderer_.setAllowTextSelection(b,a)};w.isVisible=function(){return this.visible_};w.setVisible=function(a,b){if(b||this.visible_!=a&&this.dispatchEvent(a?YA:ev)){var d=this.getElement();d&&this.renderer_.setVisible(d,a);this.isEnabled()&&this.renderer_.setFocusable(this,a);this.visible_=a;return!0}return!1};w.isEnabled=function(){return!this.hasState(1)};
w.isParentDisabled_=function(){var a=this.getParent();return!!a&&typeof a.isEnabled==ku&&!a.isEnabled()};w.setEnabled=function(a){!this.isParentDisabled_()&&this.isTransitionAllowed(1,!a)&&(a||(this.setActive(!1),this.setHighlighted(!1)),this.isVisible()&&this.renderer_.setFocusable(this,a),this.setState(1,!a,!0))};w.isHighlighted=function(){return this.hasState(2)};w.setHighlighted=function(a){this.isTransitionAllowed(2,a)&&this.setState(2,a)};w.isActive=function(){return this.hasState(4)};
w.setActive=function(a){this.isTransitionAllowed(4,a)&&this.setState(4,a)};w.isSelected=function(){return this.hasState(8)};w.setSelected=function(a){this.isTransitionAllowed(8,a)&&this.setState(8,a)};w.isChecked=function(){return this.hasState(16)};w.setChecked=function(a){this.isTransitionAllowed(16,a)&&this.setState(16,a)};w.isFocused=function(){return this.hasState(32)};w.setFocused=function(a){this.isTransitionAllowed(32,a)&&this.setState(32,a)};w.isOpen=function(){return this.hasState(64)};
w.setOpen=function(a){this.isTransitionAllowed(64,a)&&this.setState(64,a)};w.getState=function(){return this.state_};w.hasState=function(a){return!!(this.state_&a)};w.setState=function(a,b,d){d||1!=a?this.isSupportedState(a)&&b!=this.hasState(a)&&(this.renderer_.setState(this,a,b),this.state_=b?this.state_|a:this.state_&~a):this.setEnabled(!b)};w.setStateInternal=function(a){this.state_=a};w.isSupportedState=function(a){return!!(this.supportedStates_&a)};
w.setSupportedState=function(a,b){if(this.isInDocument()&&this.hasState(a)&&!b)throw Error(Sh);!b&&this.hasState(a)&&this.setState(a,!1);this.supportedStates_=b?this.supportedStates_|a:this.supportedStates_&~a};w.isAutoState=function(a){return!!(this.autoStates_&a)&&this.isSupportedState(a)};w.setAutoStates=function(a,b){this.autoStates_=b?this.autoStates_|a:this.autoStates_&~a};
w.setDispatchTransitionEvents=function(a,b){this.statesWithTransitionEvents_=b?this.statesWithTransitionEvents_|a:this.statesWithTransitionEvents_&~a};w.isTransitionAllowed=function(a,b){return this.isSupportedState(a)&&this.hasState(a)!=b&&(!(this.statesWithTransitionEvents_&a)||this.dispatchEvent(aM(a,b)))&&!this.isDisposed()};w.handleMouseOver=function(a){!DO(a,this.getElement())&&this.dispatchEvent(wt)&&this.isEnabled()&&this.isAutoState(2)&&this.setHighlighted(!0)};
w.handleMouseOut=function(a){!DO(a,this.getElement())&&this.dispatchEvent(bw)&&(this.isAutoState(4)&&this.setActive(!1),this.isAutoState(2)&&this.setHighlighted(!1))};w.handleContextMenu=gD;var DO=function(a,b){return!!a.relatedTarget&&XG(b,a.relatedTarget)};w=BO.prototype;
w.handleMouseDown=function(a){this.isEnabled()&&(this.isAutoState(2)&&this.setHighlighted(!0),a.isMouseActionButton()&&(this.isAutoState(4)&&this.setActive(!0),this.renderer_&&this.renderer_.isFocusable(this)&&this.getKeyEventTarget().focus()));!this.allowTextSelection_&&a.isMouseActionButton()&&a.preventDefault()};w.handleMouseUp=function(a){this.isEnabled()&&(this.isAutoState(2)&&this.setHighlighted(!0),this.isActive()&&this.performActionInternal(a)&&this.isAutoState(4)&&this.setActive(!1))};
w.handleDblClick=function(a){this.isEnabled()&&this.performActionInternal(a)};w.performActionInternal=function(a){this.isAutoState(16)&&this.setChecked(!this.isChecked());this.isAutoState(8)&&this.setSelected(!0);this.isAutoState(64)&&this.setOpen(!this.isOpen());var b=new CF(Rq,this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.platformModifierKey=a.platformModifierKey);return this.dispatchEvent(b)};w.handleFocus=function(){this.isAutoState(32)&&this.setFocused(!0)};
w.handleBlur=function(){this.isAutoState(4)&&this.setActive(!1);this.isAutoState(32)&&this.setFocused(!1)};w.handleKeyEvent=function(a){return this.isVisible()&&this.isEnabled()&&this.handleKeyEventInternal(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};w.handleKeyEventInternal=function(a){return 13==a.keyCode&&this.performActionInternal(a)};if(!mD(BO))throw Error("Invalid component class "+BO);if(!mD(xO))throw Error("Invalid renderer class "+xO);var EO=qD(BO);vO[EO]=xO;uO(zu,function(){return new BO(null)});
var CO=function(a){AF.call(this);this.control_=a;this.clickExpected_=!1;this.handler_=new NH(this);this.registerDisposable(this.handler_);a=this.control_.getElementStrict();this.handler_.listen(a,Nw,this.handleMouseDown_).listen(a,Qw,this.handleMouseUp_).listen(a,ls,this.handleClick_)};B(CO,AF);var FO=!H||vF(9);CO.prototype.handleMouseDown_=function(){this.clickExpected_=!1};CO.prototype.handleMouseUp_=function(){this.clickExpected_=!0};
var GO=function(a,b){if(!FO)return a.button=0,a.type=b,a;var d=document.createEvent(El);d.initMouseEvent(b,a.bubbles,a.cancelable,a.view||null,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,a.relatedTarget||null);return d};
CO.prototype.handleClick_=function(a){if(this.clickExpected_)this.clickExpected_=!1;else{var b=a.event_,d=b.button,e=b.type,f=GO(b,Nw);this.control_.handleMouseDown(new EF(f,a.currentTarget));f=GO(b,Qw);this.control_.handleMouseUp(new EF(f,a.currentTarget));FO||(b.button=d,b.type=e)}};CO.prototype.disposeInternal=function(){this.control_=null;CO.superClass_.disposeInternal.call(this)};var HO=function(a,b,d){$L.call(this,d);this.renderer_=b||wO.getInstance();this.orientation_=a||zC};B(HO,$L);w=HO.prototype;w.keyEventTarget_=null;w.keyHandler_=null;w.renderer_=null;w.orientation_=null;w.visible_=!0;w.enabled_=!0;w.focusable_=!0;w.highlightedIndex_=-1;w.openItem_=null;w.mouseButtonPressed_=!1;w.allowFocusableChildren_=!1;w.openFollowsHighlight_=!0;w.childElementIdMap_=null;w.getKeyEventTarget=function(){return this.keyEventTarget_||this.renderer_.getKeyEventTarget(this)};
w.setKeyEventTarget=function(a){if(this.focusable_){var b=this.getKeyEventTarget(),d=this.isInDocument();this.keyEventTarget_=a;var e=this.getKeyEventTarget();d&&(this.keyEventTarget_=b,this.enableFocusHandling_(!1),this.keyEventTarget_=a,this.getKeyHandler().attach(e),this.enableFocusHandling_(!0))}else throw Error("Can't set key event target for container that doesn't support keyboard focus!");};w.getKeyHandler=function(){return this.keyHandler_||(this.keyHandler_=new TL(this.getKeyEventTarget()))};
w.createDom=function(){this.setElementInternal(this.renderer_.createDom(this))};w.getContentElement=function(){return this.renderer_.getContentElement(this.getElement())};w.canDecorate=function(a){return this.renderer_.canDecorate(a)};w.decorateInternal=function(a){this.setElementInternal(this.renderer_.decorate(this,a));a.style.display==iy&&(this.visible_=!1)};
w.enterDocument=function(){HO.superClass_.enterDocument.call(this);this.forEachChild(function(a){a.isInDocument()&&this.registerChildId_(a)},this);var a=this.getElement();this.renderer_.initializeDom(this);this.setVisible(this.visible_,!0);this.getHandler().listen(this,wt,this.handleEnterItem).listen(this,fv,this.handleHighlightItem).listen(this,gC,this.handleUnHighlightItem).listen(this,Iy,this.handleOpenItem).listen(this,os,this.handleCloseItem).listen(a,Nw,this.handleMouseDown).listen(FG(a),Qw,
this.handleDocumentMouseUp).listen(a,[Nw,Qw,Pw,Ow,Bs],this.handleChildMouseEvents);this.isFocusable()&&this.enableFocusHandling_(!0)};w.enableFocusHandling_=function(a){var b=this.getHandler(),d=this.getKeyEventTarget();a?b.listen(d,bu,this.handleFocus).listen(d,Ar,this.handleBlur).listen(this.getKeyHandler(),Uv,this.handleKeyEvent):b.unlisten(d,bu,this.handleFocus).unlisten(d,Ar,this.handleBlur).unlisten(this.getKeyHandler(),Uv,this.handleKeyEvent)};
w.exitDocument=function(){this.setHighlightedIndex(-1);this.openItem_&&this.openItem_.setOpen(!1);this.mouseButtonPressed_=!1;HO.superClass_.exitDocument.call(this)};w.disposeInternal=function(){HO.superClass_.disposeInternal.call(this);this.keyHandler_&&(this.keyHandler_.dispose(),this.keyHandler_=null);this.renderer_=this.openItem_=this.childElementIdMap_=this.keyEventTarget_=null};w.handleEnterItem=function(){return!0};
w.handleHighlightItem=function(a){var b=this.indexOfChild(a.target);if(-1<b&&b!=this.highlightedIndex_){var d=this.getHighlighted();d&&d.setHighlighted(!1);this.highlightedIndex_=b;d=this.getHighlighted();this.mouseButtonPressed_&&d.setActive(!0);this.openFollowsHighlight_&&this.openItem_&&d!=this.openItem_&&(d.isSupportedState(64)?d.setOpen(!0):this.openItem_.setOpen(!1))}b=this.getElement();E(b,Po);null!=a.target.getElement()&&dO(b,Uq,a.target.getElement().id)};
w.handleUnHighlightItem=function(a){a.target==this.getHighlighted()&&(this.highlightedIndex_=-1);a=this.getElement();E(a,Po);a.removeAttribute(cO(Uq))};w.handleOpenItem=function(a){(a=a.target)&&a!=this.openItem_&&a.getParent()==this&&(this.openItem_&&this.openItem_.setOpen(!1),this.openItem_=a)};w.handleCloseItem=function(a){a.target==this.openItem_&&(this.openItem_=null);var b=this.getElement(),d=a.target.getElement();b&&a.target.isHighlighted()&&d&&eO(b,d)};
w.handleMouseDown=function(a){this.enabled_&&this.setMouseButtonPressed(!0);var b=this.getKeyEventTarget();b&&cH(b)?b.focus():a.preventDefault()};w.handleDocumentMouseUp=function(){this.setMouseButtonPressed(!1)};w.handleChildMouseEvents=function(a){var b=this.getOwnerControl(a.target);if(b)switch(a.type){case Nw:b.handleMouseDown(a);break;case Qw:b.handleMouseUp(a);break;case Pw:b.handleMouseOver(a);break;case Ow:b.handleMouseOut(a);break;case Bs:b.handleContextMenu(a)}};
w.getOwnerControl=function(a){if(this.childElementIdMap_)for(var b=this.getElement();a&&a!==b;){var d=a.id;if(d in this.childElementIdMap_)return this.childElementIdMap_[d];a=a.parentNode}return null};w.handleFocus=function(){};w.handleBlur=function(){this.setHighlightedIndex(-1);this.setMouseButtonPressed(!1);this.openItem_&&this.openItem_.setOpen(!1)};
w.handleKeyEvent=function(a){return this.isEnabled()&&this.isVisible()&&(0!=this.getChildCount()||this.keyEventTarget_)&&this.handleKeyEventInternal(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
w.handleKeyEventInternal=function(a){var b=this.getHighlighted();if(b&&typeof b.handleKeyEvent==ku&&b.handleKeyEvent(a)||this.openItem_&&this.openItem_!=b&&typeof this.openItem_.handleKeyEvent==ku&&this.openItem_.handleKeyEvent(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.isFocusable())this.getKeyEventTarget().blur();else return!1;break;case 36:this.highlightFirst();break;case 35:this.highlightLast();break;case 38:if(this.orientation_==zC)this.highlightPrevious();
else return!1;break;case 37:if(this.orientation_==iv)this.isRightToLeft()?this.highlightNext():this.highlightPrevious();else return!1;break;case 40:if(this.orientation_==zC)this.highlightNext();else return!1;break;case 39:if(this.orientation_==iv)this.isRightToLeft()?this.highlightPrevious():this.highlightNext();else return!1;break;default:return!1}return!0};
w.registerChildId_=function(a){var b=a.getElement(),b=b.id||(b.id=a.getId());this.childElementIdMap_||(this.childElementIdMap_={});this.childElementIdMap_[b]=a};w.addChild=function(a,b){lE(a,BO,To);HO.superClass_.addChild.call(this,a,b)};
w.addChildAt=function(a,b,d){lE(a,BO);a.setDispatchTransitionEvents(2,!0);a.setDispatchTransitionEvents(64,!0);!this.isFocusable()&&this.allowFocusableChildren_||a.setSupportedState(32,!1);a.setHandleMouseEvents(!1);var e=a.getParent()==this?this.indexOfChild(a):-1;HO.superClass_.addChildAt.call(this,a,b,d);a.isInDocument()&&this.isInDocument()&&this.registerChildId_(a);this.updateHighlightedIndex_(e,b)};
w.updateHighlightedIndex_=function(a,b){-1==a&&(a=this.getChildCount());a==this.highlightedIndex_?this.highlightedIndex_=Math.min(this.getChildCount()-1,b):a>this.highlightedIndex_&&b<=this.highlightedIndex_?this.highlightedIndex_++:a<this.highlightedIndex_&&b>this.highlightedIndex_&&this.highlightedIndex_--};
w.removeChild=function(a,b){a=y(a)?this.getChild(a):a;lE(a,BO);if(a){var d=this.indexOfChild(a);-1!=d&&(d==this.highlightedIndex_?(a.setHighlighted(!1),this.highlightedIndex_=-1):d<this.highlightedIndex_&&this.highlightedIndex_--);(d=a.getElement())&&d.id&&this.childElementIdMap_&&VE(this.childElementIdMap_,d.id)}a=HO.superClass_.removeChild.call(this,a,b);a.setHandleMouseEvents(!0);return a};w.setOrientation=function(a){if(this.getElement())throw Error(Sh);this.orientation_=a};w.isVisible=function(){return this.visible_};
w.setVisible=function(a,b){if(b||this.visible_!=a&&this.dispatchEvent(a?YA:ev)){this.visible_=a;var d=this.getElement();d&&(T(d,a),this.isFocusable()&&this.renderer_.enableTabIndex(this.getKeyEventTarget(),this.enabled_&&this.visible_),b||this.dispatchEvent(this.visible_?Xq:Wq));return!0}return!1};w.isEnabled=function(){return this.enabled_};
w.setEnabled=function(a){this.enabled_!=a&&this.dispatchEvent(a?tt:Xs)&&(a?(this.enabled_=!0,this.forEachChild(function(a){a.wasDisabled?delete a.wasDisabled:a.setEnabled(!0)})):(this.forEachChild(function(a){a.isEnabled()?a.setEnabled(!1):a.wasDisabled=!0}),this.enabled_=!1,this.setMouseButtonPressed(!1)),this.isFocusable()&&this.renderer_.enableTabIndex(this.getKeyEventTarget(),a&&this.visible_))};w.isFocusable=function(){return this.focusable_};
w.setFocusable=function(a){a!=this.focusable_&&this.isInDocument()&&this.enableFocusHandling_(a);this.focusable_=a;this.enabled_&&this.visible_&&this.renderer_.enableTabIndex(this.getKeyEventTarget(),a)};w.setHighlightedIndex=function(a){(a=this.getChildAt(a))?a.setHighlighted(!0):-1<this.highlightedIndex_&&this.getHighlighted().setHighlighted(!1)};w.setHighlighted=function(a){this.setHighlightedIndex(this.indexOfChild(a))};w.getHighlighted=function(){return this.getChildAt(this.highlightedIndex_)};
w.highlightFirst=function(){this.highlightHelper(function(a,b){return(a+1)%b},this.getChildCount()-1)};w.highlightLast=function(){this.highlightHelper(function(a,b){a--;return 0>a?b-1:a},0)};w.highlightNext=function(){this.highlightHelper(function(a,b){return(a+1)%b},this.highlightedIndex_)};w.highlightPrevious=function(){this.highlightHelper(function(a,b){a--;return 0>a?b-1:a},this.highlightedIndex_)};
w.highlightHelper=function(a,b){for(var d=0>b?this.indexOfChild(this.openItem_):b,e=this.getChildCount(),d=a.call(this,d,e),f=0;f<=e;){var g=this.getChildAt(d);if(g&&this.canHighlightItem(g))return this.setHighlightedIndexFromKeyEvent(d),!0;f++;d=a.call(this,d,e)}return!1};w.canHighlightItem=function(a){return a.isVisible()&&a.isEnabled()&&a.isSupportedState(2)};w.setHighlightedIndexFromKeyEvent=function(a){this.setHighlightedIndex(a)};
w.setMouseButtonPressed=function(a){this.mouseButtonPressed_=a};var IO=function(){};B(IO,xO);hD(IO);IO.prototype.getCssClass=function(){return Hu};var JO=function(a,b,d){BO.call(this,a,d||IO.getInstance(),b);this.setSupportedState(1,!1);this.setSupportedState(2,!1);this.setSupportedState(4,!1);this.setSupportedState(32,!1);this.setStateInternal(1)};B(JO,BO);uO(Hu,function(){return new JO(null)});var KO=function(){this.classNameCache_=[]};B(KO,xO);hD(KO);w=KO.prototype;w.getCompositeCssClass_=function(a){var b=this.classNameCache_[a];if(!b){switch(a){case 0:b=this.getStructuralCssClass()+sc;break;case 1:b=this.getStructuralCssClass()+jc;break;case 2:b=this.getStructuralCssClass()+lc}this.classNameCache_[a]=b}return b};w.getAriaRole=function(){return Gw};
w.createDom=function(a){var b=a.getDomHelper().createDom(k,this.getClassNames(a).join(ga),this.createContent(a.getContent(),a.getDomHelper()));this.setEnableCheckBoxStructure(a,b,a.isSupportedState(8)||a.isSupportedState(16));return b};w.getContentElement=function(a){return a&&a.firstChild};
w.decorate=function(a,b){E(b);this.hasContentStructure(b)||b.appendChild(this.createContent(b.childNodes,a.getDomHelper()));$K(b,Mu)&&(a.setCheckable(!0),this.setCheckable(a,b,!0));return KO.superClass_.decorate.call(this,a,b)};w.setContent=function(a,b){var d=this.getContentElement(a),e=this.hasCheckBoxStructure(a)?d.firstChild:null;KO.superClass_.setContent.call(this,a,b);e&&!this.hasCheckBoxStructure(a)&&d.insertBefore(e,d.firstChild||null)};
w.hasContentStructure=function(a){a=UG(a);var b=this.getCompositeCssClass_(2);return!!a&&$K(a,b)};w.createContent=function(a,b){var d=this.getCompositeCssClass_(2);return b.createDom(k,d,a)};w.setSelectable=function(a,b,d){a&&b&&this.setEnableCheckBoxStructure(a,b,d)};w.setCheckable=function(a,b,d){a&&b&&this.setEnableCheckBoxStructure(a,b,d)};w.hasCheckBoxStructure=function(a){if(a=this.getContentElement(a)){a=a.firstChild;var b=this.getCompositeCssClass_(1);return!!a&&WG(a)&&$K(a,b)}return!1};
w.setEnableCheckBoxStructure=function(a,b,d){this.setAriaRole(b,a.getPreferredAriaRole());this.setAriaStates(a,b);d!=this.hasCheckBoxStructure(b)&&(dL(b,Mu,d),b=this.getContentElement(b),d?(d=this.getCompositeCssClass_(1),b.insertBefore(a.getDomHelper().createDom(k,d),b.firstChild||null)):b.removeChild(b.firstChild))};w.getClassForState=function(a){switch(a){case 2:return this.getCompositeCssClass_(0);case 16:case 8:return Nu;default:return KO.superClass_.getClassForState.call(this,a)}};
w.getStateFromClass=function(a){var b=this.getCompositeCssClass_(0);switch(a){case Nu:return 16;case b:return 2;default:return KO.superClass_.getStateFromClass.call(this,a)}};w.getCssClass=function(){return Iu};var LO=function(a,b,d,e){BO.call(this,a,e||KO.getInstance(),d);this.setValue(b)};B(LO,BO);w=LO.prototype;w.getValue=function(){var a=this.model_;return null!=a?a:this.getCaption()};w.setValue=function(a){this.setModel(a)};w.setSupportedState=function(a,b){LO.superClass_.setSupportedState.call(this,a,b);switch(a){case 8:this.setSelectableInternal_(b);break;case 16:this.setCheckableInternal_(b)}};w.setSelectable=function(a){this.setSupportedState(8,a)};
w.setSelectableInternal_=function(a){this.isChecked()&&!a&&this.setChecked(!1);var b=this.getElement();b&&this.renderer_.setSelectable(this,b,a)};w.setCheckable=function(a){this.setSupportedState(16,a)};w.setCheckableInternal_=function(a){var b=this.getElement();b&&this.renderer_.setCheckable(this,b,a)};w.getCaption=function(){var a=this.getContent();return jD(a)?(a=tE(a,function(a){return WG(a)&&($K(a,Ju)||$K(a,Ku))?c:gH(a)}).join(c),CD(a)):LO.superClass_.getCaption.call(this)};
w.getAccelerator=function(){var a=this.getDomHelper(),b=this.getContent();return jD(b)&&(b=yE(b,function(a){return $K(a,Ju)}))?a.getTextContent(b):null};w.handleMouseUp=function(a){var b=this.getParent();if(b){var d=b.openingCoords;b.openingCoords=null;if(b=d&&lD(a.clientX))b=new xG(a.clientX,a.clientY),b=d==b?!0:d&&b?d.x==b.x&&d.y==b.y:!1;if(b)return}LO.superClass_.handleMouseUp.call(this,a)};
w.handleKeyEventInternal=function(a){return a.keyCode==this.mnemonicKey_&&this.performActionInternal(a)?!0:LO.superClass_.handleKeyEventInternal.call(this,a)};w.getMnemonic=function(){return this.mnemonicKey_};uO(Iu,function(){return new LO(null)});LO.prototype.getPreferredAriaRole=function(){return this.isSupportedState(16)?Hw:this.isSupportedState(8)?Iw:LO.superClass_.getPreferredAriaRole.call(this)};LO.prototype.getParent=function(){return BO.prototype.getParent.call(this)};
LO.prototype.getParentEventTarget=function(){return BO.prototype.getParentEventTarget.call(this)};var MO=function(){};B(MO,xO);hD(MO);MO.prototype.createDom=function(a){return a.getDomHelper().createDom(k,this.getCssClass())};MO.prototype.decorate=function(a,b){b.id&&a.setId(b.id);if(b.tagName==kk){var d=b;b=this.createDom(a);RG(b,d);SG(d)}else U(b,this.getCssClass());return b};MO.prototype.setContent=function(){};MO.prototype.getCssClass=function(){return Lu};var NO=function(a,b){BO.call(this,null,a||MO.getInstance(),b);this.setSupportedState(1,!1);this.setSupportedState(2,!1);this.setSupportedState(4,!1);this.setSupportedState(32,!1);this.setStateInternal(1)};B(NO,BO);NO.prototype.enterDocument=function(){NO.superClass_.enterDocument.call(this);var a=this.getElement();E(a,Qo);bO(a,MA)};uO(Lu,function(){return new NO});var OO=function(a){this.ariaRole_=a||Ew};B(OO,wO);hD(OO);w=OO.prototype;w.canDecorate=function(a){return a.tagName==tp||OO.superClass_.canDecorate.call(this,a)};w.getDecoratorForChild=function(a){return a.tagName==kk?new NO:OO.superClass_.getDecoratorForChild.call(this,a)};w.containsElement=function(a,b){return XG(a.getElement(),b)};w.getCssClass=function(){return Fu};w.initializeDom=function(a){OO.superClass_.initializeDom.call(this,a);a=a.getElement();E(a,Zo);dO(a,av,NB)};uO(Lu,function(){return new NO});var PO=function(a,b){HO.call(this,zC,b||OO.getInstance(),a);this.setFocusable(!1)};B(PO,HO);w=PO.prototype;w.allowAutoFocus_=!0;w.allowHighlightDisabled_=!1;w.getCssClass=function(){return this.renderer_.getCssClass()};w.containsElement=function(a){if(this.renderer_.containsElement(this,a))return!0;for(var b=0,d=this.getChildCount();b<d;b++){var e=this.getChildAt(b);if(typeof e.containsElement==ku&&e.containsElement(a))return!0}return!1};w.removeItem=function(a){(a=this.removeChild(a,!0))&&a.dispose()};
w.getItemCount=function(){return this.getChildCount()};w.getItems=function(){var a=[];this.forEachChild(function(b){a.push(b)});return a};w.setPosition=function(a,b){var d=this.isVisible();d||T(this.getElement(),!0);var e=this.getElement(),f=a,g=b,m=tJ(e);f instanceof xG&&(g=f.y,f=f.x);f=fE(f)-m.x;pJ(e,e.offsetLeft+f,e.offsetTop+(Number(g)-m.y));d||T(this.getElement(),!1)};w.getPosition=function(){return this.isVisible()?tJ(this.getElement()):null};
w.setAllowAutoFocus=function(a){(this.allowAutoFocus_=a)&&this.setFocusable(!0)};w.setAllowHighlightDisabled=function(a){this.allowHighlightDisabled_=a};w.setVisible=function(a,b,d){(b=PO.superClass_.setVisible.call(this,a,b))&&a&&this.isInDocument()&&this.allowAutoFocus_&&this.getKeyEventTarget().focus();this.openingCoords=a&&d&&lD(d.clientX)?new xG(d.clientX,d.clientY):null;return b};
w.handleEnterItem=function(a){this.allowAutoFocus_&&this.getKeyEventTarget().focus();return PO.superClass_.handleEnterItem.call(this,a)};w.canHighlightItem=function(a){return(this.allowHighlightDisabled_||a.isEnabled())&&a.isVisible()&&a.isSupportedState(2)};w.decorateInternal=function(a){this.decorateContent(a);PO.superClass_.decorateInternal.call(this,a)};
w.handleKeyEventInternal=function(a){var b=PO.superClass_.handleKeyEventInternal.call(this,a);b||this.forEachChild(function(d){!b&&d.getMnemonic&&d.mnemonicKey_==a.keyCode&&(this.isEnabled()&&this.setHighlighted(d),b=d.handleKeyEvent(a))},this);return b};w.setHighlightedIndex=function(a){PO.superClass_.setHighlightedIndex.call(this,a);(a=this.getChildAt(a))&&wJ(a.getElement(),this.getElement())};
w.decorateContent=function(a){var b=this.renderer_;a=this.getDomHelper().getElementsByTagNameAndClass(k,b.getCssClass()+lc,a);for(var d=a.length,e=0;e<d;e++)b.decorateChildren(this,a[e])};var QO=function(a,b){PO.call(this,a,b);this.setAllowAutoFocus(!0);this.setVisible(!1,!0);this.targets_=new vH};B(QO,PO);w=QO.prototype;w.toggleMode_=!1;w.lastHide_=0;w.decorateInternal=function(a){QO.superClass_.decorateInternal.call(this,a);(a=a.getAttribute(fu)||a.htmlFor)&&this.attach(this.getDomHelper().getElement(a),1)};
w.enterDocument=function(){QO.superClass_.enterDocument.call(this);this.targets_.forEach(this.attachEvent_,this);var a=this.getHandler();a.listen(this,Rq,this.onAction_);a.listen(this.getDomHelper().document_,Nw,this.onDocClick,!0);jF&&a.listen(this.getDomHelper().document_,Bs,this.onDocClick,!0)};
w.attach=function(a,b,d,e,f){this.isAttachTarget(a)||(b=this.createAttachTarget(a,b,d,e,f),this.isInDocument()&&this.attachEvent_(b),a=tD(this.onMenuKeyboardAction_,a),this.getElement()&&this.getHandler().listen(this.getElement(),Vv,a))};
w.onMenuKeyboardAction_=function(a,b){if(27==b.keyCode)a.focus();else{var d=this.getChildAt(this.highlightedIndex_);if(d){var d=d.getElement(),e=new EF(b.event_,d);e.target=d;if(32==b.keyCode||13==b.keyCode)HF(d)?d.fireListeners(Vv,!1,e):$F(d,Vv,!1,e);32==b.keyCode&&this.hide()}}};w.createAttachTarget=function(a,b,d,e,f){if(!a)return null;b={element_:a,targetCorner_:b,menuCorner_:d,eventType_:e?Bs:Nw,margin_:f};this.targets_.set(qD(a),b);return b};
w.isAttachTarget=function(a){return a?this.targets_.containsKey(qD(a)):!1};w.attachEvent_=function(a){this.getHandler().listen(a.element_,a.eventType_,this.onTargetClick_);a.eventType_!=Bs&&this.getHandler().listen(a.element_,Vv,this.onTargetKeyboardAction_)};w.detach=function(a){if(!this.isAttachTarget(a))throw Error("Menu not attached to provided element, unable to detach.");a=qD(a);this.isInDocument()&&this.detachEvent_(this.targets_.get(a));this.targets_.remove(a)};
w.detachEvent_=function(a){this.getHandler().unlisten(a.element_,a.eventType_,this.onTargetClick_)};w.showWithPosition=function(a,b,d){var e=this.isVisible();this.isOrWasRecentlyVisible()&&this.toggleMode_?this.hide():this.dispatchEvent(ur)&&(b="undefined"!=typeof b?b:8,e||(this.getElement().style.visibility=dv),T(this.getElement(),!0),a.reposition(this.getElement(),b,d),e||(this.getElement().style.visibility=FC),this.setHighlightedIndex(-1),this.setVisible(!0))};
w.showMenu=function(a,b,d){b=x(a.targetCorner_)?new pO(a.element_,a.targetCorner_,!0):new sO(b,d);b.setLastResortOverflow&&b.setLastResortOverflow(5);this.showWithPosition(b,a.menuCorner_,a.margin_,a.element_)};w.showAtElement=function(a,b,d){this.showWithPosition(new qO(a,b,!0),d,null,a)};w.hide=function(){this.isVisible()&&(this.setVisible(!1),this.isVisible()||(this.lastHide_=A()))};w.isOrWasRecentlyVisible=function(){return this.isVisible()||this.wasRecentlyHidden()};
w.wasRecentlyHidden=function(){return 150>A()-this.lastHide_};w.onAction_=function(){this.hide()};w.onTargetClick_=function(a){this.onTargetActivation_(a)};w.onTargetKeyboardAction_=function(a){if(32==a.keyCode||13==a.keyCode||40==a.keyCode)this.onTargetActivation_(a);40==a.keyCode&&this.highlightFirst()};
w.onTargetActivation_=function(a){for(var b=this.targets_.getKeys(),d=0;d<b.length;d++){var e=this.targets_.get(b[d]);if(e.element_==a.currentTarget){this.showMenu(e,a.clientX,a.clientY);a.preventDefault();a.stopPropagation();break}}};w.onDocClick=function(a){this.isVisible()&&!this.containsElement(a.target)&&this.hide()};w.handleBlur=function(a){QO.superClass_.handleBlur.call(this,a);this.hide()};
w.disposeInternal=function(){QO.superClass_.disposeInternal.call(this);this.targets_&&(this.targets_.clear(),delete this.targets_)};var RO=function(a){M.call(this);this.timer_=null;this.element_=a;a=H||gF||jF&&!I(Ad)&&a.tagName==Lo;this.eventHandler_=new NH(this);this.eventHandler_.listen(this.element_,a?[Vv,$y,Gs,lt,Jv]:Jv,this)};B(RO,M);
RO.prototype.handleEvent=function(a){if(a.type==Jv)H&&I(10)&&0==a.keyCode&&0==a.charCode||(this.cancelTimerIfSet_(),this.dispatchEvent(this.createInputEvent_(a)));else if(a.type!=Vv||OL(a)){var b=a.type==Vv?this.element_.value:null;H&&229==a.keyCode&&(b=null);var d=this.createInputEvent_(a);this.cancelTimerIfSet_();this.timer_=nI(function(){this.timer_=null;this.element_.value!=b&&this.dispatchEvent(d)},0,this)}};
RO.prototype.cancelTimerIfSet_=function(){null!=this.timer_&&(oI(this.timer_),this.timer_=null)};RO.prototype.createInputEvent_=function(a){a=new EF(a.event_);a.type=Jv;return a};RO.prototype.disposeInternal=function(){RO.superClass_.disposeInternal.call(this);this.eventHandler_.dispose();this.cancelTimerIfSet_();delete this.element_};var SO=function(){this.classNameCache_=[]};B(SO,KO);hD(SO);SO.prototype.getCssClass=function(){return Bu};var TO=function(a,b,d,e){LO.call(this,a,b,d,e||new SO)};B(TO,LO);TO.prototype.observer_=null;TO.prototype.enterDocument=function(){TO.superClass_.enterDocument.call(this);this.callObserver()};TO.prototype.callObserver=function(a){this.observer_&&this.observer_(this,a||c)};uO(Bu,function(){return new TO(null)});var UO=function(a,b){PO.call(this,b,a)};B(UO,PO);w=UO.prototype;w.maxLength_=0;w.label_=c;w.allowMultiple_=!1;w.filterFromIndex_=0;
w.createDom=function(){UO.superClass_.createDom.call(this);var a=this.getDomHelper(),b=a.createDom(k,this.renderer_.getCssClass()+pc,this.labelEl_=a.createDom(k,null,this.label_),this.filterInput_=a.createDom(uk,{type:xB})),d=this.getElement();a.appendChild(d,b);b=this.makeId(zs);this.contentElement_=a.createDom(k,{"class":this.renderer_.getCssClass()+lc,id:b});a.appendChild(d,this.contentElement_);this.initFilterInput_();dO(this.filterInput_,pr,jw);dO(this.filterInput_,Qy,b);dO(this.filterInput_,
Bt,!0)};w.initFilterInput_=function(){this.setFocusable(!0);this.setKeyEventTarget(this.filterInput_);iF&&this.filterInput_.setAttribute(pr,vy);this.maxLength_&&(this.filterInput_.maxLength=this.maxLength_)};
w.setUpFilterListeners_=function(){!this.inputHandler_&&this.filterInput_&&(this.inputHandler_=new RO(this.filterInput_),FJ(this.filterInput_,!1),PF(this.inputHandler_,Jv,this.handleFilterEvent,!1,this),PF(this.filterInput_.parentNode,ls,this.onFilterLabelClick_,!1,this),this.allowMultiple_&&(this.enteredItems_=[]))};
w.tearDownFilterListeners_=function(){this.inputHandler_&&(XF(this.inputHandler_,Jv,this.handleFilterEvent,!1,this),XF(this.filterInput_.parentNode,ls,this.onFilterLabelClick_,!1,this),this.inputHandler_.dispose(),this.enteredItems_=this.inputHandler_=void 0)};w.setVisible=function(a,b,d){(b=UO.superClass_.setVisible.call(this,a,b,d))&&a&&this.isInDocument()?(this.setFilter(c),this.setUpFilterListeners_()):b&&!a&&this.tearDownFilterListeners_();return b};
w.disposeInternal=function(){this.tearDownFilterListeners_();this.labelEl_=this.filterInput_=void 0;UO.superClass_.disposeInternal.call(this)};w.setFilter=function(a){this.filterInput_&&(this.filterInput_.value=a,this.filterItems_(a))};w.hasPersistentVisibility=function(a){return!(!this.persistentChildren_||!this.persistentChildren_[a.getId()])};w.handleFilterEvent=function(){this.filterItems_(this.filterInput_.value);var a=this.getHighlighted();a&&a.isVisible()||this.highlightFirst();this.dispatchEvent(Wt)};
w.filterItems_=function(a){if(this.filterStr_!=a){this.labelEl_&&(this.labelEl_.style.visibility=a==c?FC:dv);if(this.allowMultiple_&&this.enteredItems_){var b=a.match(/^(.+),[ ]*([^,]*)$/),d=b&&b[1]?b[1].split(Xb):[];if(a.substr(a.length-1,1)==Xb||d.length!=this.enteredItems_.length){var e=d[d.length-1]||c;if(this.getHighlighted()&&e!=c){var f=this.getHighlighted().getCaption();0==f.toLowerCase().indexOf(e.toLowerCase())&&(d[d.length-1]=f,this.filterInput_.value=d.join(Xb)+Xb)}this.enteredItems_=
d;this.dispatchEvent(cs);this.setHighlightedIndex(-1)}b&&(a=2<b.length?DD(b[2]):c)}b=new RegExp(Mb+UD(a),tv);for(e=this.filterFromIndex_;d=this.getChildAt(e);e++)if(d instanceof TO)d.callObserver(a);else if(!this.hasPersistentVisibility(d))if(f=d.getCaption()){var g=f.match(b);a==c||g?(d.setVisible(!0),(f=f.indexOf(g[0]))&&f++,this.boldContent_(d,f,a.length)):d.setVisible(!1)}else d.setVisible(a==c);this.filterStr_=a}};
w.boldContent_=function(a,b,d){var e=a.getCaption(),f;if(0==d)f=this.getDomHelper().createTextNode(e);else{f=e.substr(0,b);var g=e.substr(b,d);b=e.substr(b+d);f=this.getDomHelper().createDom(In,null,f,this.getDomHelper().createDom(Af,null,g),b)}(g=a.getAccelerator&&a.getAccelerator())?a.setContent([f,this.getDomHelper().createDom(In,Ju,g)]):a.setContent(f)};
w.handleKeyEventInternal=function(a){return a.shiftKey||a.ctrlKey||a.altKey||36==a.keyCode||35==a.keyCode?!1:27==a.keyCode?(this.dispatchEvent(Ar),!0):UO.superClass_.handleKeyEventInternal.call(this,a)};
w.setHighlightedIndex=function(a){UO.superClass_.setHighlightedIndex.call(this,a);a=this.getContentElement();var b=this.getHighlighted()?this.getHighlighted().getElement():null;this.filterInput_&&eO(this.filterInput_,b);if(b&&XG(a,b)){var d=H&&!I(8)?0:a.offsetTop,e=b.offsetTop+b.offsetHeight-d-(a.clientHeight+a.scrollTop)+1;a.scrollTop+=Math.max(e,0);e=a.scrollTop-(b.offsetTop-d)+1;a.scrollTop-=Math.max(e,0)}};w.onFilterLabelClick_=function(){this.filterInput_.focus()};
w.getContentElement=function(){return this.contentElement_||this.getElement()};w.decorateInternal=function(a){this.setElementInternal(a);this.decorateContent(a);a=this.getDomHelper().getElementsByTagNameAndClass(k,this.renderer_.getCssClass()+pc,a)[0];this.labelEl_=UG(a);this.filterInput_=VG(this.labelEl_);this.contentElement_=VG(a);this.renderer_.decorateChildren(this,a.parentNode,this.contentElement_);this.initFilterInput_()};var VO=function(){OO.call(this)};B(VO,OO);hD(VO);VO.prototype.getContentElement=function(a){return IG(wh,a)[0]};var WO=function(a,b,d,e,f){AF.call(this);this.filtered_=!!e;a=a.get(IH).getDomHelper();f=!f&&(iF&&I(nd)||jF&&I(yd)||fF&&I(pd)||H&&vF(9)||gF||H&&I(Fd)&&!vF(9)||fF&&!I(pd));a=this.createMenu(a,f?VO.getInstance():void 0);a.setVisible(!1);a.setAllowHighlightDisabled(!1);a.setAllowAutoFocus(e||!1);e=d;f&&(e=(void 0)(wh,d));kK(b,OK,{content:e});a.decorate(b);U(a.getElement(),f?vh:uh);this.menu=a;H&&!I(Fd)&&(this.ieZIndexEls_=[],PF(a,[Xq,ev],z(this.onMenuVisiblityEvent_,this)))};B(WO,AF);w=WO.prototype;
w.createMenu=function(a,b){return this.filtered_?new UO(b,a):new PO(a,b)};w.getMenu=function(){return this.menu};w.onMenuVisiblityEvent_=function(a){a.target==this.menu&&this.fixIeZIndex_(a.type!=ev)};w.fixIeZIndex_=function(a){if(a)for(var b=this.menu.getContentElement();b;b=b.parentNode)a=b,a.tagName&&nJ(a,tz)==Tz&&0==nJ(a,UC)&&(a.style.zIndex=1,this.ieZIndexEls_.push(a));else{for(b=0;a=this.ieZIndexEls_[b];b++)a.style.zIndex=c;this.ieZIndexEls_.length=0}};
w.disposeInternal=function(){WO.superClass_.disposeInternal.call(this);this.menu.dispose();this.ieZIndexEls_=this.menu=null};var XO=function(a,b,d){WO.call(this,a,b,d)};B(XO,WO);XO.prototype.createMenu=function(a,b){return new QO(a,b)};var YO=function(a,b){SN.call(this,a,Pf);if(!this.delegate_){for(var d=this.constructor;d&&!d.delegateBase_;)d=d.superClass_&&d.superClass_.constructor;E(d,OB);d.delegateBase_.delegateProxyClass_||(d.delegateBase_.delegateProxyClass_=WN(d));this.delegate_=new d.delegateBase_.delegateProxyClass_(this);this.findDelegate?E(this.findDelegate==YN,ts):this.findDelegate=YN}this.showBehavior_=b?b:0;this.menu_=null;this.setupAriaProperties_();this.show_(!1);this.setUpListener_()};B(YO,SN);
mO.superClass_?E(mO.prototype instanceof TN,"delegate base class is not a subclass of fava.delegate.Delegate"):B(mO,TN);E(!YO.delegateBase_,"delegator already has a delegate base set");YO.delegateBase_=mO;var ZO=YO;do ZO=ZO.superClass_&&ZO.superClass_.constructor;while(ZO&&!ZO.delegateBase_);if(ZO&&ZO.delegateBase_!==mO.superClass_.constructor)throw Error("delegate base must derive from superclass delegate base");w=YO.prototype;
w.show_=function(a){switch(this.showBehavior_){case 0:this.getElement().style.display=a?c:iy;break;case 1:this.getElement().style.visibility=a?c:dv;break;case 2:this.getElement().style.position=a?c:Jq;this.getElement().style.top=a?c:cc;break;case 3:this.getElement().style.position=a?c:Tz,this.getElement().style.top=a?c:cc}var b=this.getAdaptor(!0);b&&b.checkContentSize();this.visible_=a};w.setUpListener_=function(){this.getHandler().listenWithWrapper(this.getElement(),gO,this.onAction_)};
w.onAction_=function(a){var b=a.target;b.getElement&&(b=b.getElement());for(var d=this.getElement();b&&b!=d;){var e=this.getLinkName_(b,iw);if(null===e)null===this.getLinkName_(b,Fw)||this.openNotificationMenuInternal_(b);else{(d=this.activeNotification_)&&d.handleAction&&d.handleAction(e,b.getAttribute(Yy));d&&d.hideWhenClicked_&&d==this.activeNotification_&&this.hideNotification();a.stopPropagation();break}b=b.parentNode}};
w.setupAriaProperties_=function(){this.setAriaLivePriority(sz);dO(this.getElement(),mr,NB)};
w.openNotificationMenuInternal_=function(a){this.disposeMenu_();var b=this.getDomHelper().createDom(bt);this.getElement().appendChild(b);for(var d=[],e=a.getAttribute(Yy).split(mb),f=0;f<e.length;f++){var g=e[f].split(aD);d.push(new ON(g[0],g[1]||null))}e=c;f=d.length;for(g=0;g<f;g++)var m=d[g],e=e+(m.id?Be+HK(LK(m.id))+Xa+qK(m.content)+Ud:m.content?Ae+qK(m.content)+Ud:Ge);d=pK(e);this.menu_=new XO(this.getContext(),b,d);d=this.menu_.getMenu();b.className=[b.className,Of].join(ga);d.setAllowAutoFocus(!0);
d.showAtElement(a,13,12);this.getHandler().listenWithScope(d,Rq,this.onAction_,!1,this)};w.disposeMenu_=function(){if(this.menu_){var a=this.menu_.getMenu();this.getHandler().unlisten(a,Rq,this.onAction_,!1,this);a=a.getElement();J(this.menu_);this.getDomHelper().removeNode(a);this.menu_=null}};w.disposeInternal=function(){this.disposeMenu_();YO.superClass_.disposeInternal.call(this)};w.setAriaLivePriority=function(a){dO(this.getElement(),lw,a)};
w.showNotification=function(a,b){var d=b||a.message_;this.show_(!0);var e=this.getContentArea();kK(e,OK,{content:d});switch(a.getType()){case 0:this.setStyleClass(Pf);break;case 1:this.setStyleClass(Uf);break;case 2:this.setStyleClass(Tf)}this.addClassByTag(e,Ko,Sf);this.addLinkCss_(e);this.addClassByTag(e,Ze,Qf);this.activeNotification_=a;this.delegate_.onShow(this.getContentArea().innerHTML)};w.hideNotification=function(){this.show_(!1);YG(this.getContentArea(),c);this.activeNotification_=void 0};
w.addClassByTag=function(a,b,d){a=a.getElementsByTagName(b);for(var e=0;b=a[e];e++)U(b,d)};w.getLinkName_=function(a,b){var d=a.getAttribute&&a.getAttribute(Rq)||a.id;return d&&0==d.lastIndexOf(b,0)?d.substr(b.length):null};w.addLinkCss_=function(a){a=a.getElementsByTagName(In);for(var b,d=0;b=a[d];d++)this.getLinkName_(b,iw)&&U(b,Rf)};var $O=function(a){JN.call(this,a,p)};B($O,JN);$O.prototype.hAlign_=cw;$O.prototype.cachedChildrenHolderDivWidth_=-1;$O.prototype.cachedChildrenHolderDivFloat_=c;var aP=H||iF&&!I("1.9a");w=$O.prototype;
w.createDom_=function(){$O.superClass_.createDom_.call(this);var a=this.element_;this.childrenHolderDiv_=this.getDomHelper().createDom(bt,{className:Xf});this.childrenHolderDivStyle_=this.childrenHolderDiv_.style;this.floatClearDiv_=this.getDomHelper().createElement(bt);this.floatClearDiv_.className=Vf;this.getDomHelper().appendChild(a,this.childrenHolderDiv_);this.getDomHelper().appendChild(a,this.floatClearDiv_)};
w.disposeInternal=function(){this.floatClearDiv_=this.childrenHolderDivStyle_=this.childrenHolderDiv_=null;$O.superClass_.disposeInternal.call(this)};w.updateElementLayout=function(a,b,d){$O.superClass_.updateElementLayout.call(this,a,b,d&&(!aP||this.hAlign_==cw));a=this.hAlign_==cw?c:oA;this.cachedChildrenHolderDivFloat_!=a&&(this.cachedChildrenHolderDivFloat_=a,H&&!I(qd)?this.childrenHolderDivStyle_.styleFloat=a:this.childrenHolderDivStyle_.cssFloat=a)};
w.updateChildrenLayout_=function(a,b,d){var e=this.getNumChildren();if(e){if(a==p){for(var f=0,g=0;g<e;g++)f+=d[this.getChildAt(g).getId()];e=f<=b?-1:f;this.cachedChildrenHolderDivWidth_!=e&&(this.cachedChildrenHolderDivWidth_=e,this.childrenHolderDivStyle_.width=qL(e))}$O.superClass_.updateChildrenLayout_.call(this,a,b,d)}};
w.insertChildElementAt=function(a,b){var d=a.getElement();U(d,Wf);b==this.getNumChildren()?this.childrenHolderDiv_.appendChild(a.getElement()):this.childrenHolderDiv_.insertBefore(d,this.childrenHolderDiv_.childNodes[b])};w.removeChildElementFrom=function(a){a=a.getElement();bL(a,Wf);this.getDomHelper().removeNode(a)};var cP=function(a){PN.call(this,a);this.contentWidthMeasurer_=bP};B(cP,PN);w=cP.prototype;w.disposeInternal=function(){this.contentWidthMeasurer_=null;cP.superClass_.disposeInternal.call(this)};w.canMeasureContentDirectlyNow=function(a){return a==r};w.prepareForDirectContentMeasureNow=function(a){this.clearSizeStyle(a)};w.measureContentSizeNow=function(a){if(a==p)return this.contentWidthMeasurer_(this);this.clearSizeStyle(a);return this.getElement().offsetHeight};
w.updateElementSizeAndChildren=function(a,b,d){a==p?(-1!=b||d?cP.superClass_.updateElementSizeAndChildren.call(this,a,b,d):cP.superClass_.updateElementSizeAndChildren.call(this,a,this.measureContentSize(a),!1),this.checkContentSize(r)):cP.superClass_.updateElementSizeAndChildren.call(this,a,b,d)};w.setContent=function(a){this.clear();a?this.getElement().innerHTML=iK(a):QG(this.getElement());this.checkContentSize()};w.addChild=function(a){this.addChild_(a)};
w.addChildAt=function(a,b){this.addChildAt_(a,b)};w.removeChild=function(a){return this.removeChild_(a)};w.removeChildAt=function(a){return this.removeChildAt_(a)};w.clear=function(){this.clear_()};var bP=function(a){var b=a.element_;a=a.getElementStyle_();var d=a.position,e=a.width;a.position=Jq;a.width=c;b=b.offsetWidth;a.position=d;a.width=e;return b};var dP=function(a){return(a=a.exec(aF))?a[1]:c};(function(){if(AI)return dP(/Firefox\/([0-9.]+)/);if(H||gF||fF)return sF;if(EI)return dP(/Chrome\/([0-9.]+)/);if(FI&&!(eF()||G(uv)||G(wv)))return dP(/Version\/([0-9.]+)/);if(BI||CI){var a=/Version\/(\S+).*Mobile\/(\S+)/.exec(aF);if(a)return a[1]+Rc+a[2]}else if(DI)return(a=dP(/Android\s+([0-9.]+)/))?a:dP(/Version\/([0-9.]+)/);return c})();var eP=function(a,b,d,e){M.call(this);this.duration_=d;this.front_=a;this.back_=b;this.skewAmount_=e||25;this.clearAnimationStyles_()};B(eP,M);w=eP.prototype;w.flip=function(a){this.run_(this.front_,this.back_,1,a)};w.unflip=function(a){this.run_(this.back_,this.front_,-1,a)};
w.doSkewFlip_=function(a,b,d,e){var f=c;if(e){e=zJ(b);var g=zJ(a),f=HA+e.width/g.width+Rb+e.height/g.height+Pb}S(a,EC,FC);WF(a,MC,z(this.endAnimation_,this,a,b));S(b,Nc,uA+d*-this.skewAmount_+Ps);S(b,EC,dv);nI(function(){S(a,Qc,Oc+this.duration_+EA);S(a,Nc,f+vA+d*this.skewAmount_+Ps);S(b,Qc,Oc+this.duration_+FA+this.duration_+DA);S(b,Nc,c)},0,this)};
w.doPerspectiveFlip_=function(a,b,d){S(a.parentElement,Mc,1E3);S(a,Pc,Cz);S(a,Lc,dv);S(b,Pc,Cz);S(b,Lc,dv);WF(a,MC,z(this.endAnimation_,this,a,b));S(a,EC,FC);S(b,Nc,tA+91*d+Ps);S(b,EC,dv);nI(function(){S(a,Qc,Oc+this.duration_+EA);S(a,Nc,tA+-91*d+Ps);S(b,Qc,Oc+this.duration_+FA+this.duration_+DA);S(b,Nc,c)},0,this)};w.doNotSupportedFlip_=function(a,b){this.endAnimation_(a,b)};w.showBack_=function(a,b){S(a,EC,dv);S(b,EC,FC)};w.endAnimation_=function(a,b){this.showBack_(a,b);this.dispatchEvent(new CF(Hl))};
w.run_=function(a,b,d,e){FI?this.doPerspectiveFlip_(a,b,d,e):EI?this.doSkewFlip_(a,b,d,e):this.doNotSupportedFlip_(a,b,d,e)};w.clearAnimationStyles_=function(){if(EI||FI)S(this.back_,Nc,c),S(this.back_,Qc,c),S(this.front_,Qc,c),S(this.front_,Nc,c)};var fP=function(a,b,d){AF.call(this);this.listener_=a;this.interval_=b||0;this.handler_=d;this.callback_=z(this.doAction_,this)};B(fP,AF);w=fP.prototype;w.id_=0;w.disposeInternal=function(){fP.superClass_.disposeInternal.call(this);this.stop();delete this.listener_;delete this.handler_};w.start=function(a){this.stop();this.id_=nI(this.callback_,x(a)?a:this.interval_)};w.stop=function(){this.isActive()&&oI(this.id_);this.id_=0};w.isActive=function(){return 0!=this.id_};
w.doAction_=function(){this.id_=0;this.listener_&&this.listener_.call(this.handler_)};var gP={},hP=null,iP=function(a){a=qD(a);delete gP[a];UE(gP)&&hP&&hP.stop()},kP=function(){hP||(hP=new fP(function(){jP(A())},20));var a=hP;a.isActive()||a.start()},jP=function(a){PE(gP,function(b){b.onAnimationFrame(a)});UE(gP)||kP()};var lP=function(){M.call(this);this.state_=0;this.endTime=this.startTime=null};B(lP,M);w=lP.prototype;w.setStatePlaying=function(){this.state_=1};w.setStateStopped=function(){this.state_=0};w.isPlaying=function(){return 1==this.state_};w.isPaused=function(){return-1==this.state_};w.isStopped=function(){return 0==this.state_};w.onBegin=function(){this.dispatchAnimationEvent(wr)};w.onEnd=function(){this.dispatchAnimationEvent(vt)};w.onFinish=function(){this.dispatchAnimationEvent(Xt)};w.onPlay=function(){this.dispatchAnimationEvent(pz)};
w.onResume=function(){this.dispatchAnimationEvent(Xz)};w.onStop=function(){this.dispatchAnimationEvent(iB)};w.dispatchAnimationEvent=function(a){this.dispatchEvent(a)};var mP=function(a,b,d,e){lP.call(this);if(!jD(a)||!jD(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.startPoint=a;this.endPoint=b;this.duration=d;this.accel_=e;this.coords=[];this.progress=0;this.lastFrame=null};B(mP,lP);w=mP.prototype;
w.play=function(a){if(a||this.isStopped())this.progress=0,this.coords=this.startPoint;else if(this.isPlaying())return!1;iP(this);this.startTime=a=A();this.isPaused()&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.lastFrame=this.startTime;if(!this.progress)this.onBegin();this.onPlay();if(this.isPaused())this.onResume();this.setStatePlaying();var b=qD(this);b in gP||(gP[b]=this);kP();this.cycle(a);return!0};
w.stop=function(a){iP(this);this.setStateStopped();a&&(this.progress=1);this.updateCoords_(this.progress);this.onStop();this.onEnd()};w.disposeInternal=function(){this.isStopped()||this.stop(!1);this.onDestroy();mP.superClass_.disposeInternal.call(this)};w.onAnimationFrame=function(a){this.cycle(a)};
w.cycle=function(a){fE(this.startTime);fE(this.endTime);fE(this.lastFrame);this.progress=(a-this.startTime)/(this.endTime-this.startTime);1<=this.progress&&(this.progress=1);this.lastFrame=a;this.updateCoords_(this.progress);if(1==this.progress)this.setStateStopped(),iP(this),this.onFinish(),this.onEnd();else if(this.isPlaying())this.onAnimate()};
w.updateCoords_=function(a){mD(this.accel_)&&(a=this.accel_(a));this.coords=Array(this.startPoint.length);for(var b=0;b<this.startPoint.length;b++)this.coords[b]=(this.endPoint[b]-this.startPoint[b])*a+this.startPoint[b]};w.onAnimate=function(){this.dispatchAnimationEvent(er)};w.onDestroy=function(){this.dispatchAnimationEvent(Rs)};w.dispatchAnimationEvent=function(a){this.dispatchEvent(new nP(a,this))};
var nP=function(a,b){CF.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.progress=b.progress;this.state=b.state_};B(nP,CF);var oP=function(a){a=a.className;return y(a)&&a.match(/\S+/g)||[]},pP=function(a,b){for(var d=oP(a),e=IE(arguments,1),f=d.length+e.length,g=d,m=0;m<e.length;m++)AE(g,e[m])||g.push(e[m]);a.className=d.join(ga);return d.length==f},rP=function(a,b){var d=oP(a),e=IE(arguments,1),f=qP(d,e);a.className=f.join(ga);return f.length==d.length-e.length},qP=function(a,b){return sE(a,function(a){return!AE(b,a)})};var sP=function(a){return oe+a.numId+La+qK(a.num)+Wd};sP.soyTemplateName="apps.photos.lightbox.filmStripThumbnail.numberBubbleTemplate";var tP=function(a,b){$L.call(this,a);this.showCommentCount_=b};B(tP,$L);var uP=new zG(78,78);w=tP.prototype;
w.createDom=function(){tP.superClass_.createDom.call(this);var a=this.getDomHelper(),b=this.getElement();pP(b,Du,pg);this.img_=this.createImageElement_(.5);this.img_.style.visibility=dv;var d=a.createElement(k);d.className=mg;a.appendChild(d,this.img_);a.appendChild(b,d);this.showCommentCount_&&(d={num:0,numId:this.makeId(Rr)},this.commentBubble_=xK(sP,d,a.document_),T(this.commentBubble_,!1),a.appendChild(b,this.commentBubble_))};
w.enterDocument=function(){tP.superClass_.enterDocument.call(this);this.showCommentCount_&&(this.commentBubbleTextEl_=this.getDomHelper().getElement(this.makeId(Rr)));this.url_&&lD(this.filmStripIndex_)&&(this.setExpandoProperty_(),this.updateCommentCount())};w.enterViewport=function(){this.url_&&!this.img_.src&&(this.getHandler().listenOnce(this.img_,nw,this.onImgLoad_),this.img_.src=this.url_)};
w.setData=function(a,b){if(b!=this.photo_||a!=this.filmStripIndex_)this.photo_=b,this.filmStripIndex_=a,this.url_=this.photo_.getSizedUrl(uP),this.isInDocument()&&(this.setExpandoProperty_(),this.updateCommentCount(),this.updateImage())};w.setExpandoProperty_=function(){this.getElement().fsIndex=this.filmStripIndex_;this.img_.fsIndex=this.filmStripIndex_;this.showCommentCount_&&(this.commentBubbleTextEl_.fsIndex=this.filmStripIndex_)};
w.onImgLoad_=function(a){var b=new zG(Number(this.img_.width),Number(this.img_.height));this.scaleThumbToFit_(this.img_,b,50);this.positionThumbImg_(this.img_,b,50);this.img_.style.visibility=FC;a&&this.getDomHelper().replaceNode(this.img_,a)};w.scaleThumbToFit_=function(a,b,d){1!=b.aspectRatio()?b.scale(1/b.getShortest()*d).ceil():(b.width=d,b.height=d);xJ(a,b)};
w.positionThumbImg_=function(a,b,d){b.width>b.height?S(a,ww,(b.width-d)/2*-1+Iz):b.height>b.width&&S(a,yw,-1*Math.floor((b.height-d)/3)+Iz)};w.select=function(a){this.selected_=a;CJ(this.img_,a?1:.5);this.updateCommentCount()};
w.updateImage=function(){this.url_=this.photo_.getSizedUrl(uP);if(this.isInDocument()&&this.url_&&this.url_!=this.img_.src){var a=this.img_;this.img_=this.createImageElement_(BJ(a));this.getHandler().listenOnce(this.img_,nw,z(this.onImgLoad_,this,a));this.img_.src=this.url_;this.setExpandoProperty_()}};
w.updateCommentCount=function(){if(this.showCommentCount_){var a=this.photo_.getTotalComments();this.getDomHelper().setTextContent(this.commentBubbleTextEl_,String(a));T(this.commentBubble_,!this.selected_&&0<a)}};w.createImageElement_=function(a){var b=this.getDomHelper().createElement(tk);CJ(b,a);b.className=og;return b};var vP=function(a,b,d){CF.call(this,a);this.index_=b;this.direction_=d};B(vP,CF);vP.prototype.getDirection=function(){return this.direction_};var wP=function(a){this.value_=void 0;this.childNodes_={};a&&this.setAll(a)};w=wP.prototype;w.set=function(a,b){this.setOrAdd_(a,b,!1)};w.add=function(a,b){this.setOrAdd_(a,b,!0)};w.setOrAdd_=function(a,b,d){for(var e=this,f=0;f<a.length;f++){var g=a.charAt(f);e.childNodes_[g]||(e.childNodes_[g]=new wP);e=e.childNodes_[g]}if(d&&void 0!==e.value_)throw Error('The collection already contains the key "'+a+Ca);e.value_=b};
w.setAll=function(a){var b=yH(a);a=xH(a);for(var d=0;d<b.length;d++)this.set(b[d],a[d])};w.getChildNode_=function(a){for(var b=this,d=0;d<a.length;d++)if(b=b.childNodes_[a.charAt(d)],!b)return;return b};w.get=function(a){return(a=this.getChildNode_(a))?a.value_:void 0};w.getValues=function(){var a=[];this.getValuesInternal_(a);return a};w.getValuesInternal_=function(a){void 0!==this.value_&&a.push(this.value_);for(var b in this.childNodes_)this.childNodes_[b].getValuesInternal_(a)};
w.getKeys=function(a){var b=[];if(a){for(var d=this,e=0;e<a.length;e++){var f=a.charAt(e);if(!d.childNodes_[f])return[];d=d.childNodes_[f]}d.getKeysInternal_(a,b)}else this.getKeysInternal_(c,b);return b};w.getKeysInternal_=function(a,b){void 0!==this.value_&&b.push(a);for(var d in this.childNodes_)this.childNodes_[d].getKeysInternal_(a+d,b)};w.containsKey=function(a){return void 0!==this.get(a)};w.containsPrefix=function(a){return 0==a.length?!this.isEmpty():!!this.getChildNode_(a)};
w.clear=function(){this.childNodes_={};this.value_=void 0};w.remove=function(a){for(var b=this,d=[],e=0;e<a.length;e++){var f=a.charAt(e);if(!b.childNodes_[f])throw Error('The collection does not have the key "'+a+Ca);d.push([b,f]);b=b.childNodes_[f]}a=b.value_;for(delete b.value_;0<d.length;)if(f=d.pop(),b=f[0],f=f[1],b.childNodes_[f].isEmpty())delete b.childNodes_[f];else break;return a};w.clone=function(){return new wP(this)};
w.getCount=function(){var a=this.getValues();if(a.getCount&&typeof a.getCount==ku)a=a.getCount();else if(kD(a)||y(a))a=a.length;else{var b=0,d;for(d in a)b++;a=b}return a};w.isEmpty=function(){return void 0===this.value_&&UE(this.childNodes_)};var xP=function(a){LI(this,a,0,-1,null,null)};B(xP,HI);w=xP.prototype;w.getSize=function(){return P(this,1)};w.setSize=function(a){Q(this,1,a)};w.getWidth=function(){return P(this,12)};w.setWidth=function(a){Q(this,12,a)};w.getHeight=function(){return P(this,13)};w.setHeight=function(a){Q(this,13,a)};w.getStretch=function(){return P(this,33)};w.setStretch=function(a){Q(this,33,a)};w.getCrop=function(){return null==P(this,2)?!1:P(this,2)};w.setCrop=function(a){Q(this,2,a)};
w.getCircleCrop=function(){return P(this,51)};w.setCircleCrop=function(a){Q(this,51,a)};w.getImageCrop=function(){return P(this,32)};w.setImageCrop=function(a){Q(this,32,a)};w.getSmartCrop=function(){return null==P(this,19)?!1:P(this,19)};w.setSmartCrop=function(a){Q(this,19,a)};w.getSmartCropNoClip=function(){return null==P(this,52)?!1:P(this,52)};w.setSmartCropNoClip=function(a){Q(this,52,a)};w.getSmartCropUseFace=function(){return null==P(this,67)?!1:P(this,67)};
w.setSmartCropUseFace=function(a){Q(this,67,a)};w.getDetectFaces=function(){return P(this,80)};w.setDetectFaces=function(a){Q(this,80,a)};w.getCenterCrop=function(){return null==P(this,20)?!1:P(this,20)};w.setCenterCrop=function(a){Q(this,20,a)};w.getPad=function(){return P(this,60)};w.setPad=function(a){Q(this,60,a)};w.getDownload=function(){return null==P(this,3)?!1:P(this,3)};w.setDownload=function(a){Q(this,3,a)};w.getHtml=function(){return null==P(this,4)?!1:P(this,4)};
w.setHtml=function(a){Q(this,4,a)};w.getLooseFaceCrop=function(){return P(this,65)};w.setLooseFaceCrop=function(a){Q(this,65,a)};w.getTileX=function(){return P(this,9)};w.setTileX=function(a){Q(this,9,a)};w.getTileY=function(){return P(this,10)};w.setTileY=function(a){Q(this,10,a)};w.getTileZoom=function(){return P(this,11)};w.setTileZoom=function(a){Q(this,11,a)};w.getTileGeneration=function(){return null==P(this,14)?!1:P(this,14)};w.setTileGeneration=function(a){Q(this,14,a)};
w.getForceTileGeneration=function(){return null==P(this,34)?!1:P(this,34)};w.setForceTileGeneration=function(a){Q(this,34,a)};w.getTilePyramidAsProto=function(){return null==P(this,72)?!1:P(this,72)};w.setTilePyramidAsProto=function(a){Q(this,72,a)};w.getExpirationTime=function(){return P(this,15)};w.setExpirationTime=function(a){Q(this,15,a)};w.getImageFilter=function(){return P(this,16)};w.setImageFilter=function(a){Q(this,16,a)};w.getKillAnimation=function(){return P(this,17)};
w.setKillAnimation=function(a){Q(this,17,a)};w.getUnfiltered=function(){return P(this,18)};w.setUnfiltered=function(a){Q(this,18,a)};w.getUnfilteredWithTransforms=function(){return P(this,45)};w.setUnfilteredWithTransforms=function(a){Q(this,45,a)};w.getIncludeMetadata=function(){return P(this,22)};w.setIncludeMetadata=function(a){Q(this,22,a)};w.getIncludePublicMetadata=function(){return P(this,54)};w.setIncludePublicMetadata=function(a){Q(this,54,a)};
w.getEsPortraitApprovedOnly=function(){return P(this,21)};w.setEsPortraitApprovedOnly=function(a){Q(this,21,a)};w.getBypassTakedown=function(){return null==P(this,23)?!1:P(this,23)};w.setBypassTakedown=function(a){Q(this,23,a)};w.getToken=function(){return P(this,24)};w.setToken=function(a){Q(this,24,a)};w.getVersionedToken=function(){return P(this,36)};w.setVersionedToken=function(a){Q(this,36,a)};w.getSkipRefererCheck=function(){return null==P(this,6)?!1:P(this,6)};
w.setSkipRefererCheck=function(a){Q(this,6,a)};w.getRotate=function(){return P(this,26)};w.setRotate=function(a){Q(this,26,a)};w.getHorizontalFlip=function(){return P(this,30)};w.setHorizontalFlip=function(a){Q(this,30,a)};w.getVerticalFlip=function(){return P(this,31)};w.setVerticalFlip=function(a){Q(this,31,a)};w.getOverlay=function(){return P(this,27)};w.setOverlay=function(a){Q(this,27,a)};w.getQueryString=function(){return P(this,28)};w.setQueryString=function(a){Q(this,28,a)};
w.getRequestJpeg=function(){return P(this,57)};w.setRequestJpeg=function(a){Q(this,57,a)};w.getRequestPng=function(){return P(this,58)};w.setRequestPng=function(a){Q(this,58,a)};w.getRequestGif=function(){return P(this,59)};w.setRequestGif=function(a){Q(this,59,a)};w.getRequestWebp=function(){return null==P(this,35)?!1:P(this,35)};w.setRequestWebp=function(a){Q(this,35,a)};w.getRequestWebpUnlessMaybeTransparent=function(){return null==P(this,41)?!1:P(this,41)};
w.setRequestWebpUnlessMaybeTransparent=function(a){Q(this,41,a)};w.getRequestAnimatedWebp=function(){return null==P(this,64)?!1:P(this,64)};w.setRequestAnimatedWebp=function(a){Q(this,64,a)};w.getNoWebp=function(){return null==P(this,48)?!1:P(this,48)};w.setNoWebp=function(a){Q(this,48,a)};w.getRequestH264=function(){return null==P(this,49)?!1:P(this,49)};w.setRequestH264=function(a){Q(this,49,a)};w.getNoOverlay=function(){return null==P(this,37)?!1:P(this,37)};
w.setNoOverlay=function(a){Q(this,37,a)};w.getBorderSize=function(){return P(this,38)};w.setBorderSize=function(a){Q(this,38,a)};w.getBorderColor=function(){return P(this,39)};w.setBorderColor=function(a){Q(this,39,a)};w.getNoSilhouette=function(){return P(this,40)};w.setNoSilhouette=function(a){Q(this,40,a)};w.getFocusBlur=function(){return P(this,42)};w.setFocusBlur=function(a){Q(this,42,a)};w.getFocalPlane=function(){return P(this,43)};w.setFocalPlane=function(a){Q(this,43,a)};
w.getQualityLevel=function(){return P(this,44)};w.setQualityLevel=function(a){Q(this,44,a)};w.getQualityBucket=function(){return P(this,62)};w.setQualityBucket=function(a){Q(this,62,a)};w.getNoUpscale=function(){return P(this,46)};w.setNoUpscale=function(a){Q(this,46,a)};w.getPreserveAspectRatio=function(){return P(this,61)};w.setPreserveAspectRatio=function(a){Q(this,61,a)};w.getForceTransformation=function(){return P(this,50)};w.setForceTransformation=function(a){Q(this,50,a)};
w.getNoDefaultImage=function(){return P(this,53)};w.setNoDefaultImage=function(a){Q(this,53,a)};w.getNoCorrectExifOrientation=function(){return P(this,55)};w.setNoCorrectExifOrientation=function(a){Q(this,55,a)};w.getSelectFrameNumber=function(){return P(this,56)};w.setSelectFrameNumber=function(a){Q(this,56,a)};w.getVideoFormat=function(){return P(this,63)};w.setVideoFormat=function(a){Q(this,63,a)};w.getVideoMultiFormat=function(){return P(this,81)};w.setVideoMultiFormat=function(a){Q(this,81,a)};
w.getVideoBegin=function(){return P(this,68)};w.setVideoBegin=function(a){Q(this,68,a)};w.getVideoLength=function(){return P(this,69)};w.setVideoLength=function(a){Q(this,69,a)};w.getMatchVersion=function(){return P(this,66)};w.setMatchVersion=function(a){Q(this,66,a)};w.getImageDigest=function(){return P(this,70)};w.setImageDigest=function(a){Q(this,70,a)};w.getInternalClient=function(){return P(this,71)};w.setInternalClient=function(a){Q(this,71,a)};w.getMonogram=function(){return P(this,73)};
w.setMonogram=function(a){Q(this,73,a)};w.getAutoloop=function(){return P(this,74)};w.setAutoloop=function(a){Q(this,74,a)};w.getImageVersion=function(){return P(this,75)};w.setImageVersion=function(a){Q(this,75,a)};w.getPitchDegrees=function(){return MI(this,76)};w.setPitchDegrees=function(a){Q(this,76,a)};w.getYawDegrees=function(){return MI(this,77)};w.setYawDegrees=function(a){Q(this,77,a)};w.getRollDegrees=function(){return MI(this,78)};w.setRollDegrees=function(a){Q(this,78,a)};
w.getFovDegrees=function(){return MI(this,79)};w.setFovDegrees=function(a){Q(this,79,a)};var X=function(){xP.call(this)};B(X,xP);X.prototype.setEncodedFrameId=function(a){this.encodedFrameId_=a};X.prototype.getEncodedFrameId=function(){return this.encodedFrameId_};X.prototype.setEncodedObjectId=function(a){this.encodedObjectId_=a};X.prototype.getEncodedObjectId=function(){return this.encodedObjectId_};var AP=function(){if(!yP){var a=yP=new wP,b;for(b in zP)a.add(b,zP[b])}},yP,Y=function(a,b){this.types=a;this.setters=b},zP={a:new Y([3,0],[X.prototype.setEsPortraitApprovedOnly,X.prototype.setSelectFrameNumber]),al:new Y([3],[X.prototype.setAutoloop]),b:new Y([3,0],[X.prototype.setBypassTakedown,X.prototype.setBorderSize]),c:new Y([3,0],[X.prototype.setCrop,X.prototype.setBorderColor]),cc:new Y([3],[X.prototype.setCircleCrop]),ci:new Y([3],[X.prototype.setImageCrop]),d:new Y([3],[X.prototype.setDownload]),
df:new Y([3],[X.prototype.setDetectFaces]),e:new Y([0],[X.prototype.setExpirationTime]),f:new Y([4],[X.prototype.setImageFilter]),fg:new Y([3],[X.prototype.setForceTileGeneration]),fh:new Y([3],[X.prototype.setHorizontalFlip]),fo:new Y([2],[X.prototype.setFovDegrees]),ft:new Y([3],[X.prototype.setForceTransformation]),fv:new Y([3],[X.prototype.setVerticalFlip]),g:new Y([3],[X.prototype.setTileGeneration]),h:new Y([3,0],[X.prototype.setHtml,X.prototype.setHeight]),i:new Y([3],[X.prototype.setIncludeMetadata]),
ic:new Y([0],[X.prototype.setInternalClient]),id:new Y([3],[X.prototype.setImageDigest]),ip:new Y([3],[X.prototype.setIncludePublicMetadata]),iv:new Y([0],[X.prototype.setImageVersion]),j:new Y([1],[X.prototype.setEncodedFrameId]),k:new Y([3,0],[X.prototype.setKillAnimation,X.prototype.setFocusBlur]),l:new Y([0],[X.prototype.setQualityLevel]),lf:new Y([3],[X.prototype.setLooseFaceCrop]),m:new Y([0],[X.prototype.setVideoFormat]),mm:new Y([4],[X.prototype.setVideoMultiFormat]),mo:new Y([3],[X.prototype.setMonogram]),
mv:new Y([3],[X.prototype.setMatchVersion]),n:new Y([3],[X.prototype.setCenterCrop]),nc:new Y([3],[X.prototype.setNoCorrectExifOrientation]),nd:new Y([3],[X.prototype.setNoDefaultImage]),no:new Y([3],[X.prototype.setNoOverlay]),ns:new Y([3],[X.prototype.setNoSilhouette]),nt0:new Y([4],[X.prototype.setVersionedToken]),nu:new Y([3],[X.prototype.setNoUpscale]),nw:new Y([3],[X.prototype.setNoWebp]),o:new Y([1,3],[X.prototype.setEncodedObjectId,X.prototype.setOverlay]),p:new Y([3,0],[X.prototype.setSmartCrop,
X.prototype.setFocalPlane]),pa:new Y([3],[X.prototype.setPreserveAspectRatio]),pd:new Y([3],[X.prototype.setPad]),pf:new Y([3],[X.prototype.setSmartCropUseFace]),pg:new Y([3],[X.prototype.setTilePyramidAsProto]),pi:new Y([2],[X.prototype.setPitchDegrees]),pp:new Y([3],[X.prototype.setSmartCropNoClip]),q:new Y([4],[X.prototype.setQueryString]),r:new Y([3,0],[X.prototype.setSkipRefererCheck,X.prototype.setRotate]),rg:new Y([3],[X.prototype.setRequestGif]),rh:new Y([3],[X.prototype.setRequestH264]),
rj:new Y([3],[X.prototype.setRequestJpeg]),ro:new Y([2],[X.prototype.setRollDegrees]),rp:new Y([3],[X.prototype.setRequestPng]),rw:new Y([3],[X.prototype.setRequestWebp]),rwa:new Y([3],[X.prototype.setRequestAnimatedWebp]),rwu:new Y([3],[X.prototype.setRequestWebpUnlessMaybeTransparent]),s:new Y([3,0],[X.prototype.setStretch,X.prototype.setSize]),t:new Y([4],[X.prototype.setToken]),u:new Y([3],[X.prototype.setUnfiltered]),ut:new Y([3],[X.prototype.setUnfilteredWithTransforms]),v:new Y([0],[X.prototype.setQualityBucket]),
vb:new Y([0],[X.prototype.setVideoBegin]),vl:new Y([0],[X.prototype.setVideoLength]),w:new Y([0],[X.prototype.setWidth]),x:new Y([0],[X.prototype.setTileX]),y:new Y([0],[X.prototype.setTileY]),ya:new Y([2],[X.prototype.setYawDegrees]),z:new Y([0],[X.prototype.setTileZoom])};w=AP.prototype;w.parse=function(a){var b=new X,d=new X;a=this.populateProtos_(a,b,d);return new BP(b,d,a)};
w.populateProtos_=function(a,b,d){if(a==c)return!0;a=a.split(bc);for(var e=!0,f=0;f<a.length;f++){var g=a[f];if(0==g.length)e=!1;else{var m=this.splitToken_(g);if(m){for(var q=[],u=[],D=!1,N=0;N<m.attributes.types.length;N++){var O=m.attributes.types[N],ea=m.value,V=f;if(m.signed&&1==O)for(var Ka=ea.length;12>Ka&&V<a.length-1;)ea+=bc+a[V+1],Ka=ea.length,++V;else if(2==O)for(;V<a.length-1&&a[V+1].match(/^[\d\.]/);)ea+=bc+a[V+1],++V;Ka=m.attributes.setters[N];ea=this.getParseMethod_(O)(m.option,ea,
b,d,Ka);if(null===ea){D=!0;f=V;break}else q.push(O),u.push(ea)}if(!D)for(f=0;f<u.length;f++)m=q[f],ea=u[f],this.getLogMethod_(m)(g,ea);e=e&&D}else e=!1}}return e};w.isFirstCharUpper_=function(a){a=a.substring(0,1);return a!=a.toLowerCase()};
w.splitToken_=function(a){var b=!1,d=a;this.isFirstCharUpper_(a)&&(b=!0,d=a.substring(0,1).toLowerCase()+a.substring(1));var e=yP,f;for(f=1;f<=d.length&&e.containsPrefix(d.substring(0,f));++f);return 1==f?null:(d=e.get(d.substring(0,f-1)))?{option:a.substring(0,f-1),value:a.substring(f-1),signed:b,attributes:d}:null};w.setOptionValue_=function(a,b,d,e,f){f.apply(d,[b]);a=a.substring(0,1);f.apply(e,[a==a.toUpperCase()])};
w.parseAndSetIntOption_=function(a,b,d,e,f){if(b==c)return 0;isFinite(b)&&(b=String(b));b=y(b)?/^\s*-?0x/i.test(b)?parseInt(b,16):parseInt(b,10):NaN;if(isNaN(b))return 1;this.setOptionValue_(a,b,d,e,f);return null};w.logIntParseError_=function(){};w.parseAndSetFloatOption_=function(a,b,d,e,f){if(b==c)return 0;var g=Number(b);b=0==g&&AD(b)?NaN:g;if(isNaN(b))return 1;this.setOptionValue_(a,b,d,e,f);return null};w.logFloatParseError_=function(){};
w.parseAndSetBoolOption_=function(a,b,d,e,f){if(b!=c)return 2;this.setOptionValue_(a,!0,d,e,f);return null};w.logBoolParseError_=function(){};w.parseAndSetStringOption_=function(a,b,d,e,f){if(b==c)return 0;this.setOptionValue_(a,b,d,e,f);return null};w.logStringParseError_=function(){};
w.getParseMethod_=function(a){switch(a){case 0:return z(this.parseAndSetIntOption_,this);case 2:return z(this.parseAndSetFloatOption_,this);case 3:return z(this.parseAndSetBoolOption_,this);case 4:case 1:return z(this.parseAndSetStringOption_,this);default:return function(){}}};
w.getLogMethod_=function(a){switch(a){case 0:return z(this.logIntParseError_,this);case 2:return z(this.logFloatParseError_,this);case 3:return z(this.logBoolParseError_,this);case 4:case 1:return z(this.logStringParseError_,this);default:return function(){}}};var BP=function(a,b,d){this.valueProto_=a;this.signatureFlagProto_=b;this.valid_=d};BP.prototype.isValid=function(){return this.valid_};var CP=function(a){this.parser_=null;this.components_=[];this.parsedOptions_=null;this.initParsedOptions_(a)};w=CP.prototype;w.getParsedOptions=function(){return this.parsedOptions_};w.getParser_=function(){null==this.parser_&&(this.parser_=new AP);return this.parser_};w.initParsedOptions_=function(a){this.parsedOptions_=a?y(a)?this.getParser_().parse(a):a:this.getParser_().parse(c)};
w.setOption_=function(a,b,d){a||typeof a==qy&&0==a||(a=void 0);var e=this.parsedOptions_.valueProto_,f=this.parsedOptions_.signatureFlagProto_,g=b.call(e);a!=g&&(void 0!=g&&b.call(f),d.call(e,a))};w.setEsPortraitApprovedOnly=function(a){this.setOption_(a,X.prototype.getEsPortraitApprovedOnly,X.prototype.setEsPortraitApprovedOnly);return this};w.setSelectFrameNumber=function(a){this.setOption_(a,X.prototype.getSelectFrameNumber,X.prototype.setSelectFrameNumber);return this};
w.setAutoloop=function(a){this.setOption_(a,X.prototype.getAutoloop,X.prototype.setAutoloop);return this};w.setBypassTakedown=function(a){this.setOption_(a,X.prototype.getBypassTakedown,X.prototype.setBypassTakedown);return this};w.setBorderSize=function(a){this.setOption_(a,X.prototype.getBorderSize,X.prototype.setBorderSize);return this};w.setCrop=function(a){this.setOption_(a,X.prototype.getCrop,X.prototype.setCrop);return this};
w.setBorderColor=function(a){this.setOption_(a,X.prototype.getBorderColor,X.prototype.setBorderColor);return this};w.setCircleCrop=function(a){this.setOption_(a,X.prototype.getCircleCrop,X.prototype.setCircleCrop);return this};w.setImageCrop=function(a){this.setOption_(a,X.prototype.getImageCrop,X.prototype.setImageCrop);return this};w.setDownload=function(a){this.setOption_(a,X.prototype.getDownload,X.prototype.setDownload);return this};
w.setDetectFaces=function(a){this.setOption_(a,X.prototype.getDetectFaces,X.prototype.setDetectFaces);return this};w.setExpirationTime=function(a){this.setOption_(a,X.prototype.getExpirationTime,X.prototype.setExpirationTime);return this};w.setImageFilter=function(a){this.setOption_(a,X.prototype.getImageFilter,X.prototype.setImageFilter);return this};w.setForceTileGeneration=function(a){this.setOption_(a,X.prototype.getForceTileGeneration,X.prototype.setForceTileGeneration);return this};
w.setHorizontalFlip=function(a){this.setOption_(a,X.prototype.getHorizontalFlip,X.prototype.setHorizontalFlip);return this};w.setFovDegrees=function(a){this.setOption_(a,X.prototype.getFovDegrees,X.prototype.setFovDegrees);return this};w.setForceTransformation=function(a){this.setOption_(a,X.prototype.getForceTransformation,X.prototype.setForceTransformation);return this};w.setVerticalFlip=function(a){this.setOption_(a,X.prototype.getVerticalFlip,X.prototype.setVerticalFlip);return this};
w.setTileGeneration=function(a){this.setOption_(a,X.prototype.getTileGeneration,X.prototype.setTileGeneration);return this};w.setHtml=function(a){this.setOption_(a,X.prototype.getHtml,X.prototype.setHtml);return this};w.setHeight=function(a){this.setOption_(a,X.prototype.getHeight,X.prototype.setHeight);return this};w.setIncludeMetadata=function(a){this.setOption_(a,X.prototype.getIncludeMetadata,X.prototype.setIncludeMetadata);return this};
w.setInternalClient=function(a){this.setOption_(a,X.prototype.getInternalClient,X.prototype.setInternalClient);return this};w.setImageDigest=function(a){this.setOption_(a,X.prototype.getImageDigest,X.prototype.setImageDigest);return this};w.setIncludePublicMetadata=function(a){this.setOption_(a,X.prototype.getIncludePublicMetadata,X.prototype.setIncludePublicMetadata);return this};w.setImageVersion=function(a){this.setOption_(a,X.prototype.getImageVersion,X.prototype.setImageVersion);return this};
w.setKillAnimation=function(a){this.setOption_(a,X.prototype.getKillAnimation,X.prototype.setKillAnimation);return this};w.setFocusBlur=function(a){this.setOption_(a,X.prototype.getFocusBlur,X.prototype.setFocusBlur);return this};w.setQualityLevel=function(a){this.setOption_(a,X.prototype.getQualityLevel,X.prototype.setQualityLevel);return this};w.setLooseFaceCrop=function(a){this.setOption_(a,X.prototype.getLooseFaceCrop,X.prototype.setLooseFaceCrop);return this};
w.setVideoFormat=function(a){this.setOption_(a,X.prototype.getVideoFormat,X.prototype.setVideoFormat);return this};w.setVideoMultiFormat=function(a){this.setOption_(a,X.prototype.getVideoMultiFormat,X.prototype.setVideoMultiFormat);return this};w.setMonogram=function(a){this.setOption_(a,X.prototype.getMonogram,X.prototype.setMonogram);return this};w.setMatchVersion=function(a){this.setOption_(a,X.prototype.getMatchVersion,X.prototype.setMatchVersion);return this};
w.setCenterCrop=function(a){this.setOption_(a,X.prototype.getCenterCrop,X.prototype.setCenterCrop);return this};w.setNoCorrectExifOrientation=function(a){this.setOption_(a,X.prototype.getNoCorrectExifOrientation,X.prototype.setNoCorrectExifOrientation);return this};w.setNoDefaultImage=function(a){this.setOption_(a,X.prototype.getNoDefaultImage,X.prototype.setNoDefaultImage);return this};w.setNoOverlay=function(a){this.setOption_(a,X.prototype.getNoOverlay,X.prototype.setNoOverlay);return this};
w.setNoSilhouette=function(a){this.setOption_(a,X.prototype.getNoSilhouette,X.prototype.setNoSilhouette);return this};w.setVersionedToken=function(a){this.setOption_(a,X.prototype.getVersionedToken,X.prototype.setVersionedToken);return this};w.setNoUpscale=function(a){this.setOption_(a,X.prototype.getNoUpscale,X.prototype.setNoUpscale);return this};w.setNoWebp=function(a){this.setOption_(a,X.prototype.getNoWebp,X.prototype.setNoWebp);return this};
w.setOverlay=function(a){this.setOption_(a,X.prototype.getOverlay,X.prototype.setOverlay);return this};w.setSmartCrop=function(a){this.setOption_(a,X.prototype.getSmartCrop,X.prototype.setSmartCrop);return this};w.setFocalPlane=function(a){this.setOption_(a,X.prototype.getFocalPlane,X.prototype.setFocalPlane);return this};w.setPreserveAspectRatio=function(a){this.setOption_(a,X.prototype.getPreserveAspectRatio,X.prototype.setPreserveAspectRatio);return this};
w.setPad=function(a){this.setOption_(a,X.prototype.getPad,X.prototype.setPad);return this};w.setSmartCropUseFace=function(a){this.setOption_(a,X.prototype.getSmartCropUseFace,X.prototype.setSmartCropUseFace);return this};w.setTilePyramidAsProto=function(a){this.setOption_(a,X.prototype.getTilePyramidAsProto,X.prototype.setTilePyramidAsProto);return this};w.setPitchDegrees=function(a){this.setOption_(a,X.prototype.getPitchDegrees,X.prototype.setPitchDegrees);return this};
w.setSmartCropNoClip=function(a){this.setOption_(a,X.prototype.getSmartCropNoClip,X.prototype.setSmartCropNoClip);return this};w.setQueryString=function(a){this.setOption_(a,X.prototype.getQueryString,X.prototype.setQueryString);return this};w.setSkipRefererCheck=function(a){this.setOption_(a,X.prototype.getSkipRefererCheck,X.prototype.setSkipRefererCheck);return this};w.setRotate=function(a){this.setOption_(a,X.prototype.getRotate,X.prototype.setRotate);return this};
w.setRequestGif=function(a){this.setOption_(a,X.prototype.getRequestGif,X.prototype.setRequestGif);return this};w.setRequestH264=function(a){this.setOption_(a,X.prototype.getRequestH264,X.prototype.setRequestH264);return this};w.setRequestJpeg=function(a){this.setOption_(a,X.prototype.getRequestJpeg,X.prototype.setRequestJpeg);return this};w.setRollDegrees=function(a){this.setOption_(a,X.prototype.getRollDegrees,X.prototype.setRollDegrees);return this};
w.setRequestPng=function(a){this.setOption_(a,X.prototype.getRequestPng,X.prototype.setRequestPng);return this};w.setRequestWebp=function(a){this.setOption_(a,X.prototype.getRequestWebp,X.prototype.setRequestWebp);return this};w.setRequestAnimatedWebp=function(a){this.setOption_(a,X.prototype.getRequestAnimatedWebp,X.prototype.setRequestAnimatedWebp);return this};
w.setRequestWebpUnlessMaybeTransparent=function(a){this.setOption_(a,X.prototype.getRequestWebpUnlessMaybeTransparent,X.prototype.setRequestWebpUnlessMaybeTransparent);return this};w.setStretch=function(a){this.setOption_(a,X.prototype.getStretch,X.prototype.setStretch);return this};w.setSize=function(a){this.setOption_(a,X.prototype.getSize,X.prototype.setSize);return this};w.setToken=function(a){this.setOption_(a,X.prototype.getToken,X.prototype.setToken);return this};
w.setUnfiltered=function(a){this.setOption_(a,X.prototype.getUnfiltered,X.prototype.setUnfiltered);return this};w.setUnfilteredWithTransforms=function(a){this.setOption_(a,X.prototype.getUnfilteredWithTransforms,X.prototype.setUnfilteredWithTransforms);return this};w.setQualityBucket=function(a){this.setOption_(a,X.prototype.getQualityBucket,X.prototype.setQualityBucket);return this};w.setVideoBegin=function(a){this.setOption_(a,X.prototype.getVideoBegin,X.prototype.setVideoBegin);return this};
w.setVideoLength=function(a){this.setOption_(a,X.prototype.getVideoLength,X.prototype.setVideoLength);return this};w.setWidth=function(a){this.setOption_(a,X.prototype.getWidth,X.prototype.setWidth);return this};w.setTileX=function(a){this.setOption_(a,X.prototype.getTileX,X.prototype.setTileX);return this};w.setTileY=function(a){this.setOption_(a,X.prototype.getTileY,X.prototype.setTileY);return this};
w.setYawDegrees=function(a){this.setOption_(a,X.prototype.getYawDegrees,X.prototype.setYawDegrees);return this};w.setTileZoom=function(a){this.setOption_(a,X.prototype.getTileZoom,X.prototype.setTileZoom);return this};w.setOptions=function(a){this.initParsedOptions_(a);return this};w.clearOptions=function(){this.initParsedOptions_(c);return this};w.build=function(){this.components_.length=0;this.writeOptions_();return this.components_.join(bc)};
w.writeOptions_=function(){this.maybeWriteNumberOption_(DA,X.prototype.getSize);this.maybeWriteNumberOption_(IC,X.prototype.getWidth);this.maybeWriteBoolOption_(Rr,X.prototype.getCrop);this.maybeWriteNumberOption_(Rr,X.prototype.getBorderColor,16,6);this.maybeWriteBoolOption_(Hs,X.prototype.getDownload);this.maybeWriteNumberOption_(Xu,X.prototype.getHeight);this.maybeWriteBoolOption_(DA,X.prototype.getStretch);this.maybeWriteBoolOption_(Xu,X.prototype.getHtml);this.maybeWriteBoolOption_(Ry,X.prototype.getSmartCrop);
this.maybeWriteBoolOption_(Sy,X.prototype.getPreserveAspectRatio);this.maybeWriteBoolOption_(dz,X.prototype.getPad);this.maybeWriteBoolOption_(wz,X.prototype.getSmartCropNoClip);this.maybeWriteBoolOption_(fz,X.prototype.getSmartCropUseFace);this.maybeWriteNumberOption_(Ry,X.prototype.getFocalPlane);this.maybeWriteBoolOption_($w,X.prototype.getCenterCrop);this.maybeWriteNumberOption_(Mz,X.prototype.getRotate);this.maybeWriteBoolOption_(Mz,X.prototype.getSkipRefererCheck);this.maybeWriteBoolOption_(St,
X.prototype.getHorizontalFlip);this.maybeWriteBoolOption_(lu,X.prototype.getVerticalFlip);this.maybeWriteBoolOption_($r,X.prototype.getCircleCrop);this.maybeWriteBoolOption_(gs,X.prototype.getImageCrop);this.maybeWriteBoolOption_(sy,X.prototype.getOverlay);this.maybeWriteStringOption_(sy,X.prototype.getEncodedObjectId);this.maybeWriteStringOption_(Pv,X.prototype.getEncodedFrameId);this.maybeWriteNumberOption_(p,X.prototype.getTileX);this.maybeWriteNumberOption_(r,X.prototype.getTileY);this.maybeWriteNumberOption_(TC,
X.prototype.getTileZoom);this.maybeWriteBoolOption_(mu,X.prototype.getTileGeneration);this.maybeWriteBoolOption_(Rt,X.prototype.getForceTileGeneration);this.maybeWriteBoolOption_(iu,X.prototype.getForceTransformation);this.maybeWriteNumberOption_(mt,X.prototype.getExpirationTime);this.maybeWriteStringOption_(Gt,X.prototype.getImageFilter);this.maybeWriteBoolOption_(Sv,X.prototype.getKillAnimation);this.maybeWriteNumberOption_(Sv,X.prototype.getFocusBlur);this.maybeWriteBoolOption_(WB,X.prototype.getUnfiltered);
this.maybeWriteBoolOption_(sC,X.prototype.getUnfilteredWithTransforms);this.maybeWriteBoolOption_(tv,X.prototype.getIncludeMetadata);this.maybeWriteBoolOption_(Lv,X.prototype.getIncludePublicMetadata);this.maybeWriteBoolOption_(Eq,X.prototype.getEsPortraitApprovedOnly);this.maybeWriteNumberOption_(Eq,X.prototype.getSelectFrameNumber);this.maybeWriteNumberOption_(sw,X.prototype.getVideoFormat);this.maybeWriteNumberOption_(xC,X.prototype.getVideoBegin);this.maybeWriteNumberOption_(GC,X.prototype.getVideoLength);
this.maybeWriteBoolOption_(dw,X.prototype.getLooseFaceCrop);this.maybeWriteBoolOption_(Zw,X.prototype.getMatchVersion);this.maybeWriteBoolOption_(zv,X.prototype.getImageDigest);this.maybeWriteNumberOption_(yv,X.prototype.getInternalClient);this.maybeWriteBoolOption_(qr,X.prototype.getBypassTakedown);this.maybeWriteNumberOption_(qr,X.prototype.getBorderSize);this.maybeWriteStringOption_(oB,X.prototype.getToken);this.maybeWriteStringOption_(ny,X.prototype.getVersionedToken);this.maybeWriteBoolOption_(AA,
X.prototype.getRequestWebp);this.maybeWriteBoolOption_(CA,X.prototype.getRequestWebpUnlessMaybeTransparent);this.maybeWriteBoolOption_(BA,X.prototype.getRequestAnimatedWebp);this.maybeWriteBoolOption_(ry,X.prototype.getNoWebp);this.maybeWriteBoolOption_(nA,X.prototype.getRequestH264);this.maybeWriteBoolOption_($x,X.prototype.getNoCorrectExifOrientation);this.maybeWriteBoolOption_(ay,X.prototype.getNoDefaultImage);this.maybeWriteBoolOption_(dy,X.prototype.getNoOverlay);this.maybeWriteStringOption_(Jz,
X.prototype.getQueryString);this.maybeWriteBoolOption_(ly,X.prototype.getNoSilhouette);this.maybeWriteNumberOption_(Yv,X.prototype.getQualityLevel);this.maybeWriteNumberOption_(tC,X.prototype.getQualityBucket);this.maybeWriteBoolOption_(oy,X.prototype.getNoUpscale);this.maybeWriteBoolOption_(pA,X.prototype.getRequestJpeg);this.maybeWriteBoolOption_(xA,X.prototype.getRequestPng);this.maybeWriteBoolOption_(hA,X.prototype.getRequestGif);this.maybeWriteBoolOption_(gz,X.prototype.getTilePyramidAsProto);
this.maybeWriteBoolOption_(Mw,X.prototype.getMonogram);this.maybeWriteBoolOption_(Yq,X.prototype.getAutoloop);this.maybeWriteNumberOption_(Nv,X.prototype.getImageVersion);this.maybeWriteNumberOption_(kz,X.prototype.getPitchDegrees);this.maybeWriteNumberOption_(SC,X.prototype.getYawDegrees);this.maybeWriteNumberOption_(qA,X.prototype.getRollDegrees);this.maybeWriteNumberOption_(au,X.prototype.getFovDegrees);this.maybeWriteBoolOption_(Ts,X.prototype.getDetectFaces);this.maybeWriteStringOption_(Lw,X.prototype.getVideoMultiFormat)};
w.sanitizeRadix_=function(a){return void 0==a||10!=a&&16!=a?10:a};w.getRadixPrefix_=function(a){return 16==a?kd:c};w.getNumberPadLeft_=function(a,b){if(void 0==b)return c;var d=b-a.length;return 0>=d?c:VD(id,d)};w.maybeWriteNumberOption_=function(a,b,d,e){var f=b.call(this.parsedOptions_.valueProto_);if(void 0!=f&&null!=f){d=this.sanitizeRadix_(d);var f=f.toString(d),g=new mK;g.append(this.getRadixPrefix_(d));g.append(this.getNumberPadLeft_(f,e));g.append(f);this.writeOption_(a,g.toString(),b)}};
w.maybeWriteBoolOption_=function(a,b){b.call(this.parsedOptions_.valueProto_)&&this.writeOption_(a,c,b)};w.maybeWriteStringOption_=function(a,b){var d=b.call(this.parsedOptions_.valueProto_);d&&this.writeOption_(a,d,b)};w.writeOption_=function(a,b,d){d.call(this.parsedOptions_.signatureFlagProto_)&&(a=a.substring(0,1).toUpperCase()+a.substring(1));this.components_.push(a+b)};var DP=function(a){CP.call(this,a)};B(DP,CP);w=DP.prototype;w.setCrop=function(a){a&&this.clearCropAndPadOptions();return DP.superClass_.setCrop.call(this,a)};w.setHeight=function(a){null!=a&&this.setSize();return DP.superClass_.setHeight.call(this,a)};w.setStretch=function(a){a&&this.clearCropAndPadOptions();return DP.superClass_.setStretch.call(this,a)};w.setQualityLevel=function(a){null!=a&&(E(wG(a),ap,a),E(a==uG(a,1,100),bp,a));return DP.superClass_.setQualityLevel.call(this,a)};
w.setImageFilter=function(a){a&&(a=a.replace(Ld,Id));return DP.superClass_.setImageFilter.call(this,a)};w.setImageCrop=function(a){a&&this.clearCropAndPadOptions();return DP.superClass_.setImageCrop.call(this,a)};w.setCircleCrop=function(a){a&&this.clearCropAndPadOptions();return DP.superClass_.setCircleCrop.call(this,a)};w.setSize=function(a){nD(a)?a=Math.max(a.width,a.height):E(null!==a,Gm,a);null!=a&&(E(wG(a),cp,a),this.setWidth(),this.setHeight());return DP.superClass_.setSize.call(this,a)};
w.setSmartCrop=function(a){a&&this.clearCropAndPadOptions();return DP.superClass_.setSmartCrop.call(this,a)};w.setSmartCropNoClip=function(a){a&&this.clearCropAndPadOptions();return DP.superClass_.setSmartCropNoClip.call(this,a)};w.setSmartCropUseFace=function(a){a&&this.clearCropAndPadOptions();return DP.superClass_.setSmartCropUseFace.call(this,a)};w.setCenterCrop=function(a){a&&this.clearCropAndPadOptions();return DP.superClass_.setCenterCrop.call(this,a)};
w.setPad=function(a){a&&this.clearCropAndPadOptions();return DP.superClass_.setPad.call(this,a)};w.setWidth=function(a){null!=a&&this.setSize();return DP.superClass_.setWidth.call(this,a)};w.hasNonZeroDimensionOptionSet=function(){var a=this.getParsedOptions().valueProto_;return!!(a.getSize()||a.getWidth()||a.getHeight())};
w.clearCropAndPadOptions=function(){this.setCenterCrop();this.setCircleCrop();this.setCrop();this.setImageCrop();this.setPad();this.setSmartCrop();this.setSmartCropNoClip();this.setSmartCropUseFace();return this};w.clearSizeOptions=function(){this.setSize();this.setHeight();this.setWidth();this.clearCropAndPadOptions();return this};w.build=function(){this.handleConstraints_();return DP.superClass_.build.call(this)};
w.handleConstraints_=function(){var a=this.getParsedOptions().valueProto_;a.getUnfiltered()||a.getUnfilteredWithTransforms()?a.getSize()||this.setSize(0):this.hasNonZeroDimensionOptionSet()||this.clearSizeOptions()};var EP=/^[^\/]*\/\//,FP=function(){};FP.prototype.parse=function(a){return new GP(a)};var GP=function(a){this.original_=a;this.originalPrefix_=c;(a=this.original_.match(EP))&&a[0]?(this.originalPrefix_=a[0],a=this.originalPrefix_.match(/\w+/)?this.original_:kv+this.original_.substring(this.originalPrefix_.length)):a=kv+this.original_;this.uri_=BM(a,!0);this.valid_=!0;this.obfuscated_=!1},HP=["image","proxy","public"];w=GP.prototype;
w.getComponents_=function(){if(void 0==this.components_){this.components_=this.uri_.getPath().substring(1).split(Wc);var a=this.components_.length;if(7==a||2==a)IP(this.components_[0])||(this.valid_=!1);else if(7<a||2<a&&5>a||0==a)this.valid_=!1;if(2>=a){this.obfuscated_=!0;var a=a-1,b=this.components_[a],d=b.indexOf(Te);-1!=d&&(this.components_[a]=b.substr(0,d),this.components_.push(b.substr(d+1)))}}return this.components_};w.isValid=function(){this.getComponents_();return this.valid_};
w.isObfuscated=function(){this.getComponents_();return this.obfuscated_};w.getDomain=function(){var a=this.uri_.port_;return this.uri_.getDomain()+(a?Id+a:c)};w.getQuery=function(){return this.uri_.getEncodedQuery()};w.getPathPrefix=function(){if(void 0!=this.pathPrefix_)return this.pathPrefix_;var a=this.getComponents_();IP(a[0])?this.pathPrefix_=a[0]:this.pathPrefix_=null;return this.pathPrefix_};w.hasPathPrefix=function(){return null!=this.getPathPrefix()};
w.hasOptions=function(){switch(this.getComponents_().length){case 7:return!0;case 6:return!this.hasPathPrefix();case 5:return!1;case 3:return!0;case 2:return!this.hasPathPrefix();case 1:return!1;default:return!1}};w.getComponent_=function(a){return this.isObfuscated()?this.getObfuscatedComponent_(a):this.getUnobfuscatedComponent_(a)};
w.getUnobfuscatedComponent_=function(a){var b=this.hasPathPrefix()?1:0;switch(a){case 0:b=0+b;break;case 1:b=1+b;break;case 2:b=2+b;break;case 3:b=3+b;break;case 4:if(!this.hasOptions())return null;b=4+b;break;case 5:a=this.hasOptions()?1:0;b=4+b+a;break;default:return null}return this.getComponents_()[b]};w.getObfuscatedComponent_=function(a){var b=this.hasPathPrefix()?1:0;switch(a){case 6:a=0+b;break;case 4:if(!this.hasOptions())return null;a=1+b;break;default:return null}return this.getComponents_()[a]};
w.getOriginal=function(){return this.original_};w.getObfuscatedData=function(){void 0==this.obfuscatedData_&&(this.obfuscatedData_=this.getComponent_(6));return this.obfuscatedData_};w.getObfuscatedGaiaId=function(){void 0==this.obfuscatedGaiaId_&&(this.obfuscatedGaiaId_=this.getComponent_(0));return this.obfuscatedGaiaId_};w.getPhotoId=function(){void 0==this.photoId_&&(this.photoId_=this.getComponent_(1));return this.photoId_};
w.getImageVersion=function(){void 0==this.imageVersion_&&(this.imageVersion_=this.getComponent_(2));return this.imageVersion_};w.getSignature=function(){void 0==this.signature_&&(this.signature_=this.getComponent_(3));return this.signature_};w.getOptions=function(){void 0==this.options_&&(this.options_=this.getComponent_(4));return this.options_};w.getParsedOptions=function(){if(void 0==this.parsedOptions_){var a=this.getOptions();a||(a=c);this.parsedOptions_=(new AP).parse(a)}return this.parsedOptions_};
w.getFilename=function(){void 0==this.filename_&&(this.filename_=this.getComponent_(5));return this.filename_};var IP=function(a){return!(!a||!AE(HP,a))};var KP=function(a){this.parsedImageUrl_=null;a instanceof GP||(void 0==JP&&(JP=new FP),a=JP.parse(a.toString()));this.parsedImageUrl_=a;a=this.parsedImageUrl_.getParsedOptions();CP.call(this,a);this.protocolPrefix_=this.parsedImageUrl_.originalPrefix_;this.domain_=this.parsedImageUrl_.getDomain();this.query_=this.parsedImageUrl_.getQuery()},JP;B(KP,DP);KP.prototype.clearQueryParams=function(){this.query_=c;return this};
KP.prototype.build=function(){if(!this.parsedImageUrl_.isValid())return this.parsedImageUrl_.getOriginal();var a=KP.superClass_.build.call(this),b=[];this.parsedImageUrl_.hasPathPrefix()&&b.push(this.parsedImageUrl_.getPathPrefix());this.parsedImageUrl_.isObfuscated()?(a=this.parsedImageUrl_.getObfuscatedData()+(a?Te+a:c),b.push(a)):(b.push(this.parsedImageUrl_.getObfuscatedGaiaId()),b.push(this.parsedImageUrl_.getPhotoId()),b.push(this.parsedImageUrl_.getImageVersion()),b.push(this.parsedImageUrl_.getSignature()),
a&&b.push(a),b.push(this.parsedImageUrl_.getFilename()));return this.protocolPrefix_+this.domain_+Wc+b.join(Wc)+(this.query_?We+this.query_:c)};var LP=new FP,OP=function(a,b,d,e){a=a.clone();if(a.fitsInside(b)||a.fitsInside(MP))return a;a.scaleToFit(b);if(d)a=a.round();else if(b=Math.round(Math.max(a.width,a.height))){e=e||NP;d=e[0];for(var f=1;f<e.length;f++)if(b>=e[f])d=e[f];else break;e=d;a.width>a.height?(a.width=e,a.height=Math.round(a.height*e/b)):(a.height=e,a.width=Math.round(a.width*e/b))}else a.round();return a},NP=[32,48,64,72,80,90,94,104,110,120,128,144,150,160,200,220,288,320,400,512,576,640,720,800,912,1024,1152,1280,1440,
1600],MP=new zG(NP[0],NP[0]),PP=function(a,b,d,e,f){var g=/^(https?:)?\/\/(lh|gp|ci|gm)[3-6](-tt|-d[a-g,z])?\.((ggpht)|(googleusercontent)|(google))\.com\//i;if(!g.test(a))return a;var m=a.match(g),g=c;m&&m[3]&&(g=m[3]);d=d||ew;var q=$D(a)%(f||4)+(e||3),u=a.match(pI);a=u[1]||c;e=u[4]||c;f=u[5]||c;m=u[6]||c;u=u[7]||c;x(b)&&(a=b);b=d+q+g+Vc;g=c;a&&(g+=a+Id);b&&(g=g+Zc+b,e&&(g+=Id+e));f&&(g+=f);m&&(g+=We+m);u&&(g+=Ya+u);return g};var QP=function(a,b,d,e){this.format_=a;this.url_=b;d&&e&&(this.size_=new zG(d,e))},RP={FLV320:5,MP4_AVCBASE640_AAC:18,FLV_H264_AAC_MED:34,FLV_H264_AAC_HIGH:35,MP4_AVC720P_AAC:22,MP4_H264_AAC_1080P:37},SP=[5,18,34,35,22,37];QP.prototype.hasValidFormat=function(){return TE(RP,this.format_)};QP.prototype.getFormat=function(){return this.format_};QP.prototype.getUrl=function(){return this.url_};QP.prototype.getSize=function(){return this.size_};var TP=function(a){$L.call(this,a)};B(TP,$L);TP.prototype.setMaxSize=function(a){this.maxSize_=a.clone();this.exactSize_=null};TP.prototype.getMaxSize=function(){return this.maxSize_};TP.prototype.getDisplaySize=function(){return null};var UP=function(a,b){$L.call(this,b);this.locale_=a};B(UP,TP);UP.prototype.withCaptions=function(a,b){this.ttsUrl_=a;this.ttsPolicyUrl_=b;return this};var VP={allowFullScreen:NB,allowScriptAccess:"always",bgcolor:"#fff",scale:"noScale",wmode:"opaque"},WP=new zG(320,240);w=UP.prototype;w.getDisplaySize=function(){var a=this.getVideoCanvasSize();return new zG(a.width,a.height+38)};
w.createDom=function(){UP.superClass_.createDom.call(this);var a=this.getDomHelper(),b=this.getDisplaySize(),d=bd;this.ttsUrl_&&(d+=tb);this.videoElement_=a.createDom(qt,{height:b.height,src:d,type:fr,width:b.width});PE(VP,z(function(a,b){this.videoElement_.setAttribute(b,a)},this));this.videoElement_.setAttribute(Qj,this.constructFlashVars());xJ(this.videoElement_,b);this.getElement().appendChild(this.videoElement_);nI(z(this.dispatchEvent,this,new CF(Fn)),100,this);uD(Ey,z(this.onYouTubePlayerReady_,
this));uD(Cy,z(this.onYouTubeStateChange_,this))};w.onYouTubeStateChange_=function(a){this.dispatchEvent(new XP(Jo,a))};w.onYouTubePlayerReady_=function(){this.videoElement_.addEventListener(Dy,Cy,!1)};w.constructFlashVarsInternal=function(){return c};
w.constructFlashVars=function(){var a=this.constructFlashVarsInternal(),a=a+((a?ib:c)+hu+this.locale_+qb),b=window.top.location.protocol+Zc+window.top.location.host;this.ttsUrl_&&(a+=Bb+b+this.ttsUrl_);this.ttsPolicyUrl_&&(a+=Ab+b+this.ttsPolicyUrl_);H&&!I(Dd)&&(a+=sb);return a};w.getVideoCanvasSize=function(){var a=WP.clone(),b=this.exactSize_;b&&(b.width>=a.width||b.height>=a.height)&&(a=b.clone());return a};var XP=function(a){CF.call(this,a)};B(XP,CF);var YP=function(a,b,d){UP.call(this,b,d);this.videoStreams_=a};B(YP,UP);var ZP=new zG(320,240),$P=new zG(480,360);YP.prototype.getVideoCanvasSize=function(){var a=WP.clone(),b=this.exactSize_;if(b&&(b.width>=a.width||b.height>=a.height))a=b.clone();else{for(var d,b=this.getMaxSize(),e=0,f=this.videoStreams_.length;e<f;e++){var g=this.videoStreams_[e].getSize(),m=g&&b&&(g.width>b.width||g.height>b.height);g&&(!d||g.width>d.width)&&!m&&(d=g)}d&&(d.width>=a.width||d.height>=a.height)&&(a=d.clone())}return a};
var aQ=function(a){var b=a.getSize();b||(b=5==a.getFormat()?ZP:$P);var d=5==a.getFormat()?Ed:Hd;return a.getFormat()+Wc+b.width+p+b.height+Wc+d};
YP.prototype.constructFlashVarsInternal=function(){var a=[],b=[],d=sE(this.videoStreams_,function(a){return a.hasValidFormat()});NE(d,function(a,b){return pE(SP,a.getFormat())-pE(SP,b.getFormat())});for(var e=0;e<d.length;++e){var f=d[e];a.push(aQ(f));b.push(f.getFormat()+ZC+decodeURIComponent(f.getUrl().replace(/\+/g,ga)).replace(/,/g,gb))}a=encodeURIComponent(String(a.reverse().join(Xb)));b=encodeURIComponent(String(b.reverse().join(Xb)));return $t+a+ub+b+Cb};var bQ=function(a,b,d,e,f,g,m,q){this.url_=a;this.caption_=b;this.description_=d;this.type_=e;this.medium_=f;this.duration_=g;this.width_=m;this.height_=q;this.thumbnails_=[];this.categories_=[];this.subTitles_=[]};w=bQ.prototype;w.getUrl=function(){return this.url_};w.setUrl=function(a){this.url_=a;return this};w.getCaption=function(){return this.caption_};w.setCaption=function(a){this.caption_=a;return this};w.getType=function(){return this.type_};w.getDescription=function(){return this.description_};
w.setDescription=function(a){this.description_=a;return this};w.setThumbnails=function(a){this.thumbnails_=a;return this};w.getWidth=function(){return this.width_};w.setWidth=function(a){this.width_=a;return this};w.getHeight=function(){return this.height_};w.setHeight=function(a){this.height_=a;return this};w.setPlayer=function(a){this.player_=a;return this};w.findCategoryWithScheme=function(a){return this.categories_?yE(this.categories_,function(b){return b?a==b.scheme_:!1}):null};
var cQ=function(a,b){this.url_=a;this.size_=b||null};cQ.prototype.getUrl=function(){return this.url_};cQ.prototype.setUrl=function(a){this.url_=a;return this};cQ.prototype.getSize=function(){return this.size_};cQ.prototype.setSize=function(a){this.size_=a;return this};var dQ=function(a,b,d){this.trustedResourceUrl_=a;this.size_=d||null};dQ.prototype.getUrl=function(){return this.trustedResourceUrl_.getTypedStringValue()};dQ.prototype.setUrl=function(a){this.trustedResourceUrl_=a;return this};
dQ.prototype.getSize=function(){return this.size_};dQ.prototype.setSize=function(a){this.size_=a;return this};var eQ=!1,fQ=c,gQ=function(a){a=a.match(/[\d]+/g);if(!a)return c;a.length=3;return a.join(Rc)};
(function(){if(navigator.plugins&&navigator.plugins.length){var a=navigator.plugins[$n];if(a&&(eQ=!0,a.description)){fQ=gQ(a.description);return}if(navigator.plugins[ao]){eQ=!0;fQ=sd;return}}if(navigator.mimeTypes&&navigator.mimeTypes.length&&(a=navigator.mimeTypes[fr],eQ=!!a&&a.enabledPlugin)){fQ=gQ(a.enabledPlugin.description);return}try{var b=new ActiveXObject(eo);eQ=!0;fQ=gQ(b.GetVariable(bb));return}catch(d){}try{b=new ActiveXObject(co);eQ=!0;fQ=Cd;return}catch(d){}try{b=new ActiveXObject(bo),
eQ=!0,fQ=gQ(b.GetVariable(bb))}catch(d){}})();var hQ=fQ;var iQ=function(a,b){M.call(this);this.queryData_=a;this.method_=b?Am:Uj};B(iQ,M);w=iQ.prototype;w.state_=sp;w.getMethod=function(){return this.method_};w.handleResponse=function(a,b,d){this.latency_=A()-this.sendTime_;this.state_=Op;var e=a[0]==this.getJsDataCode();e&&this.setResponseInternal(a);this.status_=b;this.debugInfo_=d;b?this.error_=0!=b.getResult():a||(this.error_=!0);this.error_=!e||this.error_;this.logRequest_();this.dispatchEvent(Op)};
w.logRequest_=function(){if(bM){var a=(new mK(df)).append(this.queryData_.toString()).append(oa);this.error_&&a.append(Aa);a.append(ta).append(this.latency_).append(Vw);this.debugInfo_&&(a.append(ba).append(this.debugInfo_.getServerLatencyStats()),F(this.debugInfo_.getErrorDescriptionList(),function(b){a.append(cj).append(b).append(ba)}))}};w.handleError=function(){this.latency_=A()-this.sendTime_;this.error_=!0;this.state_=Op;this.logRequest_();this.dispatchEvent(Op)};w.getState=function(){return this.state_};
w.send=function(a){this.sendTime_=A();this.state_=Ep;a.send(this)};w.getError=function(){return!!this.error_};w.getStatus=function(){return this.status_};var jQ={ID:0,TOTAL_PHOTOS:1,TITLE:2,CANONICAL_TITLE:3,AUTH_KEY:4,URL:5,LABEL:6,IS_RESHARE_DISABLED:7,SHOW_GEOINFO:8},kQ={ID:0,STATUS:1,STREAM:2,TTS_URL:3,DOWNLOAD_URL:4},lQ={ID:0,TITLE:1,DESCRIPTION:2,THUMBNAIL:3,ORIGINAL:4,SHAPE:5,URL:6,UNFILTERED_URL:23,UNFILTERED_WIDTH:24,UNFILTERED_HEIGHT:25,CAN_EDIT:7,CAN_COMMENT:12,CAN_TAG:13,CAN_REPORT_ABUSE:22,CAN_PLUS_ONE:30,COMMENT:8,TOTAL_COMMENTS:9,EXIF_INFO:10,GEO_INFO:11,HISTOGRAM:14,CAN_LIKE:15,LIKED_BY_VIEWER:16,TOTAL_LIKES:18,LIKING_USER:19,PLUS_ONE:27,
OWNER:17,IMAGE_FILTER:20,VIDEO_INFO:21,FILE_SIZE:26,IMAGE_VIEW_COUNT:28,IS_SOFT_DELETED:29,IS_COPYRIGHT_VIOLATION:33,SOFT_DELETE_APPEAL_STATUS:31,IS_PUBLIC:32};var mQ=function(a,b,d){this.eventTarget_=a;this.appContext_=b;this.container_=new PM(d);this.dataService_=b.get(Rr);this.eventHandler_=new NH(this)};w=mQ.prototype;w.getContainer=function(){return this.container_};w.mergeContainer=function(a){var b=this.getContainer().toArray();a=a.toArray();for(var d in jQ){var e=jQ[d];!x(a[e])||jD(a[e])&&0==a[e].length||(b[e]=a[e])}this.container_=new PM(b)};w.dispose=function(){J(this.eventHandler_)};w.getId=function(){return this.container_.getId()};
w.getUrl=function(){return this.container_.getUrl()};w.getCanonicalTitle=function(){return this.container_.getCanonicalTitle()};w.getAuthKey=function(){return this.container_.getAuthKey()};w.setTotalPhotos=function(a){this.container_.setTotalPhotos(a)};w.getShowGeoinfo=function(){return!!this.container_.getShowGeoinfo()};w.getContext=function(){return this.appContext_};w.dispatchEvent=function(a){this.eventTarget_.dispatchEvent(a)};w.getHandler=function(){return this.eventHandler_};
w.getEventTarget=function(){return this.eventTarget_};w.asyncLoadPhotos=gD;var nQ=function(a,b,d,e){CF.call(this,a,b);this.loadedPhotos_=d;this.offset_=e};B(nQ,CF);nQ.prototype.getOffset=function(){return this.offset_};var oQ=function(a){LI(this,a,c,-1,null,null)};B(oQ,HI);oQ.prototype.getShape=function(){return NI(this,WM,1)};var pQ=function(a,b){iQ.call(this,a,b)};B(pQ,iQ);pQ.prototype.getResponse=function(){return this.response_};pQ.prototype.setResponseInternal=function(a){this.response_=new oQ(a)};pQ.prototype.getJsDataCode=function(){return 6};var qQ=function(a){LI(this,a,c,-1,null,null)};B(qQ,HI);qQ.prototype.getShape=function(){return NI(this,WM,1)};var rQ=function(a,b){iQ.call(this,a,b)};B(rQ,iQ);rQ.prototype.getResponse=function(){return this.response_};rQ.prototype.setResponseInternal=function(a){this.response_=new qQ(a)};rQ.prototype.getJsDataCode=function(){return 11};var sQ=function(a){LI(this,a,c,-1,null,null)};B(sQ,HI);sQ.prototype.getEnablePicasaDownload=function(){return P(this,2)};var tQ=function(a,b){iQ.call(this,a,b)};B(tQ,iQ);tQ.prototype.getResponse=function(){return this.response_};tQ.prototype.setResponseInternal=function(a){this.response_=new sQ(a)};tQ.prototype.getJsDataCode=function(){return 10};var uQ=function(a){LI(this,a,c,-1,null,null)};B(uQ,HI);uQ.prototype.getHistogram=function(){return NI(this,ZM,1)};uQ.prototype.setHistogram=function(a){PI(this,1,a)};var vQ=function(a,b){iQ.call(this,a,b)};B(vQ,iQ);vQ.prototype.getResponse=function(){return this.response_};vQ.prototype.setResponseInternal=function(a){this.response_=new uQ(a)};vQ.prototype.getJsDataCode=function(){return 9};var wQ=function(a,b){iQ.call(this,a,b)};B(wQ,iQ);wQ.prototype.getResponse=function(){return this.response_};wQ.prototype.setResponseInternal=function(a){this.response_=(new HM(a)).getLightboxResponse()};wQ.prototype.getJsDataCode=function(){return 2};var xQ=function(){return pK(hm)};var zQ=function(a){var b;b=Kl+(Oe+HK(cC)+Ma);b=pK(c+(Ee+b+Ud));b=MN(b,0);b.setHandleAction(tD(yQ,a));return b},yQ=function(a,b){b==cC&&a()},AQ=function(a,b){b==qr&&a()},BQ=function(a,b){b==ZB&&a()},CQ=function(a,b){b==HC&&a()},DQ=function(a,b){b==zt&&a()},EQ=function(a,b){return a.activeNotification_==b?(a.hideNotification(),!0):!1};var GQ=function(a){this.isValid_=!1;this.segments_=[];var b=FQ.get(a.substring(0,a.indexOf(Id)));null!=b&&(this.isValid_=this.parseIdString_(a,b))},FQ=new vH(lz,7);w=GQ.prototype;w.parseIdString_=function(a,b){this.segments_=a!=c?a.split(Id):[];if(this.segments_.length>b){var d=b-1;this.segments_.splice(d,this.segments_.length-d,this.segments_.slice(d).join(Id))}return this.segments_.length==b};w.isValid=function(){return this.isValid_};w.getProvider=function(){return this.segments_[0]};
w.getObfuscatedGaiaId=function(){return this.segments_[1]};w.getAlbumId=function(){return this.segments_[2]};w.getPhotoId=function(){return this.segments_[3]};w.getAlbumAuthKey=function(){return this.segments_[5]};w.getPhotoPageUrl=function(){return this.segments_[6]};var IQ=function(a){LI(this,a,c,-1,HQ,null)};B(IQ,HI);var HQ=[1];IQ.prototype.getContainerPhotosList=function(){return OI(this,dN,1)};IQ.prototype.getTotalMatches=function(){return P(this,2)};var JQ=function(a,b){iQ.call(this,a,b)};B(JQ,iQ);JQ.prototype.getResponse=function(){return this.response_};JQ.prototype.setResponseInternal=function(a){this.response_=new IQ(a)};JQ.prototype.getJsDataCode=function(){return 7};var KQ=function(a){LI(this,a,c,-1,null,null)};B(KQ,HI);KQ.prototype.getPhoto=function(){return NI(this,VM,1)};KQ.prototype.setPhoto=function(a){PI(this,1,a)};var LQ=function(a,b){iQ.call(this,a,b)};B(LQ,iQ);LQ.prototype.getResponse=function(){return this.response_};LQ.prototype.setResponseInternal=function(a){this.response_=new KQ(a)};LQ.prototype.getJsDataCode=function(){return 8};var MQ=function(){M.call(this)};B(MQ,M);MQ.prototype.setView=function(a){this.previousView_=this.view_;this.view_=a;this.dispatchEvent(Vp)};MQ.prototype.getPreviousView=function(){return this.previousView_||null};var GN=function(a,b,d,e,f,g,m){this.eventTarget_=a;this.appContext_=b;this.photo_=new VM(d);this.dataState_=e||hC;this.container_=f||null;this.isFlickr_=g||!1;this.dataService_=b.get(Rr);this.viewService_=b.get(Hs);this.notificationService_=b.get(KH);this.lightboxEventService_=b.get(qr);this.diagnosticsService_=b.get(mu);this.configService_=PJ(b);this.navigationService_=b.get(Gt);this.windowService_=b.get(MH);this.eventHandler_=new NH(this);this.domHelper_=b.get(IH).getDomHelper();this.isFlashSupported_=
0<=ZD(hQ,Dd);this.filterPwaCommentsLikes_=(this.commentsFeatureEnabled_=(this.serverQuerySupported_=this.isFlickr_&&this.container_?this.flickrParseUrlData_():m&&this.initFromPhotoId_(m)||this.parseUrlData_())&&this.configService_.isFeatureEnabled(bz))&&this.configService_.isFeatureEnabled(jr);this.disableImageProxy_=this.configService_.isFeatureEnabled(Us);this.configService_.isFeatureEnabled($u);this.softDeleteEnabled_=this.configService_.isFeatureEnabled(IA);this.configService_.isFeatureEnabled(cz);
this.undoNametagEnabled_=this.configService_.isFeatureEnabled(cC);this.enablePhotoDetails_=this.configService_.isFeatureEnabled(dz);this.enableBlockUser_=this.configService_.isFeatureEnabled(Pr);this.enableDeletePhoto_=this.configService_.isFeatureEnabled(it);this.enableEditCaption_=this.configService_.isFeatureEnabled(ot);this.enableQueryView_=this.configService_.isFeatureEnabled(yz);this.enableFaceRecognition_=this.configService_.isFeatureEnabled(gu);this.enableFaceDetection_=this.configService_.isFeatureEnabled(Pt);
this.enableMaximizePhoto_=this.configService_.isFeatureEnabled(Tw);this.enableTimedText_=this.configService_.isFeatureEnabled(PB);this.flickrGuid_=this.isFlickr_?this.flickrParseGuid_():c;this.defaultProfilePortraitUrl_=this.configService_.getDefaultProfilePortraitUrl();this.sizeList_=this.configService_.isFeatureEnabled(Nr)?FE(NP,[1760,1920,2048]):NP;this.maxFifeSize_=Math.max.apply(Math,this.sizeList_);this.recordNextCommentTimestamp_()},NQ=/https?:\/\/(?:www\.)?(?:(?:picasaweb)|(?:lighthouse-dev2\.corp)|(?:dev2-lighthouse\.sandbox)|(?:[\d\w\.]+\.corp))\.(?:google\.)?com(?:\:[\d]+)?\/([\d\w\.]{4,})\/([\d\w_\-\.]+)(?:\?[\w\d\-_=&amp;;\.]*&?authKey=([\w\d\-_=;\.]+))?(?:#([\d]+)?)?/i,
OQ=/https?:\/\/(?:www\.)?(?:(?:picasaweb)|(?:lighthouse-dev2\.corp)|(?:dev2-lighthouse\.sandbox)|(?:[\d\w\.]+\.corp))\.(?:google\.)?com(?:\:[\d]+)?\/lh\/(?:s)?redir?(.*)/i;w=GN.prototype;w.downloadEnabledForPhoto=!1;w.update_=null;w.canAccessAlbum_=!0;w.dataLoading_=!1;w.serverRetriesLeft_=1;w.getPhoto=function(){return this.photo_};w.getOriginal=function(){return this.isFlickr_?null:this.photo_.getOriginal()};w.getUrl=function(){return this.isFlickr_?null:this.photo_.getUrl()};
w.getUserName=function(){return this.isFlickr_?c:this.userName_};w.getOriginalSize=function(){var a=this.photo_.getOriginal(),b=a.getWidth(),a=a.getHeight();return b&&a?new zG(b,a):null};w.getMaximumSize=function(){return new zG(this.maxFifeSize_,this.maxFifeSize_)};w.getOriginalUrl=function(){return this.isFlickr_||!this.container_?this.getProxifiedUrl(this.photo_.getOriginal().getUrl()):PP(this.getPhoto().getOriginal().getUrl(),c)};w.getContext=function(){return this.appContext_};
w.setUpdate=function(a){this.update_=a};w.getContainer=function(){return this.container_};w.recordNextCommentTimestamp_=function(){A()};w.initFromPhotoId_=function(a){var b=a.getObfuscatedGaiaId(),d=a.getPhotoId(),e=a.getAlbumId();a=a.getAlbumAuthKey();AD(XD(b))||AD(XD(d))||AD(XD(e))?this.isInittedFromPhotoId_=!1:(this.userName_=b,this.getPhoto().setId(d),AD(XD(a))||(this.authKey_=a),this.isInittedFromPhotoId_=!0);return this.isInittedFromPhotoId_};
w.parseUrlData_=function(){var a;a:if(a=this.photo_.getUrl(),NQ.test(a))a=NQ.exec(a);else{if(OQ.test(a)){a=new sM(a,!0);var b=a.getParameterValue(wB);if(b==ym||b==Mf){var b=a.getParameterValue(dC),d=a.getParameterValue(zv);if(b&&d){a=a.getParameterValue(nr)||c;a=[void 0,b,void 0,a,d];break a}}}a=null}return null!=a?(this.userName_=a[1],this.albumName_=a[2],this.authKey_=a[3],a[4]&&this.photo_.setId(a[4]),!0):!1};
var PQ=function(a){var b=[],d=a.findCategoryWithScheme(ov),d=new GQ(d?d.getValue():c);b[1]=a.getDescription();b[2]=a.getCaption();b[6]=d.isValid()?d.getPhotoPageUrl():a.getUrl();b[3]=tE(a.thumbnails_,function(a){var b=[];b[0]=a.getUrl();(a=a.getSize())&&a.width&&a.height&&(b[1]=a.width,b[2]=a.height);return b});var e=[],f=a.player_;e[0]=f.getUrl();(f=f.getSize())&&f.width&&f.height&&(e[1]=f.width,e[2]=f.height);b[4]=e;b[0]=d&&d.getPhotoId()?d.getPhotoId():e[0];a.medium_==AC&&(d=new SM,0<a.subTitles_.length&&
d.setTtsUrl(a.subTitles_[0].getHref()),b[21]=d.toArray());return b};w=GN.prototype;w.mergePhoto=function(a){var b=this.photo_.toArray(),d=a.toArray();a=this.mergeVideoInfo_(this.photo_.getVideoInfo(),a.getVideoInfo());for(var e in lQ){var f=lQ[e];if(d[f]||20==f)b[f]=d[f]}this.photo_=new VM(b);this.photo_.setVideoInfo(a)};w.mergeVideoInfo_=function(a,b){if(!a)return b;if(!b)return a;var d=a.toArray(),e=b.toArray(),f;for(f in kQ){var g=kQ[f];e[g]&&(d[g]=e[g])}return new SM(d)};
w.dispatchEvent=function(a){a instanceof CF?this.eventTarget_.dispatchEvent(a):y(a)&&this.eventTarget_.dispatchEvent(new CF(a,this))};w.mergeContainer=function(a){this.container_?this.container_.mergeContainer(a):this.container_=new mQ(this.eventTarget_,this.appContext_,a.toArray())};w.dispatchPhotoActionEvent=function(a,b,d,e){this.lightboxEventService_.dispatchEvent(new eM(a,b,this,d,e))};
w.sendDataRequest_=function(a,b){var d=a instanceof tM?new wQ(a,!0):a;this.getHandler().listenOnce(d,Op,b);d.send(this.dataService_)};
w.asyncLoadPhoto=function(a){this.isFlickr_||!this.container_?this.dataLoading_||!this.serverQuerySupported_||0>this.serverRetriesLeft_||this.dataState_==hz||(a=new wQ(this.flickrGetPhotoQuery_()),this.dataLoading_=!0,this.serverRetriesLeft_--,this.getHandler().listenOnce(a,Op,this.flickrOnPhotoLoad_),a.send(this.dataService_)):this.dataLoading_||!this.serverQuerySupported_||0>this.serverRetriesLeft_||this.isCompletelyLoaded()||(a=x(a)?a:!0,this.dataLoading_=!0,this.serverRetriesLeft_--,a=this.getPhotoQuery_(a),
this.enableQueryView_?this.sendDataRequest_(new JQ(a),this.onPhotoQueryLoad_):this.sendDataRequest_(new wQ(a),this.onPhotoLoad_))};
w.getPhotoQuery_=function(a){var b=new tM;b.add(dC,this.userName_).add(bA,!this.isCompletelyLoaded());this.enableQueryView_?b.add(CC,Bm).add(iz,this.getId()):b.add(CC,Cm).add(jz,this.getId());this.enablePhotoDetails_&&b.add(aA,!0);this.enableTimedText_&&b.add(eA,!0);this.albumName_&&b.add(cr,this.albumName_);a&&(b.add(cA,!0),this.enableFaceRecognition_&&b.add(dA,!0));this.commentsFeatureEnabled_&&(b.add($z,!0),this.filterPwaCommentsLikes_&&b.add(Vt,!0));(this.configService_.sharePhotoCallback_||this.configService_.editorServiceCallback_)&&
b.add(Yz,!0);this.authKey_&&b.add(nr,this.authKey_);return b};w.updatePhotoData_=function(a){this.dataState_==Bz?(a=new VM(a.toArray()),a.setUrl(this.getPhoto().getUrl()),this.mergePhoto(a),this.isInittedFromPhotoId_||this.parseUrlData_()):this.mergePhoto(a)};
w.onPhotoQueryLoad_=function(a){this.dataLoading_=!1;a=a.target;var b=a.getResponse();if(!a.getError()&&b)if(a=b.getContainerPhotosList(),this.setCanAccessAlbum(0!=a.length),this.canAccessAlbum_){if(a=new dN(a[0].toArray()),b=a.getPhotoList()[0])this.updatePhotoData_(b),this.getPhoto().setOwner(a.getOwner()),this.mergeContainer(a.getContainer()),this.dataState_=hz,this.dispatchEvent(Tv),this.configService_.isFeatureEnabled(et)&&this.loadSettings()}else this.dispatchEvent(ty)};
w.onPhotoLoad_=function(a){this.dataLoading_=!1;a=a.target;var b=a.getResponse();!a.getError()&&b&&(a=b.getPhotoList()[0])&&(this.updatePhotoData_(a),this.dataState_=hz,this.dispatchEvent(Tv))};w.loadSettings=function(){var a=new tM;a.add(CC,Wj).add(tu,this.getPhoto().getOwner().getId()).add(Qt,!0);this.sendDataRequest_(new tQ(a),this.onPreferencesLoad_)};
w.onPreferencesLoad_=function(a){a=a.target;var b=a.getResponse();!a.getError()&&b&&(this.downloadEnabledForPhoto=b.getEnablePicasaDownload());this.dispatchEvent(ax)};w.asyncLoadHistogram=function(a){var b=this.getPhoto();if(b.getHistogram())a();else if(b=b.getThumbnailList()[0]||b.getOriginal()){var d=new tM;d.add(CC,jk).add(pC,b.getUrl());this.sendDataRequest_(new vQ(d),tD(this.onHistogramLoad_,a))}};
w.onHistogramLoad_=function(a,b){var d=b.target,e=d.getResponse();!d.getError()&&e&&(this.getPhoto().setHistogram(e.getHistogram()),a())};
w.approveNametag=function(a,b){if(this.serverQuerySupported_){var d=this.getPhoto().getShapeList(),e=xE(d,function(b){return b.getId()==a},this),f=0<=e?d[e]:null;f&&(b?f.setStatus(5):CE(d,e),this.startUserAction(b?gN:mN),d=this.showSavingNotification_(),e=f.getNameTagCreator(),f.getPersonList(),this.sendDataRequest_(this.getApproveNametagQuery_(a,b),z(this.onNametagApproved_,this,b,d,e,a)))}};
w.getApproveNametagQuery_=function(a,b){var d=new tM;d.add(Rq,rm).add(dC,this.userName_).add(WA,a).add(iz,this.getId()).add(hr,b);return d};
w.onNametagApproved_=function(a,b,d,e,f){var g=this.notificationService_;b=EQ(g,b);f=f.target;b&&(f.getError()?a=this.mapErrorStatusToNotification_(f.getStatus()):(this.dispatchPhotoActionEvent(a?TC:Ze,this.userName_,e),this.dispatchEvent(new QQ(It,this,e)),f=d.getProfileUrl()||c,b=d.getDisplayname()||c,d=z(this.confirmBlockUser_,this,d,e),f={url:f,fullname:b},b=this.enableBlockUser_,e=Ee,a?e+=Ll:(e+=ep,b&&f&&(a=ma+(Oe+HK(qr)+Ia+(yr+(je+HK(LK(f.url))+Pa+(qK(f.fullname)+Pd)))),e+=a)),a=pK(e+Ud),a=
MN(a,0),a.setHandleAction(z(AQ,null,d)),this.finishUserAction()),g.showNotification(a))};w.deleteNametag=function(a,b){if(this.serverQuerySupported_){var d=this.getPhoto().getShapeList(),e=xE(d,function(b){return b.getId()==a},this),f=0<=e?d[e]:null;if(f){var g=0==f.getStatus();(f=g||2==f.getSource())&&CE(d,e);d=gD;g||(g=this.showSavingNotification_(),d=z(this.onNametagDeleted_,this,f,g,a));this.sendDataRequest_(this.getDeleteNametagQuery_(f,a,b),d)}}};
w.getDeleteNametagQuery_=function(a,b,d){var e=new tM;e.add(Rq,a?vm:tm).add(dC,this.userName_).add(WA,b).add(iz,this.getId()).add(fC,!!d);return e};
w.onNametagDeleted_=function(a,b,d,e){var f=this.notificationService_;EQ(f,b)&&(b=e.target,b.getError()?a=this.mapErrorStatusToNotification_(b.getStatus()):(this.dispatchPhotoActionEvent(Ze,this.userName_,d),a||(b=this.getPhoto().getShapeList(),e=xE(b,function(a){return a.getId()==d},this),b=0<=e?b[e]:null,b.setStatus(0),b.clearPersonList()),this.dispatchEvent(new QQ(Zu,this,d,void 0,a)),a=MN(pK(Nl),0)),f.showNotification(a))};
w.createNametag=function(a,b){if(this.serverQuerySupported_){var d=this.getPhoto().getShapeList(),e=xE(d,function(b){return b.getId()==a},this);if(d=0<=e?d[e]:null){e=7==d.getStatus();d.setStatus(4);var f=new $M([]);f.setContactId(b.getId());f.setId(b.gaiaId_);f.setEmail(b.getEmail());f.setDisplayname(b.getFullName());f.setFullname(b.getFullName());f.setNickname(b.getFullName());d.setPersonList([f]);this.startUserAction(BN);f=this.showSavingNotification_();this.sendDataRequest_(new pQ(this.getCreateNametagQuery_(a,
b,e),!0),z(this.onNametagCreated_,this,f,d))}}};
w.onNametagCreated_=function(a,b,d){var e=this.notificationService_;a=EQ(e,a);var f=d.target,g=f.getResponse();d=g.getShape();var m;if(!f.getError()&&g){d.setUpperLeftX(b.getUpperLeftX());d.setUpperLeftY(b.getUpperLeftY());d.setLowerRightX(b.getLowerRightX());d.setLowerRightY(b.getLowerRightY());var q=b.getId(),f=this.getPhoto().getShapeList(),g=xE(f,function(a){return q==a.getId()},this);0<=g?f[g]=d:f.push(d);this.getPhoto().setShapeList(f);this.dispatchPhotoActionEvent(Af,this.userName_,q);this.dispatchEvent(new QQ(nu,
this,b.getId()));this.finishUserAction();this.undoNametagEnabled_&&(m=zQ(z(this.undoNametag_,this,d.getId())))}else m=this.mapErrorStatusToNotification_(f.getStatus());a&&m&&e.showNotification(m)};w.undoNametag_=function(a){this.logAction(DN);this.deleteNametag(a,!0)};
w.getCreateNametagQuery_=function(a,b,d){var e=new tM;e.add(Rq,sm).add(dC,this.userName_).add(WA,a).add(iz,this.getId()).add(vs,b.getFullName());d&&e.add(Mv,d);b.getId()&&e.add(ws,b.getId());b.gaiaId_&&e.add(tu,b.gaiaId_);b.getEmail()&&e.add(us,b.getEmail());return e};
w.rejectNametag=function(a,b){if(this.serverQuerySupported_){var d=this.getPhoto().getShapeList(),e=xE(d,function(b){return b.getId()==a},this),f=0<=e?d[e]:null;f&&(CE(d,e),d=this.showSavingNotification_(),this.sendDataRequest_(new rQ(this.getEditShapeQuery_(a,b),!0),z(this.onNametagRejected_,this,d,f)))}};w.getEditShapeQuery_=function(a,b){var d=new tM;d.add(Rq,xm).add(dC,this.userName_).add(WA,a).add(iz,this.getId()).add(pt,Rz);b.getId()&&d.add(ws,b.getId());b.gaiaId_&&d.add(tu,b.gaiaId_);return d};
w.onNametagRejected_=function(a,b,d){var e=this.notificationService_;a=EQ(e,a);d=d.target;var f=d.getResponse();!d.getError()&&f?(this.dispatchPhotoActionEvent(Lf,this.userName_,b.getId()),this.dispatchEvent(new QQ(xv,this,b.getId())),b=MN(pK(Ml),0)):b=this.mapErrorStatusToNotification_(d.getStatus());a&&b&&e.showNotification(b)};w.createPhoto=function(a,b,d,e,f,g){return new GN(a,b,d,e,f,g)};
w.blockUser=function(a,b){var d=a.getId();if(d){this.startUserAction(b?pN:CN);var e=this.showSavingNotification_();this.sendDataRequest_(this.getBlockUserQuery_(b,d,a.getFullname()),z(this.onUserBlocked_,this,a,b,e))}};w.confirmBlockUser_=function(a,b){var d=a.getProfilePortraitUrl()||this.getDefaultProfilePortraitUrl(),e=a.getDisplayname()||c,f=a.getId()||c,g=z(this.blockUser,this,a,!0,b),m=this.configService_.blockConfirmCallback_;null!=m&&m(d,e,f,g)};
w.getBlockUserQuery_=function(a,b,d){var e=new tM;e.add(Rq,Cf).add(xr,a).add(tu,b).add(bx,d);return e};
w.onUserBlocked_=function(a,b,d,e){var f=this.notificationService_;if(EQ(f,d)){d=e.target;if(d.getError())b=this.mapErrorStatusToNotification_(d.getStatus());else{this.dispatchPhotoActionEvent(b?Nk:Pk,this.userName_);this.finishUserAction();e=a.getProfileUrl()||c;var g=a.getDisplayname()||c;a=z(this.blockUser,this,a,!b);d=Ee;b?(e=je+HK(LK(e))+Pa+(qK(g)+Qd),g=Oe+HK(ZB)+Ja,d+=e+ga+g):(e=je+HK(LK(e))+Pa+(qK(g)+Rd),d+=e);d=pK(d+Ud);d=MN(d,0);b&&d.setHandleAction(z(BQ,null,a));b=d}f.showNotification(b)}};
w.rotatePhoto=function(a,b){var d=this.getPhoto().getVideoInfo(),e;if(d)switch(e=d.getStatus(),d.setStatus(0),a){case 90:this.startUserAction(AN);break;case 180:this.startUserAction(yN);break;case 270:this.startUserAction(zN)}else switch(a){case 90:this.startUserAction(xN);break;case 270:this.startUserAction(wN)}d=this.showSavingNotification_();this.sendDataRequest_(new LQ(this.getRotatePhotoQuery_(a),!0),z(this.onPhotoRotated_,this,d,e,b||null))};
w.getRotatePhotoQuery_=function(a){var b=new tM;b.add(Rq,Dm).add(dr,a).add(dC,this.userName_).add(iz,this.getId());(a=this.getPhoto().getVideoInfo())&&a.getId()&&b.add(BC,a.getId());this.authKey_&&b.add(nr,this.authKey_);return b};
w.onPhotoRotated_=function(a,b,d,e){var f=this.notificationService_;a=EQ(f,a);e=e.target;var g=e.getResponse();if(!a||g&&!e.getError()){if(b=g.getPhoto())b.getVideoInfo()&&b.getVideoInfo().setStatus(0),this.dataState_=Bz,this.updatePhotoData_(b),this.dataState_=hz,this.dispatchPhotoActionEvent(Bj,this.userName_),this.dispatchEvent(Tv),this.dispatchEvent($v),this.viewService_.setView(ab);this.finishUserAction()}else f.showNotification(this.mapErrorStatusToNotification_(e.getStatus())),this.getPhoto().getVideoInfo()&&
this.getPhoto().getVideoInfo().setStatus(b),d&&d()};w.deletePhoto=function(a){if(this.serverQuerySupported_&&this.enableDeletePhoto_&&this.getPhoto().getCanEdit()){var b=this.getPhoto().getVideoInfo()?sf:rf;if(a||this.windowService_.confirm(b))this.startUserAction(hN),a=this.showSendingNotification_(),this.sendDataRequest_(this.getDeletePhotoQuery_(),z(this.onPhotoDeleted_,this,a))}};
w.getDeletePhotoQuery_=function(){var a=new tM;a.add(Rq,um).add(dC,this.userName_).add(iz,this.getId());this.authKey_&&a.add(nr,this.authKey_);return a};w.onPhotoDeleted_=function(a,b){var d=this.notificationService_;EQ(d,a);var e=b.target,f=e.getResponse();e.getError()||!f||f.getError()?d.showNotification(this.mapErrorStatusToNotification_(e.getStatus())):(this.dispatchPhotoActionEvent(Mi,this.userName_),this.dispatchEvent(Is),this.finishUserAction())};
w.editCaption=function(a,b){if(this.serverQuerySupported_&&this.enableEditCaption_&&this.getPhoto().getCanEdit()){new wQ(this.getEditCaptionQuery_(a),!0);var d=this.getCaption();this.getPhoto().setDescription(a);this.startUserAction(d?qN:oN);var e=this.showSendingNotification_();this.sendDataRequest_(this.getEditCaptionQuery_(a),z(this.onCaptionEdited_,this,e,d,b))}};
w.getEditCaptionQuery_=function(a){var b=new tM;b.add(Rq,wm).add(dC,this.userName_).add(iz,this.getId()).add(Yr,a);this.authKey_&&b.add(nr,this.authKey_);return b};w.onCaptionEdited_=function(a,b,d,e){var f=this.notificationService_;EQ(f,a);a=e.target;e=a.getResponse();a.getError()||!e||e.getError()?(f.showNotification(this.mapErrorStatusToNotification_(a.getStatus())),this.getPhoto().setDescription(b),d&&d()):(this.dispatchPhotoActionEvent(WB,this.userName_),this.dispatchEvent(nt),this.finishUserAction())};
w.plusOne=function(a,b){this.serverQuerySupported_&&(this.startUserAction(lN),this.sendDataRequest_(new wQ(this.getPlusOneQuery_(a),!0),z(this.onPlusOneSaved_,this,b)))};w.getPlusOneQuery_=function(a){var b=new tM;b.add(Rq,zm).add(dC,this.userName_).add(iz,this.getId()).add(rz,a);this.albumName_&&b.add(cr,this.albumName_);this.getContainer()&&this.getContainer().getId()&&b.add($q,this.getContainer().getId());this.update_&&this.update_.getUpdateId()&&b.add(vz,this.update_.getUpdateId());return b};
w.onPlusOneSaved_=function(a,b){var d=b.target,e=d.getResponse();d.getError()||!e||e.getError()?a():this.finishUserAction()};w.showSavingNotification_=function(){var a=MN(pK(Mn),0);this.notificationService_.showNotification(a);return a};w.showSendingNotification_=function(){var a=MN(pK(Rn),0);this.notificationService_.showNotification(a);return a};
w.mapErrorStatusToNotification_=function(a){if(null!=a){if(0==a.getResult())return null;if(2==a.getResult()){a=z(this.navigateToPublicProfileSignupPage_,this);var b;b=gp+(Oe+HK(HC)+Oa);b=pK(c+(Ee+b+Ud));b=MN(b,0);b.setHandleAction(z(CQ,null,a));return b}if(3==a.getResult())return a=z(this.navigateToEsSignupPage_,this),b=fp+(Oe+HK(zt)+Na),b=pK(c+(Ee+b+Ud)),b=MN(b,0),b.setHandleAction(z(DQ,null,a)),b}return MN(xQ(),0)};
w.navigateToPublicProfileSignupPage_=function(){var a=this.getContext().get(GH).getRootNode().getChild(qC).getValue(yy);this.navigationService_.handlePublicProfileSignupNavigation(a)};w.navigateToEsSignupPage_=function(){var a=this.getContext().get(GH).getRootNode().getChild(qC).getValue(yy);this.navigationService_.handleEsSignupNavigation(a)};
w.isAlbumReshareDisabled=function(){var a=this.getContainer()&&x(this.getContainer().getContainer().getIsReshareDisabled())&&!this.getContainer().getContainer().getIsReshareDisabled();return this.canAccessAlbum_&&!a};w.isSoftDeleted=function(){return this.softDeleteEnabled_&&!!this.photo_.getIsSoftDeleted()};w.setCanAccessAlbum=function(a){this.canAccessAlbum_=a};w.canShare=function(){return this.container_?this.isFlickr_?this.canShareWithSource(Zt):this.canShareWithSource(lz):!1};
w.canShareWithSource=function(a){var b=this.configService_.canSharePhotoCallback_;return!!b&&b(a,this.userName_,this.isAlbumReshareDisabled(),!!this.getContainer()&&!!this.getContainer().getId())};w.getHandler=function(){return this.eventHandler_};w.getEventTarget=function(){return this.eventTarget_};
w.getSizedPreviewUrl_=function(a){this.getPhoto();var b=this.getOriginalUrl()||c,d=this.getOriginalSize();if(d){var e=OP(d,a,this.enableMaximizePhoto_,this.sizeList_),f=LP.parse(b).getOptions(),d=a=!1;f&&!AD(XD(f))&&(a=QD(f,hc),d=QD(f,Dc));e.getLongest()>this.maxFifeSize_&&e.scaleToFit(this.getMaximumSize());b=(new KP(b?(new KP(b)).clearQueryParams().clearOptions().build():c)).setSize(e);a&&b.setCrop(!0);d&&b.setSmartCrop(!0);b=b.build()}return PP(b,c)};
w.getSizedUrl=function(a){return this.isFlickr_||!this.container_?this.getProxifiedUrl(this.flickrGetScaledImageInfo_(a).url):this.getSizedPreviewUrl_(a)};w.getScaledSize=function(a){if(this.isFlickr_||!this.container_)return this.flickrGetScaledImageInfo_(a).size;var b=this.getOriginalSize();return b?OP(b,a,this.enableMaximizePhoto_,this.sizeList_):null};
w.getProxifiedUrl=function(a){if(!a)return c;if(this.disableImageProxy_)return a;var b=$D(a)%3,d=new sM;d.setDomain(Dv+b+qc);d.setPath(ed);a=d.queryData_.set(pC,a).set(ys,bu).set(ou,Eq).set(ey,ld).set(fA,Cv).set(fy,1);d.setQueryData(a);return d.toString()};w.canShowShape=function(a){if(this.isFlickr_||!this.container_)return!1;var b=6==a.getStatus(),d=1==a.getStatus(),e=5==a.getStatus();return!b&&!d&&e&&!this.hiddenByFaceDetectionFlag_(a)&&!this.hiddenByTaggingPermissions_(a)&&!this.hiddenByNamedStatusBug_(a)};
w.hiddenByFaceDetectionFlag_=function(a){return!this.enableFaceDetection_&&1==a.getSource()};w.hiddenByTaggingPermissions_=function(a){return!this.getPhoto().getCanTag()&&0==a.getStatus()};w.hiddenByNamedStatusBug_=function(a){return!(0<a.getPersonList().length&&a.getPersonList()[0].getDisplayname())&&0!=a.getStatus()};w.isCompletelyLoaded=function(){return this.dataState_==hz};w.isPartiallyLoaded=function(){var a=this.dataState_;return a==Zq||a==hz};w.getId=function(){return this.photo_.getId()};
w.getGloballyUniqueId=function(){return this.isFlickr_?this.flickrGuid_:this.getId()};w.getCaption=function(){return this.photo_.getDescription()||c};w.getTotalComments=function(){return this.photo_.getTotalComments()||0};w.getDomHelper=function(){return this.domHelper_};w.getDefaultProfilePortraitUrl=function(){return this.defaultProfilePortraitUrl_};w.logAction=function(a){this.diagnosticsService_.logAction(a)};w.startUserAction=function(a){this.diagnosticsService_.startUserAction(a)};
w.finishUserAction=function(){this.diagnosticsService_.finishUserAction()};w.createRenderer=function(){if(this.isFlickr_||!this.container_||!this.isFlashSupported_)return null;var a=this.getPhoto().getVideoInfo();if(!a||a.getStatus()!=TM.READY&&a.getStatus()!=TM.FINAL)return null;var b=this.getVideoStreams();return b?(new YP(b,st,this.getDomHelper())).withCaptions(a.getTtsUrl(),this.configService_.timedTextFlashPolicyUrl_):null};
w.getVideoStreams=function(){if(!this.photo_.getVideoInfo()||0==this.photo_.getVideoInfo().getStreamList().length)return null;var a=this.photo_.getVideoInfo().getStreamList();1<a.length&&EE(a,function(a){return 15==a.getFormatId()});return tE(a,function(a){return new QP(a.getFormatId(),a.getUrl(),a.getWidth(),a.getHeight())})};w.getImageUrl=function(){return this.getOriginalUrl()};w.getSize=function(){return this.getOriginalSize()};w.getAttributionUrl=function(){return null};
w.viewerIsOwner=function(){if(this.isFlickr_||!this.container_)return!1;var a=this.getContext().get(GH).getRootNode().getChild(qC),a=a?a.getValue(yy):null,b=this.getPhoto(),b=b.getOwner()?b.getOwner().getId():null;return null!==a&&null!==b&&a==b};w.dispose=function(){J(this.eventHandler_)};w.isDisposed=function(){return this.eventHandler_.isDisposed()};var RQ=/http:\/\/(?:www.)?flickr.com\/(?:photos\/([\d\w@]+)\/([\d]+))(?:\/in\/set-([\d]+))?\/?/i,SQ=/http:\/\/farm(?:\d)+\.static\.flickr\.com\/(?:[\d]+)\/([\d\w]+)_/i;
w=GN.prototype;w.flickrParseGuid_=function(){var a=this.getPhoto().getOriginal();return(a=a?a.getUrl():c)&&SQ.test(a)&&(a=SQ.exec(a),a[1])?a[1].split(Aq)[0]:this.getId()};w.flickrParseUrlData_=function(){var a=this.getPhoto().getUrl();return RQ.test(a)?(a=RQ.exec(a),this.userName_=a[1],this.getPhoto().setId(a[2]),!0):!1};
w.flickrGetScaledImageInfo_=function(a){var b=a.height,d=null,e,f=this.getPhoto().getOriginal().getUrl(),g=this.getOriginalSize(),m=this.getPhoto().getThumbnailList();if(g&&g.fitsInside(a)||0==m.length)d=g,e=f;else{var q;(e=zE(m,function(b){var d=b.getWidth();b=b.getHeight();return d&&b&&(d=new zG(d,b),d.fitsInside(a.clone().scale(1.4)))?(q=d,!0):!1},this))?(d=q,e=e.getUrl()):288>=b&&0<m.length?(e=m[0],b=e.getWidth(),f=e.getHeight(),b&&f&&(d=new zG(b,f)),e=e.getUrl()):(d=g,e=f)}return new TQ(e,d)};
w.flickrOnPhotoLoad_=function(a){this.dataLoading_=!1;a=a.target;var b=a.getResponse();!a.getError()&&b&&b.getPhotoList()[0]&&(this.dataState_=hz,a=a.getResponse().getPhotoList()[0].toArray(),a=new VM(a),a.setUrl(this.getPhoto().getUrl()),this.mergePhoto(a),this.dispatchEvent(Tv))};w.flickrGetPhotoQuery_=function(){var a=new tM;a.add(CC,Dj).add(dC,this.userName_).add(iz,this.getId());return a};var TQ=function(a,b){this.url=a;this.size=b},QQ=function(a,b,d){CF.call(this,a,b);this.shapeId=d||null};
B(QQ,CF);var UQ=function(a){if(1<=a)return 1;if(0>=a)return 0;1==UQ.pulseNormalize_&&UQ.computePulseScale_();return UQ.pulse_(a)};UQ.SCALE=8;UQ.pulseNormalize_=1;UQ.pulse_=function(a){var b=0;a*=UQ.SCALE;1>a?b=a-(1-Math.exp(-a)):(b=Math.exp(-1),b+=(1-Math.exp(-(a-1)))*(1-b));return b*UQ.pulseNormalize_};UQ.computePulseScale_=function(){UQ.pulseNormalize_=1/UQ.pulse_(1)};var VQ=function(a){HN.call(this,new IN(a));this.configService_=PJ(a);this.diagnostics_=a.get(mu);this.photoCommentsFeatureEnabled_=this.configService_.isFeatureEnabled(bz);this.onAnimTickFn_=z(this.onAnimTick_,this);this.onAnimEndFn_=z(this.onAnimEnd_,this);this.updateVisibleThumbnailsDelay_=new fP(this.updateVisibleThumbnails_,100,this);this.init_(a)};B(VQ,HN);var WQ=jF&&I("526");w=VQ.prototype;w.controlsElWidth_=124;w.init_=function(){this.setHeightFlex(0);this.setStaticHeight(59);this.setWidthFlex(1)};
w.disposeInternal=function(){VQ.superClass_.disposeInternal.call(this);this.anim_&&this.anim_.dispose();this.updateVisibleThumbnailsDelay_.dispose()};w.getXStyle_=function(){return this.configService_.isRightToLeft(this.getElement())?oA:cw};
w.createDom_=function(){VQ.superClass_.createDom_.call(this);var a=this.getDomHelper(),b=this.wrappedComponent_.getElement();U(b,ig);this.thumbnailsContainerEl_=this.getDomHelper().createElement(k);this.thumbnailsContainerEl_.className=ng;a.appendChild(b,this.thumbnailsContainerEl_);this.controlsEl_=a.safeHtmlToNode(pK(ne).toSafeHtml());this.leftControlEl_=a.getElementByClass(jg,this.controlsEl_);this.rightControlEl_=a.getElementByClass(kg,this.controlsEl_);T(this.leftControlEl_,!1);T(this.rightControlEl_,
!1);a.appendChild(b,this.controlsEl_)};w.enterDocument=function(){VQ.superClass_.enterDocument.call(this);WQ&&(this.thumbnailsContainerEl_.style[LC]=this.getXStyle_()+ra);this.enable(!0)};w.enable=function(a){if(this.isInDocument()){var b=this.getHandler(),d=a?b.listen:b.unlisten,e=this.getElement();d.call(b,e,Nw,this.onMousedown_);dL(e,lg,!a)}};
w.setData=function(a,b){this.data_=a;this.dataIndex_=b;this.photoCommentsFeatureEnabled_&&this.getHandler().listen(this.data_[0].getEventTarget(),[tr,Tv],this.onDataEvent_);S(this.thumbnailsContainerEl_,NC,53*this.data_.length+Iz);this.reposition_();this.getDomHelper().removeChildren(this.thumbnailsContainerEl_);this.thumbnails_=[];F(this.data_,z(this.createThumbnail_,this,this.thumbnailsContainerEl_,0),this);this.thumbnails_[this.dataIndex_].select(!0);this.updateControlsVisibility_()};
w.update=function(){for(var a=this.thumbnails_.length,b=0;b<a;b++)this.thumbnails_[b].setData(b,this.data_[b]);0<this.data_.length-a&&this.appendData(IE(this.data_,a))};w.appendData=function(a){var b=this.thumbnails_?this.thumbnails_.length:0;S(this.thumbnailsContainerEl_,NC,53*(b+a.length)+Iz);F(a,z(this.createThumbnail_,this,this.thumbnailsContainerEl_,b),this);this.updateControlsVisibility_();this.updateVisibleThumbnails_()};
w.createThumbnail_=function(a,b,d,e){b+=e;e=new tP(this.getDomHelper(),this.photoCommentsFeatureEnabled_);this.thumbnails_[b]=e;e.setData(b,d);e.render(a)};w.setXPosition_=function(a,b){S(b,this.getXStyle_(),a+Iz)};w.getMiddlePosition_=function(){return zJ(this.getElement()).width/2};w.getThumbnailsContainerPosition_=function(){var a=this.getMiddlePosition_();return Math.round(a-(25+53*this.dataIndex_))};
w.reposition_=function(){var a=this.getMiddlePosition_();this.middlePos_!=a&&(this.middlePos_=a,a=Math.round(this.middlePos_-this.controlsElWidth_/2),WQ&&(this.getHandler().unlisten(this.thumbnailsContainerEl_,MC,this.onTransitionEnd_),this.thumbnailsContainerEl_.style[Qc]=c),this.setXPosition_(a,this.controlsEl_),this.setXPosition_(this.getThumbnailsContainerPosition_(),this.thumbnailsContainerEl_))};
w.updateVisibleThumbnails_=function(){if(this.thumbnails_&&!this.thumbnailFetchingPaused_)for(var a=Math.ceil(2.25*this.getMiddlePosition_()/53),b=Math.min(this.thumbnails_.length-1,this.dataIndex_+a),a=Math.max(0,this.dataIndex_-a);a<=b;a++)this.thumbnails_[a].enterViewport()};w.onDataEvent_=function(a){var b=xE(this.data_,function(b){return a.target==b},this);0<=b&&(this.thumbnails_[b].updateImage(),this.thumbnails_[b].updateCommentCount())};
w.updateLayout=function(a,b,d){VQ.superClass_.updateLayout.call(this,a,b,d);this.data_&&this.reposition_()};w.afterUpdateLayout=function(){this.updateVisibleThumbnailsDelay_.start()};w.updateControlsVisibility_=function(){T(this.leftControlEl_,0<this.dataIndex_);T(this.rightControlEl_,this.dataIndex_<this.data_.length-1)};
w.onMousedown_=function(a){if(a.isButton(0)){var b=this.dataIndex_;a.target&&lD(a.target.fsIndex)?(a.stopPropagation(),b=a.target.fsIndex):a.target instanceof Element&&$K(a.target,jg)?(a.stopPropagation(),b=this.dataIndex_-1):a.target instanceof Element&&$K(a.target,kg)&&(a.stopPropagation(),b=this.dataIndex_+1);a=this.dataIndex_;b!=a&&(1==b-a?this.diagnostics_.logAction(rN):-1==b-a?this.diagnostics_.logAction(sN):this.diagnostics_.logAction(tN),a=0<b-a?1:-1,this.navigateTo(b),this.dispatchEvent(new vP(pm,
b,a)))}};
w.navigateTo=function(a,b){if(0<=a&&a<this.data_.length){var d=this.getThumbnailsContainerPosition_(),e=this.dataIndex_;this.dataIndex_=a;var f=this.getThumbnailsContainerPosition_();this.anim_&&(this.anim_.stop(!0),this.anim_=null);this.thumbnails_[e].select(!1);this.thumbnails_[this.dataIndex_].select(!0);this.updateControlsVisibility_();b?(WQ&&(this.getHandler().unlisten(this.thumbnailsContainerEl_,MC,this.onTransitionEnd_),this.thumbnailsContainerEl_.style[Qc]=c),this.setXPosition_(f,this.thumbnailsContainerEl_)):
this.startAnimation_(d,f)}};
w.startAnimation_=function(a,b){var d=[a,0],e=[b,0];this.animationDirection_=a>b?1:-1;this.animSpec_=[a,b];var f=Math.min(Math.max(35*Math.ceil(Math.abs(a-b)/53),200),400);WQ?(this.thumbnailsContainerEl_.style[Qc]=f+Uw,this.getHandler().unlisten(this.thumbnailsContainerEl_,MC,this.onTransitionEnd_).listen(this.thumbnailsContainerEl_,MC,this.onTransitionEnd_),this.setXPosition_(b,this.thumbnailsContainerEl_)):(this.anim_=new mP(d,e,f,UQ),this.anim_.addEventListener(er,this.onAnimTickFn_),this.anim_.addEventListener(vt,
this.onAnimEndFn_),this.anim_.play())};w.onAnimTick_=function(a){this.setXPosition_(1==this.animationDirection_?uG(Math.ceil(a.x),this.animSpec_[1],this.animSpec_[0]):uG(Math.floor(a.x),this.animSpec_[0],this.animSpec_[1]),this.thumbnailsContainerEl_)};w.onAnimEnd_=function(a){this.onAnimTick_(a);this.anim_=null;this.dispatchEvent(new vP(ln,this.dataIndex_))};
w.onTransitionEnd_=function(a){this.getHandler().unlisten(this.thumbnailsContainerEl_,MC,this.onTransitionEnd_);this.dispatchEvent(new vP(ln,this.dataIndex_));a.stopPropagation()};w.setVisible=function(a){T(this.getElement(),a);a&&this.reposition_()};var XQ=function(a,b,d,e,f,g){M.call(this);this.dataEventTarget_=a;this.photos_=b;this.photosIndex_=d;this.containersIndex_=e;this.totalNumPhotos_=this.photos_.length;this.update_=g||null;this.eventHandler_=new NH(this);this.prependAsyncLoadedPhotos_=f&&1==this.photos_.length};B(XQ,M);w=XQ.prototype;w.disposeInternal=function(){F(this.containersIndex_.getValues(),function(a){a.dispose()},this);F(this.photos_,function(a){a.dispose()},this);J(this.eventHandler_);XQ.superClass_.disposeInternal.call(this)};
w.asyncLoadPhotos=function(){var a=this.photos_[0].getContainer();a&&(this.eventHandler_.listen(this.dataEventTarget_,Up,this.onContainerPhotosLoad_),a.asyncLoadPhotos())};
w.onContainerPhotosLoad_=function(a){a=a.loadedPhotos_;this.update_&&F(a,function(a){a.setUpdate(this.update_)},this);if(this.prependAsyncLoadedPhotos_){var b=this.photos_.pop();F(a,function(a){var e=a.getId();this.photosIndex_.set(e,[this.photos_.length]);b.getId()==e&&this.isPhotoLoaded_(b)?this.photos_.push(b):this.photos_.push(a)},this);yE(a,function(a){return a.getId()==b.getId()},this)?(this.totalNumPhotos_+=a.length-1,this.prependAsyncLoadedPhotos_=!1):(this.photosIndex_.set(b.getId(),[this.photos_.length]),
this.photos_.push(b),this.totalNumPhotos_+=a.length)}else this.appendPhotos_(a);this.dispatchEvent(GA)};
w.appendPhotos_=function(a){F(a,function(a){var d=a.getId(),e=a.getGloballyUniqueId();this.photosIndex_.containsKey(d)||this.photosIndex_.containsKey(e)?(d=this.photosIndex_.get(d)||this.photosIndex_.get(e),F(d,function(d){var e=this.photos_[d];e&&!this.isPhotoLoaded_(e)&&(this.photos_[d]=a,a.getPhoto().setUrl(e.getPhoto().getUrl()))},this)):(this.photosIndex_.set(d,[this.photos_.length]),this.photos_.push(a),++this.totalNumPhotos_)},this)};
w.isPhotoLoaded_=function(a){return a.isPartiallyLoaded()||a.dataLoading_};w.getPhoto=function(a){return this.photos_[a]};w.getPhotoIndex=function(a){return(a=this.photosIndex_.get(a.getId())||this.photosIndex_.get(a.getGloballyUniqueId()))&&a.length?a[0]:-1};w.setPhoto=function(a,b){this.photos_[b]=a};
w.removePhoto=function(a){var b=pE(this.photos_,a),d=[];-1!=b&&(tH(this.photosIndex_.getKeyIterator(),function(a){var f=this.photosIndex_.get(a)[0];f==b?d.push(a):f>b&&this.photosIndex_.set(a,[f-1])},this),F(d,function(a){this.photosIndex_.remove(a)},this),CE(this.photos_,b),this.totalNumPhotos_--);return b};var YQ=function(a,b,d){mQ.call(this,a,b,d);this.serverQuerySupported_=this.parseUrlData_()};B(YQ,mQ);YQ.prototype.blocksLeft_=4;YQ.prototype.numPhotosLoaded_=0;var ZQ=/http:\/\/(?:www.)?flickr.com\/photos\/([\d\w@]+)\/sets\/([\d]+)\/?/i;w=YQ.prototype;w.dispose=function(){this.loadTimerId_&&oI(this.loadTimerId_);YQ.superClass_.dispose.call(this)};w.parseUrlData_=function(){var a=this.getUrl();return ZQ.test(a)?(a=ZQ.exec(a),this.userName_=a[1],this.getContainer().setId(a[2]),!0):!1};
w.getPhotosQuery_=function(a,b){var d=new tM;d.add(CC,Dj).add(dC,this.userName_).add(NA,this.getId()).add(wy,a).add(Cw,b);return d};w.asyncLoadPhotos=function(){this.asyncLoadPhotosInternal_(0,250)};w.asyncLoadPhotosInternal_=function(a,b){if(!(!this.serverQuerySupported_||0>=this.blocksLeft_||this.dataLoading_)){var d=new wQ(this.getPhotosQuery_(a,b));this.dataLoading_=!0;this.blocksLeft_--;this.getHandler().listenOnce(d,Op,this.onPhotosLoad_);d.send(this.dataService_)}};
w.onPhotosLoad_=function(a){this.dataLoading_=!1;var b=a.target;a=0;if(!b.getError()){b=b.getResponse();a=Math.min(1E3,b.getTotalMatches());this.setTotalPhotos(a);var d=b.getPhotoList(),b=this.numPhotosLoaded_;this.numPhotosLoaded_+=d.length;var e=this.getEventTarget(),f=lv+this.userName_+Wc,g=fd+this.getId(),d=tE(d,function(a){var b=a.toArray();a.getUrl()||(a=f+a.getId()+g,b[6]=a);return new GN(e,this.getContext(),b,Zq,this,!0)},this);this.dispatchEvent(new nQ(Up,this,d,b,a));0<this.blocksLeft_&&
this.numPhotosLoaded_<a&&(this.loadTimerId_=nI(z(this.asyncLoadPhotosInternal_,this,this.numPhotosLoaded_,250),1E4,this))}};var $Q=function(a,b,d,e){mQ.call(this,a,b,d);this.serverQuerySupported_=e&&this.initFromPhotoId_(e)||this.parseUrlData_();this.configService_=PJ(b);this.requestComments_=this.serverQuerySupported_&&this.configService_.isFeatureEnabled(bz)&&this.configService_.isFeatureEnabled(cz);this.requestCommentCounts_=this.serverQuerySupported_&&this.configService_.isFeatureEnabled($r)&&this.configService_.isFeatureEnabled(cz);this.filterPwaCommentsLikes_=(this.requestComments_||this.requestCommentCounts_)&&
this.configService_.isFeatureEnabled(jr);this.enableQueryView_=this.configService_.isFeatureEnabled(yz);this.enableQueryByAlbumId_=this.configService_.isFeatureEnabled(Kz);this.disposables_=[]};B($Q,mQ);w=$Q.prototype;w.blocksLeft_=1;w.numPhotosLoaded_=0;w.dispose=function(){this.loadTimerId_&&oI(this.loadTimerId_);for(var a=0;a<this.disposables_.length;a++)J(this.disposables_[a]);$Q.superClass_.dispose.call(this)};
w.initFromPhotoId_=function(a){var b=a.getObfuscatedGaiaId(),d=a.getAlbumId();a=a.getAlbumAuthKey();return AD(XD(b))||AD(XD(d))?!1:(this.userName_=b,this.getContainer().setId(d),AD(XD(a))||this.getContainer().setAuthKey(a),!0)};w.parseUrlData_=function(){var a=new aR(this.getUrl()||c);return a.isValid()?(this.userName_=a.getUserName(),this.getContainer().setCanonicalTitle(a.getCanonicalTitle()),this.getContainer().setAuthKey(a.getAuthKey()),!0):!1};
w.getPhotosQuery_=function(a,b){var d=new tM;d.add(CC,this.enableQueryView_?Bm:Cm).add(dC,this.userName_).add(wy,a).add(Cw,b);this.getId()&&this.enableQueryByAlbumId_?d.add($q,this.getId()):d.add(cr,this.getCanonicalTitle());this.requestCommentCounts_?(d.add(Zz,!0),this.filterPwaCommentsLikes_&&d.add(Vt,!0)):this.requestComments_&&(d.add($z,!0),this.filterPwaCommentsLikes_&&d.add(Vt,!0));(this.configService_.sharePhotoCallback_||this.configService_.editorServiceCallback_)&&d.add(Yz,!0);this.getAuthKey()&&
d.add(nr,this.getAuthKey());return d};w.asyncLoadPhotos=function(){this.asyncLoadPhotosInternal_(0,250)};w.asyncLoadPhotosInternal_=function(a,b){if(!(!this.serverQuerySupported_||0>=this.blocksLeft_||this.dataLoading_)){var d=this.enableQueryView_?new JQ(this.getPhotosQuery_(a,b)):new wQ(this.getPhotosQuery_(a,b));this.dataLoading_=!0;this.getHandler().listenOnce(d,Op,this.onPhotosLoad_);d.send(this.dataService_)}};
w.setShowGeoinfo=function(a){var b=new tM;b.add(Rq,qm);b.add(dC,this.userName_);b.add($q,this.getContainer().getId());b.add(PA,a);b=new wQ(b,!0);this.getHandler().listenOnce(b,Op,z(this.onSetGeoInfo_,this,a));b.send(this.dataService_)};w.onSetGeoInfo_=function(a,b){b.target.getError()?this.getContext().get(KH).showNotification(MN(xQ(),0)):this.getContainer().setShowGeoinfo(a)};
w.onPhotosLoad_=function(a){this.dataLoading_=!1;var b=a.target;a=0;if(!b.getError()){b=b.getResponse();a=b.getTotalMatches();this.setTotalPhotos(a);var d,e=null;this.enableQueryView_&&(b=new dN(b.getContainerPhotosList()[0].toArray()),this.mergeContainer(b.getContainer()),e=b.getOwner());d=b.getPhotoList();b=this.numPhotosLoaded_;this.numPhotosLoaded_+=d.length;var f=this.getEventTarget(),g=this.getAuthKey(),m=pv+this.userName_+Wc+this.getCanonicalTitle();d=tE(d,function(a){e&&a.setOwner(e);var b=
a.toArray();if(!a.getUrl()){var d=m;g&&(d+=Xe+g);b[6]=d+Ya+a.getId()}a=this.createPhoto(f,this.getContext(),b,Zq,this);this.disposables_.push(a);return a},this);this.dispatchEvent(new nQ(Up,this,d,b,a));this.blocksLeft_=Math.ceil((a-this.numPhotosLoaded_)/250);0<this.blocksLeft_&&this.numPhotosLoaded_<a&&(this.loadTimerId_=nI(z(this.asyncLoadPhotosInternal_,this,this.numPhotosLoaded_,250),1E3,this))}};w.createPhoto=function(a,b,d,e,f,g){return new GN(a,b,d,e,f,g)};
var aR=function(a){if(this.isValid_=bR.test(a))a=bR.exec(a),this.albumUrl_=a[1],this.userName_=a[2],this.canonicalTitle_=a[3],this.authKey_=a[4]};aR.prototype.isValid=function(){return this.isValid_};aR.prototype.getUserName=function(){return this.userName_};aR.prototype.getCanonicalTitle=function(){return this.canonicalTitle_};aR.prototype.getAuthKey=function(){return this.authKey_};var bR=/(https?:\/\/(?:www\.)?(?:(?:picasaweb)|(?:lighthouse-dev2\.corp)|(?:dev2-lighthouse\.sandbox)|(?:[\d\w\.]+\.corp))\.(?:google\.)?com(?:\:[\d]+)?\/([\d\w\.]{4,})\/([\d\w_\-\.]+)(?:\?[\w\d\-_=&amp;;\.]*&?authKey=([\w\d\-_=;\.]+))?)(?:#([\d]+)?)?/im;var cR=function(a,b,d){this.appContext_=a;this.mediaModels_=b;this.contextUpdate_=d||null};w=cR.prototype;
w.toLightboxModel=function(){var a=new M,b=new vH,d=new vH,e=[];F(this.mediaModels_,z(function(f,g){var m=null,q=null,u=null;F(f.categories_,function(a){switch(a.scheme_){case mv:q=a;break;case ov:u=a;break;case nv:m=a}});var D=u?u.getValue():c,N=new GQ(D),O=dR(N,m),D=eR(O,N,q,f.getUrl()),ea=this.maybeCreateContainer_(a,this.appContext_,O,N,D,b)||void 0,V=PQ(f),D=V[0];d.containsKey(D)?(D=d.get(D),N=e[D[0]],D.push(g)):(N=O==lz?this.createPhoto(a,this.appContext_,V,Bz,ea,!1,N):O==Zt?this.createPhoto(a,
this.appContext_,V,Bz,ea,!0):this.createPhoto(a,this.appContext_,V),this.contextUpdate_&&N.setUpdate(this.contextUpdate_),O=[g],d.set(N.getGloballyUniqueId(),O),d.set(D,O));e.push(N)},this));return this.createLightboxModel(a,e,d,b,this.contextUpdate_||void 0)};w.createPhoto=function(a,b,d,e,f,g,m){return E(b.get(Xu)).createPhoto(a,b,d,e,f,g,m)};w.createAlbum=function(a,b,d,e){return new $Q(a,b,d,e)};
w.createLightboxModel=function(a,b,d,e,f){var g=PJ(this.appContext_).isFeatureEnabled(cB);return new XQ(a,b,d,e,g,f)};w.maybeCreateContainer_=function(a,b,d,e,f,g){var m=null,q=e.isValid()?e.getAlbumId():void 0,u=[];u[5]=f;q&&(u[0]=q);f=q?q:f;g.containsKey(f)?m=g.get(f):d==lz?(m=this.createAlbum(a,b,u,e),g.set(f,m)):d==Zt&&(m=new YQ(a,b,u),g.set(m.getId(),m));return m};
var dR=function(a,b){return a.isValid()&&a.getPhotoPageUrl()?a.getProvider():b?b.getValue():hC},eR=function(a,b,d,e){d=d&&d.getValue()?d.getValue():c;if(a!=lz)return d;a=null;if(b.isValid()&&b.getPhotoPageUrl()&&(a=new aR(b.getPhotoPageUrl()),a.isValid()))return a.albumUrl_;if(d)return d;if(!a||!a.isValid())if(a=new aR(e),a.isValid())return a.albumUrl_;return c};var fR=function(a,b){M.call(this);this.element_=a;var d=WG(this.element_)?this.element_:this.element_?this.element_.body:null;this.isRtl_=!!d&&DJ(d);this.listenKey_=PF(this.element_,iF?si:Rw,this,b)};B(fR,M);
fR.prototype.handleEvent=function(a){var b=0,d=0,e=0;a=a.event_;a.type==Rw?(e=gR(-a.wheelDelta,40),x(a.wheelDeltaX)?(b=gR(-a.wheelDeltaX,40),d=gR(-a.wheelDeltaY,40)):d=e):(e=a.detail,100<e?e=3:-100>e&&(e=-3),x(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=e:d=e);lD(this.maxDeltaX_)&&(b=uG(b,-this.maxDeltaX_,this.maxDeltaX_));lD(this.maxDeltaY_)&&(d=uG(d,-this.maxDeltaY_,this.maxDeltaY_));this.isRtl_&&(b=-b);b=new hR(e,a,b,d);this.dispatchEvent(b)};var gR=function(a,b){return jF&&(kF||mF)&&0!=a%b?a:a/b};
fR.prototype.disposeInternal=function(){fR.superClass_.disposeInternal.call(this);YF(this.listenKey_);this.listenKey_=null};var hR=function(a,b,d,e){EF.call(this,b);this.type=Rw;this.detail=a;this.deltaX=d;this.deltaY=e};B(hR,EF);var iR=function(a,b,d,e,f,g,m,q){M.call(this);this.diagnostics_=a.get(mu);this.maxQueueLength_=4;this.reduceQueueSize_=2;this.maxRepeatOffset_=4;this.previousKeys_=d?$E.call(this,d):{};this.nextKeys_=e?$E.call(this,e):{};PJ(a).isRightToLeft(b)?(this.previousKeys_[39]=!0,this.nextKeys_[37]=!0):(this.previousKeys_[37]=!0,this.nextKeys_[39]=!0);this.previousKeys_[75]=!0;this.previousKeys_[80]=!0;this.nextKeys_[74]=!0;this.nextKeys_[78]=!0;this.previousNavControls_=f;this.nextNavControls_=g;this.clickEventType_=
m?m:Rq;this.eventHandler_=new NH(this);this.keyHandler_=new TL(b);this.wheelHandler_=q?null:new fR(b);this.navEventQueue_=[];this.actionMap_=new vH};B(iR,M);var kR=function(a,b,d,e,f){CF.call(this,a);this.key=jR++;this.dispatchTime=0;this.index=b;this.direction=d;this.numberPending=0;this.repeat=e||!1;this.enqueueTime=f||0;a==qB&&(this.busyElapsedTime=this.queuedTime=0)},jR=1,lR={INPUT:!0,TEXTAREA:!0};w=iR.prototype;w.navDirection_=1;w.currentPhotoIndex_=-1;w.totalNumPhotos_=0;w.idle_=!0;
w.wrapping_=!1;w.enabled_=!1;w.disposeInternal=function(){this.eventHandler_.removeAll();this.eventHandler_.dispose();this.keyHandler_.dispose();J(this.wheelHandler_);BE(this.navEventQueue_);this.activeEvent_=null;this.actionMap_.clear();iR.superClass_.disposeInternal.call(this)};w.registerAction=function(a,b){this.actionMap_.set(qD(a),b)};
w.enable=function(a,b){if(!this.setPosition(a,b))return!1;this.enabled_||(this.eventHandler_.listen(this.keyHandler_,Uv,this.handleKeyEvent_),null!=this.wheelHandler_&&this.eventHandler_.listen(this.wheelHandler_,Rw,this.handleWheelEvent_),this.previousNavControls_&&F(this.previousNavControls_,function(a){this.eventHandler_.listen(a,this.clickEventType_,z(this.handleActionEvent_,this,-1))},this),this.nextNavControls_&&F(this.nextNavControls_,function(a){this.eventHandler_.listen(a,this.clickEventType_,
z(this.handleActionEvent_,this,1))},this),this.enabled_=!0);return!0};w.disable=function(){this.eventHandler_.removeAll();this.clear_();this.enabled_=!1};w.isEnabled=function(){return this.enabled_};w.setPosition=function(a,b){if(0>a||0>b||a>b)return!1;this.clear_();this.navDirection_=a>=this.currentPhotoIndex_?1:-1;this.setCurrentPhotoIndex(a);this.setTotalNumPhotos(b);return!0};w.setCurrentPhotoIndex=function(a){this.currentPhotoIndex_=a};w.setTotalNumPhotos=function(a){this.totalNumPhotos_=a};
w.setWrapping=function(a){this.wrapping_=a};w.getPosition=function(){return{currentPhotoIndex:this.currentPhotoIndex_,currentIndex:this.currentPhotoIndex_,totalNumPhotos:this.totalNumPhotos_}};w.clear_=function(){BE(this.navEventQueue_);this.activeEvent_=null;this.idle_=!0};w.signalNavigationDone=function(a){this.activeEvent_&&a==this.activeEvent_.key&&this.complete_()};
w.complete_=function(){var a=A();this.activeEvent_.busyElapsedTime=a-this.activeEvent_.dispatchTime;this.idle_=!0;0<this.navEventQueue_.length?(this.idle_=!1,this.activeEvent_=this.navEventQueue_.shift(),this.activeEvent_.numberPending=this.navEventQueue_.length,this.activeEvent_.queuedTime=a-this.activeEvent_.enqueueTime):this.activeEvent_=new kR(vC,this.currentPhotoIndex_,this.navDirection_);this.activeEvent_.dispatchTime=a;this.dispatchEvent(this.activeEvent_)};
w.handleKeyEvent_=function(a){this.isIgnorableKeyEvent_(a)||(this.handleNavEvent_(this.previousKeys_[a.keyCode]?-1:1,a.repeat),a.preventDefault(),a.stopPropagation())};w.handleWheelEvent_=function(a){this.handleNavEvent_(0>a.deltaY?-1:1,!1);a.preventDefault();a.stopPropagation()};w.handleActionEvent_=function(a,b){this.handleNavEvent_(a,!1);if(b.target){var d=qD(b.target);this.actionMap_.containsKey(d)&&this.diagnostics_.logAction(this.actionMap_.get(d))}};
w.isIgnorableKeyEvent_=function(a){return a.altKey||a.ctrlKey||a.metaKey||!!lR[a.target.tagName]||!this.previousKeys_[a.keyCode]&&!this.nextKeys_[a.keyCode]};
w.handleNavEvent_=function(a,b){var d=this.currentPhotoIndex_+a,e=this.activeEvent_?this.activeEvent_.index:this.currentPhotoIndex_,f=Math.abs(d-e);this.wrapping_&&(d=vG(d,this.totalNumPhotos_),f=Math.min(f,vG(e-d,this.totalNumPhotos_)));d>=this.totalNumPhotos_||0>d?1<this.totalNumPhotos_&&this.dispatchEvent(new kR(KC,d,this.navDirection_)):0==f||b&&this.activeEvent_&&f>this.maxRepeatOffset_||(this.setCurrentPhotoIndex(d),this.navDirection_=a,b&&(d=oE(this.navEventQueue_),BE(this.navEventQueue_),
d&&this.navEventQueue_.push(d)),this.navEventQueue_.length>=this.maxQueueLength_&&(this.navEventQueue_=this.navEventQueue_.slice(this.reduceQueueSize_)),d=A(),this.navEventQueue_.push(new kR(qB,this.currentPhotoIndex_,this.navDirection_,b,d)),this.idle_&&1==this.navEventQueue_.length?(this.idle_=!1,this.activeEvent_=this.navEventQueue_.shift(),this.activeEvent_.numberPending=this.navEventQueue_.length,this.activeEvent_.queuedTime=d-this.activeEvent_.enqueueTime,this.activeEvent_.dispatchTime=d,this.dispatchEvent(this.activeEvent_)):
(e=oE(this.navEventQueue_),e=new kR(YB,e.index,e.direction,e.repeat,e.enqueueTime),e.numberPending=this.navEventQueue_.length,e.dispatchTime=d,this.dispatchEvent(e)))};var mR=function(){};B(mR,xO);hD(mR);w=mR.prototype;w.getAriaRole=function(){return Qr};w.updateAriaState=function(a,b,d){switch(b){case 8:case 16:E(a,So);dO(a,Dz,d);break;default:case 64:case 1:mR.superClass_.updateAriaState.call(this,a,b,d)}};w.createDom=function(a){var b=mR.superClass_.createDom.call(this,a);this.setTooltip(b,a.getTooltip());var d=a.getValue();d&&this.setValue(b,d);a.isSupportedState(16)&&this.updateAriaState(b,16,a.isChecked());return b};
w.decorate=function(a,b){b=mR.superClass_.decorate.call(this,a,b);a.setValueInternal(this.getValue(b));a.setTooltipInternal(this.getTooltip(b));a.isSupportedState(16)&&this.updateAriaState(b,16,a.isChecked());return b};w.getValue=gD;w.setValue=gD;w.getTooltip=function(a){return a.title};w.setTooltip=function(a,b){a&&(b?a.title=b:a.removeAttribute(GB))};w.getCssClass=function(){return xu};var nR=function(){};B(nR,xO);hD(nR);w=nR.prototype;w.getCssClass=function(){return Ou};w.getAriaRole=function(){return rB};w.createDom=function(a){var b=nR.superClass_.createDom.call(this,a);(a=a.getTooltip())&&this.setTooltip(b,a);return b};w.decorate=function(a,b){b=nR.superClass_.decorate.call(this,a,b);var d=this.getTooltip(b);d&&a.setTooltipInternal(d);a.isSelected()&&(d=a.getParent())&&mD(d.setSelectedTab)&&(a.setState(8,!1),d.setSelectedTab(a));return b};
w.getTooltip=function(a){return a.title||c};w.setTooltip=function(a,b){a&&(a.title=b||c)};var oR=function(a,b,d){BO.call(this,a,b||nR.getInstance(),d);this.setSupportedState(8,!0);this.setDispatchTransitionEvents(9,!0)};B(oR,BO);oR.prototype.getTooltip=function(){return this.tooltip_};oR.prototype.setTooltip=function(a){this.renderer_.setTooltip(this.getElement(),a);this.setTooltipInternal(a)};oR.prototype.setTooltipInternal=function(a){this.tooltip_=a};uO(Ou,function(){return new oR(null)});var pR=function(){this.ariaRole_=uB};B(pR,wO);hD(pR);w=pR.prototype;w.getCssClass=function(){return Pu};w.setStateFromClassName=function(a,b,d){this.locationByClass_||this.createLocationByClassMap_();var e=this.locationByClass_[b];e?a.setLocation(e):pR.superClass_.setStateFromClassName.call(this,a,b,d)};w.getClassNames=function(a){var b=pR.superClass_.getClassNames.call(this,a);this.classByLocation_||this.createClassByLocationMap_();b.push(this.classByLocation_[a.getLocation()]);return b};
w.createClassByLocationMap_=function(){var a=this.getCssClass();this.classByLocation_={top:a+Ic,bottom:a+gc,start:a+Hc,end:a+oc}};w.createLocationByClassMap_=function(){this.classByLocation_||this.createClassByLocationMap_();this.locationByClass_=XE(this.classByLocation_)};var qR=function(a,b,d){this.setLocation(a||KB);HO.call(this,this.orientation_,b||pR.getInstance(),d);this.listenToTabEvents_()};B(qR,HO);w=qR.prototype;w.autoSelectTabs_=!0;w.selectedTab_=null;w.enterDocument=function(){qR.superClass_.enterDocument.call(this);this.listenToTabEvents_()};w.disposeInternal=function(){qR.superClass_.disposeInternal.call(this);this.selectedTab_=null};w.removeChild=function(a,b){this.deselectIfSelected(a);return qR.superClass_.removeChild.call(this,a,b)};
w.getLocation=function(){return this.location_};w.setLocation=function(a){this.setOrientation(a==gB||a==vt?zC:iv);this.location_=a};w.setHighlightedIndexFromKeyEvent=function(a){qR.superClass_.setHighlightedIndexFromKeyEvent.call(this,a);this.autoSelectTabs_&&this.setSelectedTabIndex(a)};w.setSelectedTab=function(a){a?a.setSelected(!0):this.selectedTab_&&this.selectedTab_.setSelected(!1)};w.getSelectedTabIndex=function(){return this.indexOfChild(this.selectedTab_)};w.setSelectedTabIndex=function(a){this.setSelectedTab(this.getChildAt(a))};
w.deselectIfSelected=function(a){if(a&&a==this.selectedTab_){for(var b=this.indexOfChild(a),d=b-1;a=this.getChildAt(d);d--)if(this.isSelectableTab(a)){this.setSelectedTab(a);return}for(b+=1;a=this.getChildAt(b);b++)if(this.isSelectableTab(a)){this.setSelectedTab(a);return}this.setSelectedTab(null)}};w.isSelectableTab=function(a){return a.isVisible()&&a.isEnabled()};w.handleTabSelect=function(a){this.selectedTab_&&this.selectedTab_!=a.target&&this.selectedTab_.setSelected(!1);this.selectedTab_=a.target};
w.handleTabUnselect=function(a){a.target==this.selectedTab_&&(this.selectedTab_=null)};w.handleTabDisable=function(a){this.deselectIfSelected(a.target)};w.handleTabHide=function(a){this.deselectIfSelected(a.target)};w.handleFocus=function(){this.getHighlighted()||this.setHighlighted(this.selectedTab_||this.getChildAt(0))};
w.listenToTabEvents_=function(){this.getHandler().listen(this,JA,this.handleTabSelect).listen(this,kC,this.handleTabUnselect).listen(this,Xs,this.handleTabDisable).listen(this,ev,this.handleTabHide)};uO(Pu,function(){return new qR});var rR=function(){};B(rR,mR);hD(rR);w=rR.prototype;w.getAriaRole=function(){};w.createDom=function(a){this.setUpNativeButton_(a);return a.getDomHelper().createDom(Df,{"class":this.getClassNames(a).join(ga),disabled:!a.isEnabled(),title:a.getTooltip()||c,value:a.getValue()||c},a.getCaption()||c)};w.canDecorate=function(a){return a.tagName==Df||a.tagName==uk&&(a.type==Qr||a.type==lB||a.type==Uz)};
w.decorate=function(a,b){this.setUpNativeButton_(a);if(b.disabled){var d=gE(this.getClassForState(1));U(b,d)}return rR.superClass_.decorate.call(this,a,b)};w.initializeDom=function(a){a.getHandler().listen(a.getElement(),ls,a.performActionInternal)};w.setAllowTextSelection=gD;w.setRightToLeft=gD;w.isFocusable=function(a){return a.isEnabled()};w.setFocusable=gD;w.setState=function(a,b,d){rR.superClass_.setState.call(this,a,b,d);(a=a.getElement())&&1==b&&(a.disabled=d)};w.getValue=function(a){return a.value};
w.setValue=function(a,b){a&&(a.value=b)};w.updateAriaState=gD;w.setUpNativeButton_=function(a){a.setHandleMouseEvents(!1);a.setAutoStates(255,!1);a.setSupportedState(32,!1)};var sR=function(a,b,d){BO.call(this,a,b||rR.getInstance(),d)};B(sR,BO);w=sR.prototype;w.getValue=function(){return this.value_};w.setValue=function(a){this.value_=a;this.renderer_.setValue(this.getElement(),a)};w.setValueInternal=function(a){this.value_=a};w.getTooltip=function(){return this.tooltip_};w.setTooltip=function(a){this.tooltip_=a;this.renderer_.setTooltip(this.getElement(),a)};w.setTooltipInternal=function(a){this.tooltip_=a};
w.disposeInternal=function(){sR.superClass_.disposeInternal.call(this);delete this.value_;delete this.tooltip_};w.enterDocument=function(){sR.superClass_.enterDocument.call(this);if(this.isSupportedState(32)){var a=this.getKeyEventTarget();a&&this.getHandler().listen(a,Xv,this.handleKeyEventInternal)}};w.handleKeyEventInternal=function(a){return 13==a.keyCode&&a.type==Uv||32==a.keyCode&&a.type==Xv?this.performActionInternal(a):32==a.keyCode};uO(xu,function(){return new sR(null)});var tR=function(){};B(tR,mR);hD(tR);w=tR.prototype;w.createDom=function(a){var b={"class":Eu+this.getClassNames(a).join(ga)},b=a.getDomHelper().createDom(k,b,this.createButton(a.getContent(),a.getDomHelper()));this.setTooltip(b,a.getTooltip());return b};w.getAriaRole=function(){return Qr};w.getContentElement=function(a){return a&&a.firstChild&&a.firstChild.firstChild};w.createButton=function(a,b){return b.createDom(k,Eu+(this.getCssClass()+Cc),b.createDom(k,Eu+(this.getCssClass()+wc),a))};
w.canDecorate=function(a){return a.tagName==k};w.hasBoxStructure=function(a,b){var d=a.getDomHelper().getFirstElementChild(b),e=this.getCssClass()+Cc;return d&&$K(d,e)&&(d=a.getDomHelper().getFirstElementChild(d),e=this.getCssClass()+wc,d&&$K(d,e))?!0:!1};w.decorate=function(a,b){E(b);uR(b,!0);uR(b,!1);this.hasBoxStructure(a,b)||b.appendChild(this.createButton(b.childNodes,a.getDomHelper()));aL(b,[Du,this.getCssClass()]);return tR.superClass_.decorate.call(this,a,b)};w.getCssClass=function(){return Au};
var uR=function(a,b){if(a)for(var d=b?a.firstChild:a.lastChild,e;d&&d.parentNode==a;){e=b?d.nextSibling:d.previousSibling;if(3==d.nodeType){var f=d.nodeValue;if(DD(f)==c)a.removeChild(d);else{d.nodeValue=b?f.replace(/^[\s\xa0]+/,c):f.replace(/[\s\xa0]+$/,c);break}}else break;d=e}};var vR=function(a,b,d){sR.call(this,a,b||tR.getInstance(),d);this.setSupportedState(16,!0)};B(vR,sR);uO("goog-toggle-button",function(){return new vR(null)});var wR={ERAS:["BC","AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:[Nk,Bj,kl,Ze,kl,Nk,Nk,Ze,Fn,dm,Hl,"D"],STANDALONENARROWMONTHS:[Nk,Bj,kl,Ze,kl,Nk,Nk,Ze,Fn,dm,Hl,"D"],MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:[Fn,kl,Jo,Op,Jo,Bj,Fn],STANDALONENARROWWEEKDAYS:[Fn,kl,Jo,Op,Jo,Bj,Fn],SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, MMMM d, y",
"MMMM d, y","MMM d, y","M/d/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};var xR=function(){},zR=function(a){if(typeof a==qy){var b=new xR;b.standardOffset_=a;var d;d=a;if(0==d)d=ej;else{var e=[ej,0>d?bc:Wb];d=Math.abs(d);e.push(Math.floor(d/60)%100);d%=60;0!=d&&e.push(Id,WD(d,2));d=e.join(c)}b.timeZoneId_=d;d=a;0==d?d=up:(e=[up,0>d?Wb:bc],d=Math.abs(d),e.push(Math.floor(d/60)%100),d%=60,0!=d&&e.push(Id,d),d=e.join(c));a=yR(a);b.tzNames_=[d,d];b.tzNamesExt_={STD_LONG_NAME_GMT:a,STD_GENERIC_LOCATION:a};b.transitions_=[];return b}b=new xR;b.timeZoneId_=a.id;b.standardOffset_=
-a.std_offset;b.tzNames_=a.names;b.tzNamesExt_=a.names_ext;b.transitions_=a.transitions;return b},yR=function(a){var b=[Vj];b.push(0>=a?Wb:bc);a=Math.abs(a);b.push(WD(Math.floor(a/60)%100,2),Id,WD(a%60,2));return b.join(c)};w=xR.prototype;w.getDaylightAdjustment=function(a){a=Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes())/36E5;for(var b=0;b<this.transitions_.length&&a>=this.transitions_[b];)b+=2;return 0==b?0:this.transitions_[b-1]};w.getGMTString=function(a){return yR(this.getOffset(a))};
w.getLongName=function(a){return this.tzNames_[this.isDaylightTime(a)?3:1]};w.getOffset=function(a){return this.standardOffset_-this.getDaylightAdjustment(a)};w.getRFCTimeZoneString=function(a){a=-this.getOffset(a);var b=[0>a?bc:Wb];a=Math.abs(a);b.push(WD(Math.floor(a/60)%100,2),WD(a%60,2));return b.join(c)};w.getShortName=function(a){return this.tzNames_[this.isDaylightTime(a)?2:0]};w.isDaylightTime=function(a){return 0<this.getDaylightAdjustment(a)};
w.getGenericLocation=function(a){return this.isDaylightTime(a)?this.tzNamesExt_.DST_GENERIC_LOCATION:this.tzNamesExt_.STD_GENERIC_LOCATION};var AR=function(a,b){E(x(a),Hm);E(x(b)||x(wR),Ru);this.patternParts_=[];this.dateTimeSymbols_=b||wR;typeof a==qy?this.applyStandardPattern_(a):this.applyPattern_(a)},BR=[/^\'(?:[^\']|\'\')*\'/,/^(?:G+|y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|V+|w+|z+|Z+)/,/^[^\'GyMkSEahKHcLQdmsvVwzZ]+/],CR=function(a){return a.getHours?a.getHours():0};
AR.prototype.applyPattern_=function(a){for(DR&&(a=a.replace(/\u200f/g,c));a;)for(var b=0;b<BR.length;++b){var d=a.match(BR[b]);if(d){d=d[0];a=a.substring(d.length);0==b&&(d==Fb?d=Db:(d=d.substring(1,d.length-1),d=d.replace(/\'\'/,Db)));this.patternParts_.push({text:d,type:b});break}}};
AR.prototype.format=function(a,b){if(!a)throw Error("The date to format must be non-null.");var d=b?6E4*(a.getTimezoneOffset()-b.getOffset(a)):0,e=d?new Date(a.getTime()+d):a,f=e;b&&e.getTimezoneOffset()!=a.getTimezoneOffset()&&(e=new Date(e.getTime()+6E4*(e.getTimezoneOffset()-a.getTimezoneOffset())),f=new Date(a.getTime()+(d+(0<d?-864E5:864E5))));for(var d=[],g=0;g<this.patternParts_.length;++g){var m=this.patternParts_[g].text;1==this.patternParts_[g].type?d.push(this.formatField_(m,a,e,f,b)):
d.push(m)}return d.join(c)};AR.prototype.applyStandardPattern_=function(a){var b;if(4>a)b=this.dateTimeSymbols_.DATEFORMATS[a];else if(8>a)b=this.dateTimeSymbols_.TIMEFORMATS[a-4];else if(12>a)b=this.dateTimeSymbols_.DATETIMEFORMATS[a-8],b=b.replace(XC,this.dateTimeSymbols_.DATEFORMATS[a-8]),b=b.replace(WC,this.dateTimeSymbols_.TIMEFORMATS[a-8]);else{this.applyStandardPattern_(10);return}this.applyPattern_(b)};
AR.prototype.localizeNumbers_=function(a){a=String(a);var b=this.dateTimeSymbols_||wR;if(void 0!==b.ZERODIGIT){for(var d=[],e=0;e<a.length;e++){var f=a.charCodeAt(e);d.push(48<=f&&57>=f?String.fromCharCode(b.ZERODIGIT+f-48):a.charAt(e))}a=d.join(c)}return a};var DR=!1;AR.prototype.formatEra_=function(a,b){var d=0<b.getFullYear()?1:0;return 4<=a?this.dateTimeSymbols_.ERANAMES[d]:this.dateTimeSymbols_.ERAS[d]};
AR.prototype.formatYear_=function(a,b){var d=b.getFullYear();0>d&&(d=-d);2==a&&(d%=100);return this.localizeNumbers_(WD(d,a))};AR.prototype.formatMonth_=function(a,b){var d=b.getMonth();switch(a){case 5:return this.dateTimeSymbols_.NARROWMONTHS[d];case 4:return this.dateTimeSymbols_.MONTHS[d];case 3:return this.dateTimeSymbols_.SHORTMONTHS[d];default:return this.localizeNumbers_(WD(d+1,a))}};
var ER=function(a){if(!(a.getHours&&a.getSeconds&&a.getMinutes))throw Error("The date to format has no time (probably a goog.date.Date). Use Date or goog.date.DateTime, or use a pattern without time fields.");};w=AR.prototype;w.format24Hours_=function(a,b){ER(b);return this.localizeNumbers_(WD(CR(b)||24,a))};w.formatFractionalSeconds_=function(a,b){return this.localizeNumbers_((b.getTime()%1E3/1E3).toFixed(Math.min(3,a)).substr(2)+(3<a?WD(0,a-3):c))};
w.formatDayOfWeek_=function(a,b){var d=b.getDay();return 4<=a?this.dateTimeSymbols_.WEEKDAYS[d]:this.dateTimeSymbols_.SHORTWEEKDAYS[d]};w.formatAmPm_=function(a,b){ER(b);var d=CR(b);return this.dateTimeSymbols_.AMPMS[12<=d&&24>d?1:0]};w.format1To12Hours_=function(a,b){ER(b);return this.localizeNumbers_(WD(CR(b)%12||12,a))};w.format0To11Hours_=function(a,b){ER(b);return this.localizeNumbers_(WD(CR(b)%12,a))};w.format0To23Hours_=function(a,b){ER(b);return this.localizeNumbers_(WD(CR(b),a))};
w.formatStandaloneDay_=function(a,b){var d=b.getDay();switch(a){case 5:return this.dateTimeSymbols_.STANDALONENARROWWEEKDAYS[d];case 4:return this.dateTimeSymbols_.STANDALONEWEEKDAYS[d];case 3:return this.dateTimeSymbols_.STANDALONESHORTWEEKDAYS[d];default:return this.localizeNumbers_(WD(d,1))}};
w.formatStandaloneMonth_=function(a,b){var d=b.getMonth();switch(a){case 5:return this.dateTimeSymbols_.STANDALONENARROWMONTHS[d];case 4:return this.dateTimeSymbols_.STANDALONEMONTHS[d];case 3:return this.dateTimeSymbols_.STANDALONESHORTMONTHS[d];default:return this.localizeNumbers_(WD(d+1,a))}};w.formatQuarter_=function(a,b){var d=Math.floor(b.getMonth()/3);return 4>a?this.dateTimeSymbols_.SHORTQUARTERS[d]:this.dateTimeSymbols_.QUARTERS[d]};
w.formatDate_=function(a,b){return this.localizeNumbers_(WD(b.getDate(),a))};w.formatMinutes_=function(a,b){ER(b);return this.localizeNumbers_(WD(b.getMinutes(),a))};w.formatSeconds_=function(a,b){ER(b);return this.localizeNumbers_(WD(b.getSeconds(),a))};
w.formatWeekOfYear_=function(a,b){var d=b.getMonth(),e=this.dateTimeSymbols_.FIRSTWEEKCUTOFFDAY,d=new Date(b.getFullYear(),d,b.getDate()),e=x(e)?e:3,f=this.dateTimeSymbols_.FIRSTDAYOFWEEK||0,g=((d.getDay()+6)%7-f+7)%7,d=d.valueOf()+864E5*((e-f+7)%7-g);return this.localizeNumbers_(WD(Math.floor(Math.round((d-(new Date((new Date(d)).getFullYear(),0,1)).valueOf())/864E5)/7)+1,a))};w.formatTimeZoneRFC_=function(a,b,d){d=d||zR(b.getTimezoneOffset());return 4>a?d.getRFCTimeZoneString(b):this.localizeNumbers_(d.getGMTString(b))};
w.formatTimeZone_=function(a,b,d){d=d||zR(b.getTimezoneOffset());return 4>a?d.getShortName(b):d.getLongName(b)};w.formatTimeZoneId_=function(a,b){b=b||zR(a.getTimezoneOffset());return b.timeZoneId_};w.formatTimeZoneLocationId_=function(a,b,d){d=d||zR(b.getTimezoneOffset());return 2>=a?d.timeZoneId_:d.getGenericLocation(b)};
w.formatField_=function(a,b,d,e,f){var g=a.length;switch(a.charAt(0)){case Tj:return this.formatEra_(g,d);case r:return this.formatYear_(g,d);case kl:return this.formatMonth_(g,d);case Sv:return this.format24Hours_(g,e);case Fn:return this.formatFractionalSeconds_(g,e);case Mi:return this.formatDayOfWeek_(g,d);case Eq:return this.formatAmPm_(g,e);case Xu:return this.format1To12Hours_(g,e);case Pk:return this.format0To11Hours_(g,e);case ik:return this.format0To23Hours_(g,e);case Rr:return this.formatStandaloneDay_(g,
d);case Tk:return this.formatStandaloneMonth_(g,d);case ln:return this.formatQuarter_(g,d);case Hs:return this.formatDate_(g,d);case sw:return this.formatMinutes_(g,e);case DA:return this.formatSeconds_(g,e);case tC:return this.formatTimeZoneId_(b,f);case Ep:return this.formatTimeZoneLocationId_(g,b,f);case IC:return this.formatWeekOfYear_(g,e);case TC:return this.formatTimeZone_(g,b,f);case eq:return this.formatTimeZoneRFC_(g,b,f);default:return c}};var FR=new AR(2),GR=new AR(7);var HR=function(a){if(H&&!(H&&0<=ZD(sF,Gd)))throw Error("Histogram is not supported");$L.call(this,a);this.currentType_=qs};B(HR,$L);w=HR.prototype;w.createDom=function(){var a=this.getDomHelper().createDom(Xr,{className:zg,width:256});this.setElementInternal(a)};w.enterDocument=function(){HR.superClass_.enterDocument.call(this);this.getHandler().listen(this.getElement(),Nw,this.handleMouseDown_)};w.setModel=function(a){HR.superClass_.setModel.call(this,a);this.update()};
w.clear=function(){var a=this.getElement();a.getContext(ud).clearRect(0,0,a.width,a.height)};w.handleMouseDown_=function(a){a.isButton(0)&&this.update(this.getNextType())};
w.plot_=function(a,b,d,e){var f=this.getElement();f.getContext(ud).globalCompositeOperation=hw;var g=this.getMaxValue_(a,b,d),f=Math.round(f.width/255);if(e==qs)this.plotChannel_(mA,g,f,a),this.plotChannel_(lA,g,f,b),this.plotChannel_(kA,g,f,d);else if(e==iA){for(var m=[],q=0;256>q;q++)m[q]=Math.round((a[q]+b[q]+d[q])/3);this.plotChannel_(jA,g,f,m)}else e==Qz?this.plotChannel_(mA,g,f,a):e==Vu?this.plotChannel_(lA,g,f,b):e==zr&&this.plotChannel_(kA,g,f,d);this.currentType_=e};
w.getNextType=function(){return this.currentType_==qs?Qz:this.currentType_==Qz?Vu:this.currentType_==Vu?zr:this.currentType_==zr?iA:qs};w.getMaxValue_=function(a,b,d){return Math.max(Math.max.apply(null,a),Math.max.apply(null,b),Math.max.apply(null,d))};w.plotChannel_=function(a,b,d,e){if(0!=b){var f=this.getElement(),g=f.getContext(ud);g.fillStyle=a;a=f.width;var f=f.height,m;for(m in e){var q=Math.round(e[m]/b*f);g.fillRect(Math.round(m/256*a),f-q,d,q)}}};
w.update=function(a){var b=this.model_;b&&(this.clear(),this.plot_(b.getRedDataList(),b.getGreenDataList(),b.getBlueDataList(),a||this.currentType_))};var LR=function(a,b,d){return c+(qe+IR(a,null,d)+Xd+JR(a,null,d)+Yd+KR(a,null,d)+Vd)};LR.soyTemplateName="apps.photos.lightbox.photoDetails.viewTemplate";
var IR=function(a){return c+(a.imgSrc?He+qK(a.imgSrc)+Xa:Ie)},JR=function(a){var b=Le+qK(a.photoInfoData[0])+$d,d;d=a.photoInfoData[1];null!=d&&d.contentKind===fK&&(eE(Oo,[d.getContent()]),d=VC);return b+d+ae+qK(a.photoInfoData[2])+yb},KR=function(a,b,d){b=c+(Pe+MR({zebra:!0,elementKey:Ci,elementValue:a.cameraData[0]},null,d)+MR({zebra:!1,elementKey:Lj,elementValue:a.cameraData[1]},null,d));a.showViewCount&&(b+=MR({zebra:!0,elementKey:cm,elementValue:a.cameraData[2]},null,d));return b+=MR({zebra:!0,
elementKey:Ah,elementValue:a.cameraData[3]},null,d)+MR({zebra:!1,elementKey:wj,elementValue:a.cameraData[4]},null,d)+MR({zebra:!0,elementKey:of,elementValue:a.cameraData[5]},null,d)+MR({zebra:!1,elementKey:Rj,elementValue:a.cameraData[6]},null,d)+MR({zebra:!0,elementKey:vk,elementValue:a.cameraData[7]},null,d)+MR({zebra:!1,elementKey:vj,elementValue:a.cameraData[8]},null,d)+MR({zebra:!0,elementKey:Pj,elementValue:a.cameraData[9]},null,d)+de},MR=function(a){return(a.zebra?Re:Se)+Qe+qK(a.elementKey)+
fe+qK(a.elementValue)+ee};var NR=function(a){HN.call(this,new IN(a));this.viewService_=a.get(Hs);this.configService_=PJ(a);this.setAlbumGeoinfoVisibilityEnabled_=this.configService_.isFeatureEnabled(VA);this.viewCountEnabled_=this.configService_.isFeatureEnabled(yC)};B(NR,HN);var OR=[c,c,c,c,c],PR=[bc,bc,bc,bc,bc,bc,bc,bc,bc,bc],QR=new zG(140,150);w=NR.prototype;w.createDom_=function(){NR.superClass_.createDom_.call(this);A();this.initLoader_();bM&&A()};
w.initializeComponent_=function(){A();this.getElement().className=xg;kK(this.getElement(),LR,this.getTemplateData_());S(this.element_,EC,dv);bM&&A();this.wheelHandler_=new fR(this.getElement())};
w.enterDocumentInternal_=function(){var a=this.getDomHelper(),b=this.getElement();this.thumbnailEl_=a.getElementByClass(Cg,b);this.photoInfoEl_=a.getElementByClass(Dg,b);this.cameraInfoTabEl_=a.getElementByClass(Eg,b);this.mapsTabEl_=a.getElementByClass(Fg,b);this.cameraInfoEl_=a.getElementByClass(yg,this.cameraInfoTabEl_);this.histogramContainerEl_=a.getElementByClass(Ag,this.cameraInfoTabEl_);if(!H||H&&0<=ZD(sF,Gd))this.histogram_=new HR(a),this.histogram_.render(this.histogramContainerEl_);this.tabBar_=
new qR(KB,pR.getInstance(),a);this.tabBar_.decorate(a.getElementByClass(Pu,b));this.tabBar_.setFocusable(!1);this.mapsTab_=this.tabBar_.getChildAt(0);T(this.mapsTabEl_,!1);this.lastSelectedTabIndex_=-1;this.getHandler().listen(this.tabBar_,JA,this.onTabClick_).listen(this.getElement(),ls,this.onClick_).listen(this.wheelHandler_,Rw,DF)};w.getTemplateData_=function(){return{photoInfoData:OR,cameraData:PR}};
w.disposeInternal=function(){NR.superClass_.disposeInternal.call(this);J(this.photoGeoVisibilityBtn_);J(this.wheelHandler_);J(this.histogram_);J(this.tabBar_)};w.setPhoto=function(a){this.photo_=a;this.mapIsStale_=!0;this.clearTextElements_();this.histogram_&&this.histogram_.clear();this.update()};
w.update=function(){if(this.photo_&&this.photo_.isCompletelyLoaded()){this.updateTextElements_();this.updateHistogram_();var a=this.hasGeoLocationInfo_(this.photo_),b=this.photo_.getContainer().getShowGeoinfo();this.setAlbumGeoinfoVisibilityEnabled_||(b=!0);this.mapsTab_.setVisible(a&&b);this.updateTabs_();a&&(b||this.photo_.viewerIsOwner())&&this.loadMapsApi_(z(function(){google.maps=this.getGoogleProperty_(uw);this.updateGeoCode_();this.updateMaps_()},this),z(function(){this.mapsTab_.setVisible(!1);
this.updateTabs_()},this))}};w.clearTextElements_=function(){this.thumbnailEl_.innerHTML=c;this.photoInfoEl_.innerHTML=c;this.cameraInfoEl_.innerHTML=KR({cameraData:PR,showViewCount:this.viewCountEnabled_})};
w.updateTextElements_=function(){var a=this.photo_.getPhoto(),b=a.getExifInfo();this.thumbnailEl_.innerHTML=IR({imgSrc:this.photo_.getSizedUrl(QR)});this.photoInfoEl_.innerHTML=JR({photoInfoData:[a.getTitle(),this.getPersonSectionHtml_(),this.getDateString_(a.getExifInfo())]});var d={cameraData:PR,showViewCount:this.viewCountEnabled_},e=this.photo_.getSize();d.cameraData[0]=e.width+(Ba+(e.height+wa));var f=a.getFileSize(),e=c;x(!1)||(e=Af);var g=f?f:0,f=g,m=c,q=1;0>g&&(g=-g);for(var u=0;u<YJ.length;u++){var D=
YJ[u],q=ZJ[D];if(g>=q||1>=q&&g>.1*q){m=D;break}}m?e&&(m+=e):q=1;e=Math.pow(10,x(void 0)?void 0:2);d.cameraData[1]=Math.round(f/q*e)/e+c+m;d.cameraData[2]=a.getImageViewCount()?a.getImageViewCount()+c:id;b&&(d.cameraData[3]=b.getCameraModel()||bc,d.cameraData[4]=b.getExposureTime()?Math.round(1E3*b.getExposureTime())/1E3+xa+Math.round(1/b.getExposureTime())+Pb:bc,d.cameraData[5]=b.getApertureFnumber()?Ht+b.getApertureFnumber():bc,d.cameraData[6]=b.getFocalLength()?b.getFocalLength()+ua:bc,d.cameraData[7]=
b.getIsoEquivalent()?b.getIsoEquivalent()+c:bc,d.cameraData[8]=b.getExposureBias()?b.getExposureBias()+cd:bc,d.cameraData[9]=b.getFlashUsed()?Xp:bc);this.cameraInfoEl_.innerHTML=KR(d)};w.getDateString_=function(a){if(a&&0<a.getPhotoTime()){a=new Date(a?1E3*a.getPhotoTime():0);var b=new Date(a.getTime()+6E4*a.getTimezoneOffset());a=b?FR.format(b):c;b=b?GR.format(b):c;return By+(a+(na+b))}return c};
w.getPersonSectionHtml_=function(){var a=c,b=this.photo_.getPhoto().getOwner();b&&(a=[b.getDisplayname(),b.getProfileUrl()],a=vB+(a[1]?je+qK(a[1])+Ua+qK(Hg)+Xa+qK(a[0])+Od:Me+qK(Hg)+Xa+qK(a[0])+be));return a};w.updateTabs_=function(){var a=this.tabBar_.getSelectedTabIndex();T(this.mapsTabEl_,0==a);T(this.cameraInfoTabEl_,1==a)};
w.updateHistogram_=function(){T(this.histogramContainerEl_,!1);this.histogram_&&this.photo_.asyncLoadHistogram(z(function(){T(this.histogramContainerEl_,!0);this.histogram_.setModel(this.photo_.getPhoto().getHistogram())},this))};w.onTabClick_=function(){this.updateTabs_();this.mapIsStale_&&0==this.tabBar_.getSelectedTabIndex()&&this.updateMaps_()};w.onClick_=function(a){a.target==this.getDomHelper().getElementByClass(Gg)&&this.photo_&&this.viewService_.setView(ab);a.stopPropagation()};
w.isVisible=function(){return this.visible_};w.setVisible=function(a){a!=this.visible_&&(a&&!this.isInitialized_&&(this.initializeComponent_(),this.enterDocumentInternal_(),this.isInitialized_=!0),S(this.getElement(),EC,a?FC:dv),this.visible_=a)};w.initLoader_=function(){var a=this.getDomHelper();if(!this.getGoogleProperty_(nw)){var b=a.createElement(Gn);b.type=yB;b.src=ad;a.appendChild(a.document_.body,b)}};
w.loadMapsApi_=function(a,b){Tu in window||(google={});google.load=this.getGoogleProperty_(nw);google.load?google.load(uw,vd,{callback:a,other_params:LA}):b()};w.hasGeoLocationInfo_=function(a){a=a.getPhoto().getGeoInfo();return!!a&&!!a.getLatitude()&&!!a.getLongitude()};
w.updateGeoCode_=function(){var a=this.photo_.getPhoto().getGeoInfo(),a=new google.maps.LatLng(a.getLatitude(),a.getLongitude());this.geoCoder_||(this.geoCoder_=new google.maps.Geocoder);this.geoCoder_.geocode({latLng:a},z(this.onGeocode_,this))};
w.onGeocode_=function(a,b){if(b==google.maps.GeocoderStatus.OK&&a[1]){var d=this.getDomHelper();this.photoLocationEl_=d.getElementByClass(Ig,this.photoInfoEl_);d=d.getElementByClass(Kg,this.photoInfoEl_);rP(d,Lg);if(this.setAlbumGeoinfoVisibilityEnabled_){this.photoGeoVisibilityBtn_&&(this.getHandler().unlisten(this.photoGeoVisibilityBtn_,Rq,this.onGeoVisibilityClick_),J(this.photoGeoVisibilityBtn_));var d=this.photo_.getContainer().getShowGeoinfo(),e=zO(mR,Jg);this.photoGeoVisibilityBtn_=new vR(c,
e);this.photoGeoVisibilityBtn_.render(this.photoInfoEl_);this.photoGeoVisibilityBtn_.setChecked(d);this.photoGeoVisibilityBtn_.setValue(a[1].formatted_address);this.photoGeoVisibilityBtn_.setVisible(this.photo_.viewerIsOwner());this.updateGeoVisibilityInfo_(d);this.getHandler().listen(this.photoGeoVisibilityBtn_,Rq,this.onGeoVisibilityClick_)}else this.getDomHelper().setTextContent(this.photoLocationEl_,a[1].formatted_address)}};
w.onGeoVisibilityClick_=function(a){var b=a.target.isChecked();this.photo_.getContainer().setShowGeoinfo(b);this.updateGeoVisibilityInfo_(b);var d=this.tabBar_.getSelectedTabIndex();this.mapsTab_.setVisible(b);-1!=this.lastSelectedTabIndex_&&this.tabBar_.setSelectedTabIndex(this.lastSelectedTabIndex_);this.updateTabs_();this.lastSelectedTabIndex_=d;a.stopPropagation()};
w.updateGeoVisibilityInfo_=function(a){this.getDomHelper().setTextContent(this.photoLocationEl_,a?this.photoGeoVisibilityBtn_.getValue():il);this.photoGeoVisibilityBtn_.setCaption(a?pk:fo)};
w.updateMaps_=function(){if(0==this.tabBar_.getSelectedTabIndex()){var a=this.photo_.getPhoto().getGeoInfo(),a=new google.maps.LatLng(a.getLatitude(),a.getLongitude());this.mapsWidget_||(this.mapsWidget_=new google.maps.Map(this.mapsTabEl_,{zoom:13,center:a,keyboardShortcuts:!1,mapTypeId:google.maps.MapTypeId.ROADMAP}),this.mapsMarker_=new google.maps.Marker({position:a}),this.mapsMarker_.setMap(this.mapsWidget_));this.mapsWidget_.setCenter(a);this.mapsMarker_.setPosition(a);this.mapIsStale_=!1}};
w.getGoogleProperty_=function(a){return window.google&&window.google[a]||window.parent.google&&window.parent.google[a]};var RR=function(a,b,d,e,f){this.email_=a;this.fullName_=b;this.nickname_=d;this.id_=e||null;this.gaiaId_=f||null};w=RR.prototype;w.getEmail=function(){return this.email_};w.getFullName=function(){return this.fullName_};w.getId=function(){return this.id_};w.getName=function(){return this.nickname_};w.toString=function(){return this.getFullName()};var SR=function(a,b,d,e,f){mP.call(this,b,d,e,f);this.element=a};B(SR,mP);w=SR.prototype;w.updateStyle=gD;w.isRightToLeft=function(){x(this.rightToLeft_)||(this.rightToLeft_=DJ(this.element));return this.rightToLeft_};w.onAnimate=function(){this.updateStyle();SR.superClass_.onAnimate.call(this)};w.onEnd=function(){this.updateStyle();SR.superClass_.onEnd.call(this)};w.onBegin=function(){this.updateStyle();SR.superClass_.onBegin.call(this)};
var TR=function(a,b,d,e,f){lD(b)&&(b=[b]);lD(d)&&(d=[d]);SR.call(this,a,b,d,e,f);if(1!=b.length||1!=d.length)throw Error("Start and end points must be 1D");this.lastOpacityUpdate_=-1};B(TR,SR);var UR=1/1024;w=TR.prototype;w.updateStyle=function(){var a=this.coords[0];Math.abs(a-this.lastOpacityUpdate_)>=UR&&(CJ(this.element,a),this.lastOpacityUpdate_=a)};w.onBegin=function(){this.lastOpacityUpdate_=-1;TR.superClass_.onBegin.call(this)};w.onEnd=function(){this.lastOpacityUpdate_=-1;TR.superClass_.onEnd.call(this)};
w.show=function(){this.element.style.display=c};w.hide=function(){this.element.style.display=iy};var VR=function(a,b,d){TR.call(this,a,1,0,b,d)};B(VR,TR);VR.prototype.onBegin=function(){this.show();VR.superClass_.onBegin.call(this)};VR.prototype.onEnd=function(){this.hide();VR.superClass_.onEnd.call(this)};var WR=function(a,b,d){TR.call(this,a,0,1,b,d)};B(WR,TR);WR.prototype.onBegin=function(){this.show();WR.superClass_.onBegin.call(this)};var XR=function(a){return Math.pow(a,3)};var YR=function(){};var ZR=[];ZR.push=function(){throw Error("Calling push on a read-only array");};var $R={cancel:function(){},isPending:function(){return!1}};var aS=function(a){this.acRow_=a;var b;b=a[1];var d=a[2];b=a[0]!=is?b?b!=d&&d?Ca+b+Ha+d+Ue:b:d:(a=a[6])?b+ga+(1==a?Jb:Gb+(a+pa)):b+ha;this.text=b};B(aS,YR);w=aS.prototype;w.toString=function(){return this.acRow_[0]==is?this.acRow_[2]:this.text};w.getId=function(){return this.acRow_[4]};w.getName=function(){return this.acRow_[1]||c};w.getEmail=function(){return this.acRow_[0]!=Gz?this.acRow_[2]:null};w.getType=function(){return this.acRow_[0]};w.getCount=function(){return this.acRow_[3]||0};
w.getPriority=function(){return this.acRow_[7]};var Z=function(a){this.a_=a||[];a&&(this.cache_=[])},bS={};w=Z.prototype;w.get$RepeatedLength=function(a){return this.a_[a]&&this.a_[a].length||0};w.get$RepeatedProtoLength=Z.prototype.get$RepeatedLength;w.get$Repeated=function(a,b,d){return this.a_[a]&&null!=this.a_[a][b]?this.a_[a][b]:d};w.has$Repeated=function(a,b){return 0<=b&&jD(this.a_[a])&&b<this.a_[a].length};w.get=function(a,b){return null!=this.a_[a]?this.a_[a]:b};w.has=function(a){return null!=this.a_[a]};
w.get$Proto=function(a,b){if(!this.cache_||!this.cache_[a])if(this.a_[a])this.cache_[a]=new b(this.a_[a]);else return this.get$ImmutableDefaultInstance(b);return this.cache_[a]};w.has$Proto=function(a){return null!=this.a_[a]};w.has$RepeatedProto=Z.prototype.has$Repeated;
w.get$RepeatedProto=function(a,b,d){if(!this.cache_||!this.cache_[a]||!this.cache_[a][b])if(this.a_[a]&&this.a_[a][b])this.cache_[a]||(this.cache_[a]=[]),this.cache_[a][b]=new d(this.a_[a][b]);else return this.get$ImmutableDefaultInstance(d);return this.cache_[a][b]};w.get$ImmutableDefaultInstance=function(a){var b=qD(a);b in bS||(bS[b]=new a([]));return bS[b]};var cS=function(a){Z.call(this,a)};B(cS,Z);w=cS.prototype;w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasValue()&&a.push(Gp+(y(this.getValue())?C(this.getValue().toString()):this.getValue().toString()));this.hasContentType()&&a.push(ci+(y(this.getContentType())?C(this.getContentType().toString()):this.getContentType().toString()));return t+a.join(h)+v};
w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};w.getValue=function(){return this.get(2,c)};w.hasValue=function(){return this.has(2)};w.getContentType=function(){return this.get(3,0)};w.hasContentType=function(){return this.has(3)};var eS=function(a){Z.call(this,a)};B(eS,Z);w=eS.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasStandardTag()&&a.push(so+(y(this.getStandardTag())?C(this.getStandardTag().toString()):this.getStandardTag().toString()));this.hasCustomTag()&&a.push(pi+(y(this.getCustomTag())?C(this.getCustomTag().toString()):this.getCustomTag().toString()));this.hasSourceIsStructured()&&a.push(lo+(y(this.getSourceIsStructured())?C(this.getSourceIsStructured().toString()):
this.getSourceIsStructured().toString()));this.hasValue()&&a.push(Gp+(y(this.getValue())?C(this.getValue().toString()):this.getValue().toString()));this.hasPoBox()&&a.push(Qm+(y(this.getPoBox())?C(this.getPoBox().toString()):this.getPoBox().toString()));this.hasExtendedAddress()&&a.push(xj+(y(this.getExtendedAddress())?C(this.getExtendedAddress().toString()):this.getExtendedAddress().toString()));this.hasStreetAddress()&&a.push(Co+(y(this.getStreetAddress())?C(this.getStreetAddress().toString()):
this.getStreetAddress().toString()));this.hasLocality()&&a.push(hl+(y(this.getLocality())?C(this.getLocality().toString()):this.getLocality().toString()));this.hasRegion()&&a.push(sn+(y(this.getRegion())?C(this.getRegion().toString()):this.getRegion().toString()));this.hasPostalCode()&&a.push(Um+(y(this.getPostalCode())?C(this.getPostalCode().toString()):this.getPostalCode().toString()));this.hasCountry()&&a.push(fi+(y(this.getCountry())?C(this.getCountry().toString()):this.getCountry().toString()));
this.hasPrimary()&&a.push(bn+(y(this.getPrimary())?C(this.getPrimary().toString()):this.getPrimary().toString()));this.hasCountryCode()&&a.push(gi+(y(this.getCountryCode())?C(this.getCountryCode().toString()):this.getCountryCode().toString()));return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};w.getStandardTag=function(){return this.get(2,1)};w.hasStandardTag=function(){return this.has(2)};
w.getCustomTag=function(){return this.get(3,c)};w.hasCustomTag=function(){return this.has(3)};w.getSourceIsStructured=function(){return this.get(4,!1)};w.hasSourceIsStructured=function(){return this.has(4)};w.getValue=function(){return this.get(5,c)};w.hasValue=function(){return this.has(5)};w.getPoBox=function(){return this.get(6,c)};w.hasPoBox=function(){return this.has(6)};w.getExtendedAddress=function(){return this.get(7,c)};w.hasExtendedAddress=function(){return this.has(7)};
w.getStreetAddress=function(){return this.get(8,c)};w.hasStreetAddress=function(){return this.has(8)};w.getLocality=function(){return this.get(9,c)};w.hasLocality=function(){return this.has(9)};w.getRegion=function(){return this.get(10,c)};w.hasRegion=function(){return this.has(10)};w.getPostalCode=function(){return this.get(11,c)};w.hasPostalCode=function(){return this.has(11)};w.getCountry=function(){return this.get(12,c)};w.hasCountry=function(){return this.has(12)};
w.getPrimary=function(){return this.get(13,!1)};w.hasPrimary=function(){return this.has(13)};w.getCountryCode=function(){return this.get(14,c)};w.hasCountryCode=function(){return this.has(14)};var fS=function(a){Z.call(this,a)};B(fS,Z);w=fS.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));if(this.has(2)){for(var b=[],d=0;d<this.getFieldLength();++d){var e=this.getField(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(Kj+b.join(h)+n)}return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,gS)};w.hasMetaData=function(){return this.has$Proto(1)};w.hasField=function(a){return this.has$RepeatedProto(2,a)};
w.getField=function(a){return this.get$RepeatedProto(2,a,eS)};w.getFieldLength=function(){return this.get$RepeatedProtoLength(2)};var hS=function(a){Z.call(this,a)};B(hS,Z);w=hS.prototype;
w.toString=function(){var a=[];this.hasFamilyMetaData()&&a.push(Fj+(y(this.getFamilyMetaData())?C(this.getFamilyMetaData().toString()):this.getFamilyMetaData().toString()));this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasStatus()&&a.push(yo+(y(this.getStatus())?C(this.getStatus().toString()):this.getStatus().toString()));this.hasChangeReason()&&a.push(Jh+(y(this.getChangeReason())?C(this.getChangeReason().toString()):this.getChangeReason().toString()));
this.hasLastUpdateTime()&&a.push(Zk+(y(this.getLastUpdateTime())?C(this.getLastUpdateTime().toString()):this.getLastUpdateTime().toString()));this.hasManualEvalResult()&&a.push(sl+(y(this.getManualEvalResult())?C(this.getManualEvalResult().toString()):this.getManualEvalResult().toString()));this.hasManualEvalTimeUsec()&&a.push(tl+(y(this.getManualEvalTimeUsec())?C(this.getManualEvalTimeUsec().toString()):this.getManualEvalTimeUsec().toString()));this.hasBlockCount()&&a.push(If+(y(this.getBlockCount())?
C(this.getBlockCount().toString()):this.getBlockCount().toString()));return t+a.join(h)+v};w.getFamilyMetaData=function(){return this.get$Proto(1,gS)};w.hasFamilyMetaData=function(){return this.has$Proto(1)};w.getMetaData=function(){return this.get$Proto(2,dS)};w.hasMetaData=function(){return this.has$Proto(2)};w.getStatus=function(){return this.get(3,0)};w.hasStatus=function(){return this.has(3)};w.getChangeReason=function(){return this.get(4,c)};w.hasChangeReason=function(){return this.has(4)};
w.getLastUpdateTime=function(){return this.get(5,id)};w.hasLastUpdateTime=function(){return this.has(5)};w.getManualEvalResult=function(){return this.get(6,0)};w.hasManualEvalResult=function(){return this.has(6)};w.getManualEvalTimeUsec=function(){return this.get(7,id)};w.hasManualEvalTimeUsec=function(){return this.has(7)};w.getBlockCount=function(){return this.get(8,0)};w.hasBlockCount=function(){return this.has(8)};var iS=function(a){Z.call(this,a)};B(iS,Z);w=iS.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasSourceIsStructured()&&a.push(lo+(y(this.getSourceIsStructured())?C(this.getSourceIsStructured().toString()):this.getSourceIsStructured().toString()));this.hasValue()&&a.push(Gp+(y(this.getValue())?C(this.getValue().toString()):this.getValue().toString()));this.hasDay()&&a.push(vi+(y(this.getDay())?C(this.getDay().toString()):this.getDay().toString()));
this.hasMonth()&&a.push(Cl+(y(this.getMonth())?C(this.getMonth().toString()):this.getMonth().toString()));this.hasYear()&&a.push(Wp+(y(this.getYear())?C(this.getYear().toString()):this.getYear().toString()));return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};w.getSourceIsStructured=function(){return this.get(2,!1)};w.hasSourceIsStructured=function(){return this.has(2)};w.getValue=function(){return this.get(3,c)};
w.hasValue=function(){return this.has(3)};w.getDay=function(){return this.get(4,0)};w.hasDay=function(){return this.has(4)};w.getMonth=function(){return this.get(5,0)};w.hasMonth=function(){return this.has(5)};w.getYear=function(){return this.get(6,0)};w.hasYear=function(){return this.has(6)};var jS=function(a){Z.call(this,a)};B(jS,Z);w=jS.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasSourceIsStructured()&&a.push(lo+(y(this.getSourceIsStructured())?C(this.getSourceIsStructured().toString()):this.getSourceIsStructured().toString()));this.hasValue()&&a.push(Gp+(y(this.getValue())?C(this.getValue().toString()):this.getValue().toString()));this.hasDay()&&a.push(vi+(y(this.getDay())?C(this.getDay().toString()):this.getDay().toString()));
this.hasMonth()&&a.push(Cl+(y(this.getMonth())?C(this.getMonth().toString()):this.getMonth().toString()));this.hasYear()&&a.push(Wp+(y(this.getYear())?C(this.getYear().toString()):this.getYear().toString()));return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};w.getSourceIsStructured=function(){return this.get(2,!1)};w.hasSourceIsStructured=function(){return this.has(2)};w.getValue=function(){return this.get(3,c)};
w.hasValue=function(){return this.has(3)};w.getDay=function(){return this.get(4,0)};w.hasDay=function(){return this.has(4)};w.getMonth=function(){return this.get(5,0)};w.hasMonth=function(){return this.has(5)};w.getYear=function(){return this.get(6,0)};w.hasYear=function(){return this.has(6)};var kS=function(a){Z.call(this,a)};B(kS,Z);w=kS.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));if(this.has(2)){for(var b=[],d=0;d<this.getFieldLength();++d){var e=this.getField(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(Kj+b.join(h)+n)}return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,gS)};w.hasMetaData=function(){return this.has$Proto(1)};w.hasField=function(a){return this.has$RepeatedProto(2,a)};
w.getField=function(a){return this.get$RepeatedProto(2,a,jS)};w.getFieldLength=function(){return this.get$RepeatedProtoLength(2)};var lS=function(a){Z.call(this,a)};B(lS,Z);w=lS.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasStandardTag()&&a.push(so+(y(this.getStandardTag())?C(this.getStandardTag().toString()):this.getStandardTag().toString()));this.hasCustomTag()&&a.push(pi+(y(this.getCustomTag())?C(this.getCustomTag().toString()):this.getCustomTag().toString()));this.hasPrimary()&&a.push(bn+(y(this.getPrimary())?C(this.getPrimary().toString()):this.getPrimary().toString()));
this.hasValue()&&a.push(Gp+(y(this.getValue())?C(this.getValue().toString()):this.getValue().toString()));return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};w.getStandardTag=function(){return this.get(2,1)};w.hasStandardTag=function(){return this.has(2)};w.getCustomTag=function(){return this.get(3,c)};w.hasCustomTag=function(){return this.has(3)};w.getPrimary=function(){return this.get(4,!1)};w.hasPrimary=function(){return this.has(4)};
w.getValue=function(){return this.get(5,c)};w.hasValue=function(){return this.has(5)};var mS=function(a){Z.call(this,a)};B(mS,Z);w=mS.prototype;w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));if(this.has(2)){for(var b=[],d=0;d<this.getFieldLength();++d){var e=this.getField(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(Kj+b.join(h)+n)}return t+a.join(h)+v};
w.getMetaData=function(){return this.get$Proto(1,gS)};w.hasMetaData=function(){return this.has$Proto(1)};w.hasField=function(a){return this.has$RepeatedProto(2,a)};w.getField=function(a){return this.get$RepeatedProto(2,a,lS)};w.getFieldLength=function(){return this.get$RepeatedProtoLength(2)};var nS=function(a){Z.call(this,a)};B(nS,Z);w=nS.prototype;
w.toString=function(){var a=[];this.hasStartpoint()&&a.push(wo+(y(this.getStartpoint())?C(this.getStartpoint().toString()):this.getStartpoint().toString()));this.hasHalfFuzziness()&&a.push(nk+(y(this.getHalfFuzziness())?C(this.getHalfFuzziness().toString()):this.getHalfFuzziness().toString()));return t+a.join(h)+v};w.getStartpoint=function(){return this.get(1,id)};w.hasStartpoint=function(){return this.has(1)};w.getHalfFuzziness=function(){return this.get(2,td)};w.hasHalfFuzziness=function(){return this.has(2)};
var oS=function(a){Z.call(this,a)};B(oS,Z);w=oS.prototype;w.toString=function(){var a=[];this.hasObfuscatedGaiaId()&&a.push(gm+(y(this.getObfuscatedGaiaId())?C(this.getObfuscatedGaiaId().toString()):this.getObfuscatedGaiaId().toString()));this.hasProfileDisplayName()&&a.push(dn+(y(this.getProfileDisplayName())?C(this.getProfileDisplayName().toString()):this.getProfileDisplayName().toString()));return t+a.join(h)+v};w.getObfuscatedGaiaId=function(){return this.get(1,c)};w.hasObfuscatedGaiaId=function(){return this.has(1)};
w.getProfileDisplayName=function(){return this.get(2,c)};w.hasProfileDisplayName=function(){return this.has(2)};var pS=function(a){Z.call(this,a)};B(pS,Z);w=pS.prototype;
w.toString=function(){var a=[];this.hasAddressBook()&&a.push(jf+(y(this.getAddressBook())?C(this.getAddressBook().toString()):this.getAddressBook().toString()));this.hasDisplayName()&&a.push(Di+(y(this.getDisplayName())?C(this.getDisplayName().toString()):this.getDisplayName().toString()));this.hasDisplayNameSortKey()&&a.push(Gi+(y(this.getDisplayNameSortKey())?C(this.getDisplayNameSortKey().toString()):this.getDisplayNameSortKey().toString()));if(this.has(4)){for(var b=[],d=0;d<this.getEdgeFieldsLength();++d){var e=
this.getEdgeFields(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(Qi+b.join(h)+n)}this.hasDisplayNameAlt()&&a.push(Ei+(y(this.getDisplayNameAlt())?C(this.getDisplayNameAlt().toString()):this.getDisplayNameAlt().toString()));this.hasDisplayNameAltSortKey()&&a.push(Fi+(y(this.getDisplayNameAltSortKey())?C(this.getDisplayNameAltSortKey().toString()):this.getDisplayNameAltSortKey().toString()));return t+a.join(h)+v};w.getAddressBook=function(){return this.get(1,c)};
w.hasAddressBook=function(){return this.has(1)};w.getDisplayName=function(){return this.get(2,c)};w.hasDisplayName=function(){return this.has(2)};w.getDisplayNameSortKey=function(){return this.get(3,c)};w.hasDisplayNameSortKey=function(){return this.has(3)};w.getEdgeFields=function(a){return this.get$RepeatedProto(4,a,oS)};w.getEdgeFieldsLength=function(){return this.get$RepeatedProtoLength(4)};w.getDisplayNameAlt=function(){return this.get(5,c)};w.hasDisplayNameAlt=function(){return this.has(5)};
w.getDisplayNameAltSortKey=function(){return this.get(6,c)};w.hasDisplayNameAltSortKey=function(){return this.has(6)};var qS=function(a){Z.call(this,a)};B(qS,Z);w=qS.prototype;
w.toString=function(){var a=[];this.hasGroupId()&&a.push(ek+(y(this.getGroupId())?C(this.getGroupId().toString()):this.getGroupId().toString()));this.hasDeleted()&&a.push(zi+(y(this.getDeleted())?C(this.getDeleted().toString()):this.getDeleted().toString()));this.hasSyntheticGroupId()&&a.push(Io+(y(this.getSyntheticGroupId())?C(this.getSyntheticGroupId().toString()):this.getSyntheticGroupId().toString()));return t+a.join(h)+v};w.getGroupId=function(){return this.get(1,id)};w.hasGroupId=function(){return this.has(1)};
w.getDeleted=function(){return this.get(5,!1)};w.hasDeleted=function(){return this.has(5)};w.getSyntheticGroupId=function(){return this.get(44,c)};w.hasSyntheticGroupId=function(){return this.has(44)};var rS=function(a){Z.call(this,a)};B(rS,Z);rS.prototype.toString=function(){var a=[];this.hasGroupId()&&a.push(ek+(y(this.getGroupId())?C(this.getGroupId().toString()):this.getGroupId().toString()));return t+a.join(h)+v};rS.prototype.getGroupId=function(){return this.get(1,id)};
rS.prototype.hasGroupId=function(){return this.has(1)};var sS=function(a){Z.call(this,a)};B(sS,Z);w=sS.prototype;
w.toString=function(){var a=[];this.hasSource()&&a.push(io+(y(this.getSource())?C(this.getSource().toString()):this.getSource().toString()));this.hasCustomSource()&&a.push(ni+(y(this.getCustomSource())?C(this.getCustomSource().toString()):this.getCustomSource().toString()));this.hasMethod()&&a.push(wl+(y(this.getMethod())?C(this.getMethod().toString()):this.getMethod().toString()));this.hasImportTimeUSec()&&a.push(Ek+(y(this.getImportTimeUSec())?C(this.getImportTimeUSec().toString()):this.getImportTimeUSec().toString()));
return t+a.join(h)+v};w.getSource=function(){return this.get(1,0)};w.hasSource=function(){return this.has(1)};w.getCustomSource=function(){return this.get(2,c)};w.hasCustomSource=function(){return this.has(2)};w.getMethod=function(){return this.get(3,0)};w.hasMethod=function(){return this.has(3)};w.getImportTimeUSec=function(){return this.get(4,id)};w.hasImportTimeUSec=function(){return this.has(4)};var tS=function(a){Z.call(this,a)};B(tS,Z);
tS.prototype.toString=function(){var a=[];this.hasCircleId()&&a.push(Mh+(y(this.getCircleId())?C(this.getCircleId().toString()):this.getCircleId().toString()));return t+a.join(h)+v};tS.prototype.getCircleId=function(){return this.get(1,id)};tS.prototype.hasCircleId=function(){return this.has(1)};var uS=function(a){Z.call(this,a)};B(uS,Z);w=uS.prototype;
w.toString=function(){var a=[];this.hasEdge()&&a.push(Pi+(y(this.getEdge())?C(this.getEdge().toString()):this.getEdge().toString()));this.hasEvergreenProfile()&&a.push(jj+(y(this.getEvergreenProfile())?C(this.getEvergreenProfile().toString()):this.getEvergreenProfile().toString()));this.hasProfileUrl()&&a.push(hn+(y(this.getProfileUrl())?C(this.getProfileUrl().toString()):this.getProfileUrl().toString()));this.hasIsInSharingDomain()&&a.push(Mk+(y(this.getIsInSharingDomain())?C(this.getIsInSharingDomain().toString()):
this.getIsInSharingDomain().toString()));this.hasEmeraldSeaUser()&&a.push(Xi+(y(this.getEmeraldSeaUser())?C(this.getEmeraldSeaUser().toString()):this.getEmeraldSeaUser().toString()));if(this.has(16)){for(var b=[],d=0;d<this.getPersonalCircleMembershipLength();++d){var e=this.getPersonalCircleMembership(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(Jm+b.join(h)+n)}this.hasLastUpdateTime()&&a.push(Zk+(y(this.getLastUpdateTime())?C(this.getLastUpdateTime().toString()):this.getLastUpdateTime().toString()));
this.hasBlocked()&&a.push(Jf+(y(this.getBlocked())?C(this.getBlocked().toString()):this.getBlocked().toString()));this.hasIgnored()&&a.push(zk+(y(this.getIgnored())?C(this.getIgnored().toString()):this.getIgnored().toString()));return t+a.join(h)+v};w.getEdge=function(){return this.get$Proto(1,vS)};w.hasEdge=function(){return this.has$Proto(1)};w.getEvergreenProfile=function(){return this.get$Proto(3,wS)};w.hasEvergreenProfile=function(){return this.has$Proto(3)};
w.getProfileUrl=function(){return this.get(4,c)};w.hasProfileUrl=function(){return this.has(4)};w.getIsInSharingDomain=function(){return this.get(7,!1)};w.hasIsInSharingDomain=function(){return this.has(7)};w.getEmeraldSeaUser=function(){return this.get(15,!1)};w.hasEmeraldSeaUser=function(){return this.has(15)};w.getPersonalCircleMembership=function(a){return this.get$RepeatedProto(16,a,tS)};w.getPersonalCircleMembershipLength=function(){return this.get$RepeatedProtoLength(16)};
w.getLastUpdateTime=function(){return this.get(23,id)};w.hasLastUpdateTime=function(){return this.has(23)};w.getBlocked=function(){return this.get(24,!1)};w.hasBlocked=function(){return this.has(24)};w.getIgnored=function(){return this.get(25,!1)};w.hasIgnored=function(){return this.has(25)};var xS=function(a){Z.call(this,a)};B(xS,Z);w=xS.prototype;
w.toString=function(){var a=[];this.hasGroupId()&&a.push(ek+(y(this.getGroupId())?C(this.getGroupId().toString()):this.getGroupId().toString()));this.hasEmail()&&a.push(Vi+(y(this.getEmail())?C(this.getEmail().toString()):this.getEmail().toString()));this.hasRank()&&a.push(on+(y(this.getRank())?C(this.getRank().toString()):this.getRank().toString()));return t+a.join(h)+v};w.getGroupId=function(){return this.get(1,id)};w.hasGroupId=function(){return this.has(1)};
w.getEmail=function(){return this.get(2,c)};w.hasEmail=function(){return this.has(2)};w.getRank=function(){return this.get(3,id)};w.hasRank=function(){return this.has(3)};var yS=function(a){Z.call(this,a)};B(yS,Z);w=yS.prototype;
w.toString=function(){var a=[];this.hasGmailMessageCount()&&a.push(ck+(y(this.getGmailMessageCount())?C(this.getGmailMessageCount().toString()):this.getGmailMessageCount().toString()));this.hasGmailRecvCount()&&a.push(dk+(y(this.getGmailRecvCount())?C(this.getGmailRecvCount().toString()):this.getGmailRecvCount().toString()));this.hasGmailLastSent()&&a.push(bk+(y(this.getGmailLastSent())?C(this.getGmailLastSent().toString()):this.getGmailLastSent().toString()));this.hasInteractionsRank()&&a.push(Hk+
(y(this.getInteractionsRank())?C(this.getInteractionsRank().toString()):this.getInteractionsRank().toString()));if(this.has(6)){for(var b=[],d=0;d<this.getSuggestedGroupInfoLength();++d){var e=this.getSuggestedGroupInfo(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(Fo+b.join(h)+n)}this.hasNormalizedInteractionsRank()&&a.push(am+(y(this.getNormalizedInteractionsRank())?C(this.getNormalizedInteractionsRank().toString()):this.getNormalizedInteractionsRank().toString()));this.hasExternalInteractionScore()&&
a.push(Aj+(y(this.getExternalInteractionScore())?C(this.getExternalInteractionScore().toString()):this.getExternalInteractionScore().toString()));return t+a.join(h)+v};w.getGmailMessageCount=function(){return this.get(1,0)};w.hasGmailMessageCount=function(){return this.has(1)};w.getGmailRecvCount=function(){return this.get(2,0)};w.hasGmailRecvCount=function(){return this.has(2)};w.getGmailLastSent=function(){return this.get(3,id)};w.hasGmailLastSent=function(){return this.has(3)};
w.getInteractionsRank=function(){return this.get(5,id)};w.hasInteractionsRank=function(){return this.has(5)};w.getSuggestedGroupInfo=function(a){return this.get$RepeatedProto(6,a,xS)};w.getSuggestedGroupInfoLength=function(){return this.get$RepeatedProtoLength(6)};w.getNormalizedInteractionsRank=function(){return this.get(10,id)};w.hasNormalizedInteractionsRank=function(){return this.has(10)};w.getExternalInteractionScore=function(){return this.get(11,id)};w.hasExternalInteractionScore=function(){return this.has(11)};
var zS=function(a){Z.call(this,a)};B(zS,Z);w=zS.prototype;w.toString=function(){var a=[];this.hasAttributeKey()&&a.push(yf+(y(this.getAttributeKey())?C(this.getAttributeKey().toString()):this.getAttributeKey().toString()));this.hasValue()&&a.push(Gp+(y(this.getValue())?C(this.getValue().toString()):this.getValue().toString()));this.hasMarkForDelete()&&a.push(ul+(y(this.getMarkForDelete())?C(this.getMarkForDelete().toString()):this.getMarkForDelete().toString()));return t+a.join(h)+v};
w.getAttributeKey=function(){return this.get(1,0)};w.hasAttributeKey=function(){return this.has(1)};w.getValue=function(){return this.get(2,c)};w.hasValue=function(){return this.has(2)};w.getMarkForDelete=function(){return this.get(3,!1)};w.hasMarkForDelete=function(){return this.has(3)};var AS=function(a){Z.call(this,a)};B(AS,Z);w=AS.prototype;
w.toString=function(){var a=[];this.hasId()&&a.push(xk+(y(this.getId())?C(this.getId().toString()):this.getId().toString()));if(this.has(4)){for(var b=[],d=0;d<this.getAttributeLength();++d){var e=this.getAttribute(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(xf+b.join(h)+n)}this.hasProfile()&&a.push(cn+(y(this.getProfile())?C(this.getProfile().toString()):this.getProfile().toString()));if(this.has(6)){b=[];for(d=0;d<this.getGroupInfoLength();++d)e=this.getGroupInfo(d),null!=
e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c);a.push(fk+b.join(h)+n)}this.hasAffinity()&&a.push(lf+(y(this.getAffinity())?C(this.getAffinity().toString()):this.getAffinity().toString()));this.hasLastUpdateTime()&&a.push(Zk+(y(this.getLastUpdateTime())?C(this.getLastUpdateTime().toString()):this.getLastUpdateTime().toString()));this.hasDeleted()&&a.push(zi+(y(this.getDeleted())?C(this.getDeleted().toString()):this.getDeleted().toString()));this.hasImplicit()&&a.push(Bk+(y(this.getImplicit())?
C(this.getImplicit().toString()):this.getImplicit().toString()));if(this.has(14)){b=[];for(d=0;d<this.getImplicitGroupInfoLength();++d)e=this.getImplicitGroupInfo(d),null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c);a.push(Ck+b.join(h)+n)}this.hasCalledCount()&&a.push(zh+(y(this.getCalledCount())?C(this.getCalledCount().toString()):this.getCalledCount().toString()));if(this.has(17)){b=[];for(d=0;d<this.getImportInfoLength();++d)e=this.getImportInfo(d),null!=e?b.push(y(e)?C(e.toString()):
e.toString()):b.push(c);a.push(Dk+b.join(h)+n)}this.hasWantsToChat()&&a.push(Qp+(y(this.getWantsToChat())?C(this.getWantsToChat().toString()):this.getWantsToChat().toString()));if(this.has(23)){b=[];for(d=0;d<this.getReadOnlyOutgoingEdgeLength();++d)e=this.getReadOnlyOutgoingEdge(d),null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c);a.push(qn+b.join(h)+n)}this.hasPersonalInteractionsRank()&&a.push(Km+(y(this.getPersonalInteractionsRank())?C(this.getPersonalInteractionsRank().toString()):
this.getPersonalInteractionsRank().toString()));this.hasReadOnlySyntheticContact()&&a.push(rn+(y(this.getReadOnlySyntheticContact())?C(this.getReadOnlySyntheticContact().toString()):this.getReadOnlySyntheticContact().toString()));this.hasSyntheticContactId()&&a.push(Ho+(y(this.getSyntheticContactId())?C(this.getSyntheticContactId().toString()):this.getSyntheticContactId().toString()));return t+a.join(h)+v};w.getId=function(){return this.get(2,id)};w.hasId=function(){return this.has(2)};
w.getAttribute=function(a){return this.get$RepeatedProto(4,a,zS)};w.getAttributeLength=function(){return this.get$RepeatedProtoLength(4)};w.getProfile=function(){return this.get$Proto(5,wS)};w.hasProfile=function(){return this.has$Proto(5)};w.getGroupInfo=function(a){return this.get$RepeatedProto(6,a,qS)};w.getGroupInfoLength=function(){return this.get$RepeatedProtoLength(6)};w.getAffinity=function(){return this.get$Proto(8,yS)};w.hasAffinity=function(){return this.has$Proto(8)};
w.getLastUpdateTime=function(){return this.get(9,id)};w.hasLastUpdateTime=function(){return this.has(9)};w.getDeleted=function(){return this.get(10,!1)};w.hasDeleted=function(){return this.has(10)};w.getImplicit=function(){return this.get(12,!1)};w.hasImplicit=function(){return this.has(12)};w.getImplicitGroupInfo=function(a){return this.get$RepeatedProto(14,a,rS)};w.getImplicitGroupInfoLength=function(){return this.get$RepeatedProtoLength(14)};w.getCalledCount=function(){return this.get(16,0)};
w.hasCalledCount=function(){return this.has(16)};w.getImportInfo=function(a){return this.get$RepeatedProto(17,a,sS)};w.getImportInfoLength=function(){return this.get$RepeatedProtoLength(17)};w.getWantsToChat=function(){return this.get(22,!1)};w.hasWantsToChat=function(){return this.has(22)};w.getReadOnlyOutgoingEdge=function(a){return this.get$RepeatedProto(23,a,uS)};w.getReadOnlyOutgoingEdgeLength=function(){return this.get$RepeatedProtoLength(23)};
w.getPersonalInteractionsRank=function(){return this.get(28,id)};w.hasPersonalInteractionsRank=function(){return this.has(28)};w.getReadOnlySyntheticContact=function(){return this.get(29,!1)};w.hasReadOnlySyntheticContact=function(){return this.has(29)};w.getSyntheticContactId=function(){return this.get(34,c)};w.hasSyntheticContactId=function(){return this.has(34)};var BS=function(a){Z.call(this,a)};B(BS,Z);w=BS.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasStandardTag()&&a.push(so+(y(this.getStandardTag())?C(this.getStandardTag().toString()):this.getStandardTag().toString()));this.hasEnabled()&&a.push(Yi+(y(this.getEnabled())?C(this.getEnabled().toString()):this.getEnabled().toString()));return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};
w.getStandardTag=function(){return this.get(2,0)};w.hasStandardTag=function(){return this.has(2)};w.getEnabled=function(){return this.get(3,0)};w.hasEnabled=function(){return this.has(3)};var CS=function(a){Z.call(this,a)};B(CS,Z);w=CS.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));if(this.has(2)){for(var b=[],d=0;d<this.getFieldLength();++d){var e=this.getField(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(Kj+b.join(h)+n)}return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,gS)};w.hasMetaData=function(){return this.has$Proto(1)};w.hasField=function(a){return this.has$RepeatedProto(2,a)};
w.getField=function(a){return this.get$RepeatedProto(2,a,BS)};w.getFieldLength=function(){return this.get$RepeatedProtoLength(2)};var DS=function(a){Z.call(this,a)};B(DS,Z);DS.prototype.toString=function(){var a=[];this.hasContactType()&&a.push($h+(y(this.getContactType())?C(this.getContactType().toString()):this.getContactType().toString()));return t+a.join(h)+v};DS.prototype.getContactType=function(){return this.get(1,0)};DS.prototype.hasContactType=function(){return this.has(1)};
var ES=function(a){Z.call(this,a)};B(ES,Z);w=ES.prototype;w.toString=function(){var a=[];this.hasShowDomainContacts()&&a.push(go+(y(this.getShowDomainContacts())?C(this.getShowDomainContacts().toString()):this.getShowDomainContacts().toString()));this.hasDomainContactsCorpusName()&&a.push(Ji+(y(this.getDomainContactsCorpusName())?C(this.getDomainContactsCorpusName().toString()):this.getDomainContactsCorpusName().toString()));return t+a.join(h)+v};
w.getShowDomainContacts=function(){return this.get(1,!1)};w.hasShowDomainContacts=function(){return this.has(1)};w.getDomainContactsCorpusName=function(){return this.get(2,c)};w.hasDomainContactsCorpusName=function(){return this.has(2)};var FS=function(a){Z.call(this,a)};B(FS,Z);w=FS.prototype;
w.toString=function(){var a=[];this.hasCurrent()&&a.push(ji+(y(this.getCurrent())?C(this.getCurrent().toString()):this.getCurrent().toString()));this.hasStart()&&a.push(uo+(y(this.getStart())?C(this.getStart().toString()):this.getStart().toString()));this.hasEnd()&&a.push(Zi+(y(this.getEnd())?C(this.getEnd().toString()):this.getEnd().toString()));this.hasChronology()&&a.push(Lh+(y(this.getChronology())?C(this.getChronology().toString()):this.getChronology().toString()));return t+a.join(h)+v};
w.getCurrent=function(){return this.get(1,!1)};w.hasCurrent=function(){return this.has(1)};w.getStart=function(){return this.get$Proto(2,nS)};w.hasStart=function(){return this.has$Proto(2)};w.getEnd=function(){return this.get$Proto(3,nS)};w.hasEnd=function(){return this.has$Proto(3)};w.getChronology=function(){return this.get(4,1)};w.hasChronology=function(){return this.has(4)};var GS=function(a){Z.call(this,a)};B(GS,Z);
GS.prototype.toString=function(){var a=[];this.hasValue()&&a.push(Gp+(y(this.getValue())?C(this.getValue().toString()):this.getValue().toString()));return t+a.join(h)+v};GS.prototype.getValue=function(){return this.get(2,c)};GS.prototype.hasValue=function(){return this.has(2)};var HS=function(a){Z.call(this,a)};B(HS,Z);w=HS.prototype;
w.toString=function(){var a=[];this.hasPrefType()&&a.push(Wm+(y(this.getPrefType())?C(this.getPrefType().toString()):this.getPrefType().toString()));this.hasGroupId()&&a.push(ek+(y(this.getGroupId())?C(this.getGroupId().toString()):this.getGroupId().toString()));return t+a.join(h)+v};w.getPrefType=function(){return this.get(1,0)};w.hasPrefType=function(){return this.has(1)};w.getGroupId=function(){return this.get(2,id)};w.hasGroupId=function(){return this.has(2)};var IS=function(a){Z.call(this,a)};
B(IS,Z);w=IS.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasStandardTag()&&a.push(so+(y(this.getStandardTag())?C(this.getStandardTag().toString()):this.getStandardTag().toString()));this.hasCustomTag()&&a.push(pi+(y(this.getCustomTag())?C(this.getCustomTag().toString()):this.getCustomTag().toString()));this.hasValue()&&a.push(Gp+(y(this.getValue())?C(this.getValue().toString()):this.getValue().toString()));if(this.has(5)){for(var b=
[],d=0;d<this.getGroupInfoPreferenceLength();++d){var e=this.getGroupInfoPreference(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(gk+b.join(h)+n)}this.hasPrimary()&&a.push(bn+(y(this.getPrimary())?C(this.getPrimary().toString()):this.getPrimary().toString()));this.hasHidden()&&a.push(ok+(y(this.getHidden())?C(this.getHidden().toString()):this.getHidden().toString()));this.hasDisplayName()&&a.push(Di+(y(this.getDisplayName())?C(this.getDisplayName().toString()):this.getDisplayName().toString()));
return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};w.getStandardTag=function(){return this.get(2,1)};w.hasStandardTag=function(){return this.has(2)};w.getCustomTag=function(){return this.get(3,c)};w.hasCustomTag=function(){return this.has(3)};w.getValue=function(){return this.get(4,c)};w.hasValue=function(){return this.has(4)};w.getGroupInfoPreference=function(a){return this.get$RepeatedProto(5,a,HS)};
w.getGroupInfoPreferenceLength=function(){return this.get$RepeatedProtoLength(5)};w.getPrimary=function(){return this.get(8,!1)};w.hasPrimary=function(){return this.has(8)};w.getHidden=function(){return this.get(9,!1)};w.hasHidden=function(){return this.has(9)};w.getDisplayName=function(){return this.get(10,c)};w.hasDisplayName=function(){return this.has(10)};var JS=function(a){Z.call(this,a)};B(JS,Z);w=JS.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));if(this.has(2)){for(var b=[],d=0;d<this.getFieldLength();++d){var e=this.getField(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(Kj+b.join(h)+n)}return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,gS)};w.hasMetaData=function(){return this.has$Proto(1)};w.hasField=function(a){return this.has$RepeatedProto(2,a)};
w.getField=function(a){return this.get$RepeatedProto(2,a,IS)};w.getFieldLength=function(){return this.get$RepeatedProtoLength(2)};var KS=function(a){Z.call(this,a)};B(KS,Z);w=KS.prototype;w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasEntityType()&&a.push(bj+(y(this.getEntityType())?C(this.getEntityType().toString()):this.getEntityType().toString()));return t+a.join(h)+v};
w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};w.getEntityType=function(){return this.get(2,1)};w.hasEntityType=function(){return this.has(2)};var LS=function(a){Z.call(this,a)};B(LS,Z);w=LS.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasField()&&a.push(Jj+(y(this.getField())?C(this.getField().toString()):this.getField().toString()));return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,gS)};w.hasMetaData=function(){return this.has$Proto(1)};w.getField=function(){return this.get$Proto(2,KS)};w.hasField=function(){return this.has$Proto(2)};
var MS=function(a){Z.call(this,a)};B(MS,Z);w=MS.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasStandardTag()&&a.push(so+(y(this.getStandardTag())?C(this.getStandardTag().toString()):this.getStandardTag().toString()));this.hasCustomTag()&&a.push(pi+(y(this.getCustomTag())?C(this.getCustomTag().toString()):this.getCustomTag().toString()));this.hasDateInfo()&&a.push(ui+(y(this.getDateInfo())?C(this.getDateInfo().toString()):this.getDateInfo().toString()));
return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};w.getStandardTag=function(){return this.get(2,1)};w.hasStandardTag=function(){return this.has(2)};w.getCustomTag=function(){return this.get(3,c)};w.hasCustomTag=function(){return this.has(3)};w.getDateInfo=function(){return this.get$Proto(4,FS)};w.hasDateInfo=function(){return this.has$Proto(4)};var NS=function(a){Z.call(this,a)};B(NS,Z);w=NS.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));if(this.has(2)){for(var b=[],d=0;d<this.getFieldLength();++d){var e=this.getField(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(Kj+b.join(h)+n)}return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,gS)};w.hasMetaData=function(){return this.has$Proto(1)};w.hasField=function(a){return this.has$RepeatedProto(2,a)};
w.getField=function(a){return this.get$RepeatedProto(2,a,MS)};w.getFieldLength=function(){return this.get$RepeatedProtoLength(2)};var OS=function(a){Z.call(this,a)};B(OS,Z);w=OS.prototype;w.toString=function(){var a=[];this.hasType()&&a.push(rp+(y(this.getType())?C(this.getType().toString()):this.getType().toString()));this.hasCustomType()&&a.push(qi+(y(this.getCustomType())?C(this.getCustomType().toString()):this.getCustomType().toString()));return t+a.join(h)+v};
w.getType=function(){return this.get(1,0)};w.hasType=function(){return this.has(1)};w.getCustomType=function(){return this.get(2,c)};w.hasCustomType=function(){return this.has(2)};var PS=function(a){Z.call(this,a)};B(PS,Z);w=PS.prototype;w.toString=function(){var a=[];this.hasIdType()&&a.push(yk+(y(this.getIdType())?C(this.getIdType().toString()):this.getIdType().toString()));this.hasId()&&a.push(xk+(y(this.getId())?C(this.getId().toString()):this.getId().toString()));return t+a.join(h)+v};
w.getIdType=function(){return this.get(1,1)};w.hasIdType=function(){return this.has(1)};w.getId=function(){return this.get(2,c)};w.hasId=function(){return this.has(2)};var QS=function(a){Z.call(this,a)};B(QS,Z);w=QS.prototype;
w.toString=function(){var a=[];this.hasTokenName()&&a.push(lp+(y(this.getTokenName())?C(this.getTokenName().toString()):this.getTokenName().toString()));this.hasStatus()&&a.push(yo+(y(this.getStatus())?C(this.getStatus().toString()):this.getStatus().toString()));return t+a.join(h)+v};w.getTokenName=function(){return this.get(1,c)};w.hasTokenName=function(){return this.has(1)};w.getStatus=function(){return this.get(2,1)};w.hasStatus=function(){return this.has(2)};var RS=function(a){Z.call(this,a)};
B(RS,Z);w=RS.prototype;
w.toString=function(){var a=[];this.hasId()&&a.push(xk+(y(this.getId())?C(this.getId().toString()):this.getId().toString()));this.hasLastUsedTimeUsec()&&a.push($k+(y(this.getLastUsedTimeUsec())?C(this.getLastUsedTimeUsec().toString()):this.getLastUsedTimeUsec().toString()));this.hasTotalUsedCount()&&a.push(mp+(y(this.getTotalUsedCount())?C(this.getTotalUsedCount().toString()):this.getTotalUsedCount().toString()));this.hasErrorMsgFromLastAccess()&&a.push(dj+(y(this.getErrorMsgFromLastAccess())?C(this.getErrorMsgFromLastAccess().toString()):
this.getErrorMsgFromLastAccess().toString()));this.hasAuthToken()&&a.push(zf+(y(this.getAuthToken())?C(this.getAuthToken().toString()):this.getAuthToken().toString()));this.hasMarkForDelete()&&a.push(ul+(y(this.getMarkForDelete())?C(this.getMarkForDelete().toString()):this.getMarkForDelete().toString()));if(this.has(7)){for(var b=[],d=0;d<this.getTokenCapabilityLength();++d){var e=this.getTokenCapability(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(kp+b.join(h)+n)}this.hasApplicationId()&&
a.push(pf+(y(this.getApplicationId())?C(this.getApplicationId().toString()):this.getApplicationId().toString()));if(this.has(10)){b=[];for(d=0;d<this.getGaiaServiceIdLength();++d)e=this.getGaiaServiceId(d),null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c);a.push(Yj+b.join(h)+n)}return t+a.join(h)+v};w.getId=function(){return this.get(1,id)};w.hasId=function(){return this.has(1)};w.getLastUsedTimeUsec=function(){return this.get(2,id)};w.hasLastUsedTimeUsec=function(){return this.has(2)};
w.getTotalUsedCount=function(){return this.get(3,0)};w.hasTotalUsedCount=function(){return this.has(3)};w.getErrorMsgFromLastAccess=function(){return this.get(4,c)};w.hasErrorMsgFromLastAccess=function(){return this.has(4)};w.getAuthToken=function(){return this.get$Proto(5,QS)};w.hasAuthToken=function(){return this.has$Proto(5)};w.getMarkForDelete=function(){return this.get(6,!1)};w.hasMarkForDelete=function(){return this.has(6)};
w.getTokenCapability=function(a){return this.get$RepeatedProto(7,a,OS)};w.getTokenCapabilityLength=function(){return this.get$RepeatedProtoLength(7)};w.getApplicationId=function(){return this.get$Proto(9,PS)};w.hasApplicationId=function(){return this.has$Proto(9)};w.getGaiaServiceId=function(a){return this.get$Repeated(10,a,0)};w.getGaiaServiceIdLength=function(){return this.get$RepeatedLength(10)};var SS=function(a){Z.call(this,a)};B(SS,Z);w=SS.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasStandardTag()&&a.push(so+(y(this.getStandardTag())?C(this.getStandardTag().toString()):this.getStandardTag().toString()));this.hasCustomTag()&&a.push(pi+(y(this.getCustomTag())?C(this.getCustomTag().toString()):this.getCustomTag().toString()));this.hasValue()&&a.push(Gp+(y(this.getValue())?C(this.getValue().toString()):this.getValue().toString()));
return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};w.getStandardTag=function(){return this.get(2,1)};w.hasStandardTag=function(){return this.has(2)};w.getCustomTag=function(){return this.get(3,c)};w.hasCustomTag=function(){return this.has(3)};w.getValue=function(){return this.get(4,c)};w.hasValue=function(){return this.has(4)};var TS=function(a){Z.call(this,a)};B(TS,Z);w=TS.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));if(this.has(2)){for(var b=[],d=0;d<this.getFieldLength();++d){var e=this.getField(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(Kj+b.join(h)+n)}return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,gS)};w.hasMetaData=function(){return this.has$Proto(1)};w.hasField=function(a){return this.has$RepeatedProto(2,a)};
w.getField=function(a){return this.get$RepeatedProto(2,a,SS)};w.getFieldLength=function(){return this.get$RepeatedProtoLength(2)};var US=function(a){Z.call(this,a)};B(US,Z);w=US.prototype;w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasFlag()&&a.push(Oj+(y(this.getFlag())?C(this.getFlag().toString()):this.getFlag().toString()));return t+a.join(h)+v};
w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};w.getFlag=function(){return this.get(2,0)};w.hasFlag=function(){return this.has(2)};var VS=function(a){Z.call(this,a)};B(VS,Z);w=VS.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));if(this.has(2)){for(var b=[],d=0;d<this.getFieldLength();++d){var e=this.getField(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(Kj+b.join(h)+n)}return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,gS)};w.hasMetaData=function(){return this.has$Proto(1)};w.hasField=function(a){return this.has$RepeatedProto(2,a)};
w.getField=function(a){return this.get$RepeatedProto(2,a,US)};w.getFieldLength=function(){return this.get$RepeatedProtoLength(2)};var WS=function(a){Z.call(this,a)};B(WS,Z);w=WS.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasStandardTag()&&a.push(so+(y(this.getStandardTag())?C(this.getStandardTag().toString()):this.getStandardTag().toString()));this.hasCustomTag()&&a.push(pi+(y(this.getCustomTag())?C(this.getCustomTag().toString()):this.getCustomTag().toString()));this.hasValue()&&a.push(Gp+(y(this.getValue())?C(this.getValue().toString()):this.getValue().toString()));
return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};w.getStandardTag=function(){return this.get(2,1)};w.hasStandardTag=function(){return this.has(2)};w.getCustomTag=function(){return this.get(3,c)};w.hasCustomTag=function(){return this.has(3)};w.getValue=function(){return this.get(4,c)};w.hasValue=function(){return this.has(4)};var XS=function(a){Z.call(this,a)};B(XS,Z);w=XS.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));if(this.has(2)){for(var b=[],d=0;d<this.getFieldLength();++d){var e=this.getField(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(Kj+b.join(h)+n)}return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,gS)};w.hasMetaData=function(){return this.has$Proto(1)};w.hasField=function(a){return this.has$RepeatedProto(2,a)};
w.getField=function(a){return this.get$RepeatedProto(2,a,WS)};w.getFieldLength=function(){return this.get$RepeatedProtoLength(2)};var gS=function(a){Z.call(this,a)};B(gS,Z);gS.prototype.toString=function(){return YC};var dS=function(a){Z.call(this,a)};B(dS,Z);w=dS.prototype;
w.toString=function(){var a=[];this.hasEvergreen()&&a.push(hj+(y(this.getEvergreen())?C(this.getEvergreen().toString()):this.getEvergreen().toString()));if(this.has(3)){for(var b=[],d=0;d<this.getVerificationLength();++d){var e=this.getVerification(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(Mp+b.join(h)+n)}this.hasPreferred()&&a.push(Xm+(y(this.getPreferred())?C(this.getPreferred().toString()):this.getPreferred().toString()));this.hasInboundCount()&&a.push(Fk+(y(this.getInboundCount())?
C(this.getInboundCount().toString()):this.getInboundCount().toString()));this.hasOutboundCount()&&a.push(nm+(y(this.getOutboundCount())?C(this.getOutboundCount().toString()):this.getOutboundCount().toString()));this.hasLastOutboundIncrementTime()&&a.push(Yk+(y(this.getLastOutboundIncrementTime())?C(this.getLastOutboundIncrementTime().toString()):this.getLastOutboundIncrementTime().toString()));this.hasInteractionsRank()&&a.push(Hk+(y(this.getInteractionsRank())?C(this.getInteractionsRank().toString()):
this.getInteractionsRank().toString()));this.hasPersonalInteractionsRank()&&a.push(Km+(y(this.getPersonalInteractionsRank())?C(this.getPersonalInteractionsRank().toString()):this.getPersonalInteractionsRank().toString()));if(this.has(11)){b=[];for(d=0;d<this.getSourceLength();++d)e=this.getSource(d),null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c);a.push(jo+b.join(h)+n)}this.hasDefaultAcl()&&a.push(wi+(y(this.getDefaultAcl())?C(this.getDefaultAcl().toString()):this.getDefaultAcl().toString()));
if(this.has(14)){b=[];for(d=0;d<this.getCauseLength();++d)e=this.getCause(d),null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c);a.push(Ih+b.join(h)+n)}return t+a.join(h)+v};w.getEvergreen=function(){return this.get(2,!1)};w.hasEvergreen=function(){return this.has(2)};w.hasVerification=function(a){return this.has$RepeatedProto(3,a)};w.getVerification=function(a){return this.get$RepeatedProto(3,a,YS)};w.getVerificationLength=function(){return this.get$RepeatedProtoLength(3)};
w.getPreferred=function(){return this.get(4,!1)};w.hasPreferred=function(){return this.has(4)};w.getInboundCount=function(){return this.get(6,0)};w.hasInboundCount=function(){return this.has(6)};w.getOutboundCount=function(){return this.get(7,0)};w.hasOutboundCount=function(){return this.has(7)};w.getLastOutboundIncrementTime=function(){return this.get(8,id)};w.hasLastOutboundIncrementTime=function(){return this.has(8)};w.getInteractionsRank=function(){return this.get(9,id)};
w.hasInteractionsRank=function(){return this.has(9)};w.getPersonalInteractionsRank=function(){return this.get(10,id)};w.hasPersonalInteractionsRank=function(){return this.has(10)};w.hasSource=function(a){return this.has$RepeatedProto(11,a)};w.getSource=function(a){return this.get$RepeatedProto(11,a,ZS)};w.getSourceLength=function(){return this.get$RepeatedProtoLength(11)};w.getDefaultAcl=function(){return this.get(12,!1)};w.hasDefaultAcl=function(){return this.has(12)};
w.getCause=function(a){return this.get$Repeated(14,a,0)};w.getCauseLength=function(){return this.get$RepeatedLength(14)};var $S=function(a){Z.call(this,a)};B($S,Z);w=$S.prototype;w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasCustomValue()&&a.push(ri+(y(this.getCustomValue())?C(this.getCustomValue().toString()):this.getCustomValue().toString()));return t+a.join(h)+v};
w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};w.getCustomValue=function(){return this.get(2,c)};w.hasCustomValue=function(){return this.has(2)};var aT=function(a){Z.call(this,a)};B(aT,Z);w=aT.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasField()&&a.push(Jj+(y(this.getField())?C(this.getField().toString()):this.getField().toString()));return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,gS)};w.hasMetaData=function(){return this.has$Proto(1)};w.getField=function(){return this.get$Proto(2,$S)};w.hasField=function(){return this.has$Proto(2)};
var bT=function(a){Z.call(this,a)};B(bT,Z);w=bT.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasStandardGender()&&a.push(qo+(y(this.getStandardGender())?C(this.getStandardGender().toString()):this.getStandardGender().toString()));this.hasCustomGender()&&a.push(ki+(y(this.getCustomGender())?C(this.getCustomGender().toString()):this.getCustomGender().toString()));return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,dS)};
w.hasMetaData=function(){return this.has$Proto(1)};w.getStandardGender=function(){return this.get(6,0)};w.hasStandardGender=function(){return this.has(6)};w.getCustomGender=function(){return this.get(7,c)};w.hasCustomGender=function(){return this.has(7)};var cT=function(a){Z.call(this,a)};B(cT,Z);w=cT.prototype;
w.toString=function(){var a=[];this.hasGmailMessageCount()&&a.push(ck+(y(this.getGmailMessageCount())?C(this.getGmailMessageCount().toString()):this.getGmailMessageCount().toString()));this.hasGmailLastSent()&&a.push(bk+(y(this.getGmailLastSent())?C(this.getGmailLastSent().toString()):this.getGmailLastSent().toString()));this.hasInteractionsRank()&&a.push(Hk+(y(this.getInteractionsRank())?C(this.getInteractionsRank().toString()):this.getInteractionsRank().toString()));return t+a.join(h)+v};
w.getGmailMessageCount=function(){return this.get(1,0)};w.hasGmailMessageCount=function(){return this.has(1)};w.getGmailLastSent=function(){return this.get(2,id)};w.hasGmailLastSent=function(){return this.has(2)};w.getInteractionsRank=function(){return this.get(3,id)};w.hasInteractionsRank=function(){return this.has(3)};var dT=function(a){Z.call(this,a)};B(dT,Z);w=dT.prototype;
w.toString=function(){var a=[];this.hasAttributeKey()&&a.push(yf+(y(this.getAttributeKey())?C(this.getAttributeKey().toString()):this.getAttributeKey().toString()));this.hasValue()&&a.push(Gp+(y(this.getValue())?C(this.getValue().toString()):this.getValue().toString()));this.hasMarkForDelete()&&a.push(ul+(y(this.getMarkForDelete())?C(this.getMarkForDelete().toString()):this.getMarkForDelete().toString()));return t+a.join(h)+v};w.getAttributeKey=function(){return this.get(1,0)};w.hasAttributeKey=function(){return this.has(1)};
w.getValue=function(){return this.get(2,c)};w.hasValue=function(){return this.has(2)};w.getMarkForDelete=function(){return this.get(3,!1)};w.hasMarkForDelete=function(){return this.has(3)};var eT=function(a){Z.call(this,a)};B(eT,Z);w=eT.prototype;
w.toString=function(){var a=[];this.hasId()&&a.push(xk+(y(this.getId())?C(this.getId().toString()):this.getId().toString()));if(this.has(3)){for(var b=[],d=0;d<this.getAttributeLength();++d){var e=this.getAttribute(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(xf+b.join(h)+n)}this.hasMemberCount()&&a.push(vl+(y(this.getMemberCount())?C(this.getMemberCount().toString()):this.getMemberCount().toString()));this.hasAffinity()&&a.push(lf+(y(this.getAffinity())?C(this.getAffinity().toString()):
this.getAffinity().toString()));this.hasLastUpdateTime()&&a.push(Zk+(y(this.getLastUpdateTime())?C(this.getLastUpdateTime().toString()):this.getLastUpdateTime().toString()));this.hasDeleted()&&a.push(zi+(y(this.getDeleted())?C(this.getDeleted().toString()):this.getDeleted().toString()));this.hasImplicit()&&a.push(Bk+(y(this.getImplicit())?C(this.getImplicit().toString()):this.getImplicit().toString()));this.hasName()&&a.push(Pl+(y(this.getName())?C(this.getName().toString()):this.getName().toString()));
this.hasLinkedExternalSite()&&a.push(el+(y(this.getLinkedExternalSite())?C(this.getLinkedExternalSite().toString()):this.getLinkedExternalSite().toString()));this.hasCircleMode()&&a.push(Nh+(y(this.getCircleMode())?C(this.getCircleMode().toString()):this.getCircleMode().toString()));this.hasSelectedForChat()&&a.push(Qn+(y(this.getSelectedForChat())?C(this.getSelectedForChat().toString()):this.getSelectedForChat().toString()));this.hasProfile()&&a.push(cn+(y(this.getProfile())?C(this.getProfile().toString()):
this.getProfile().toString()));this.hascategory()&&a.push(Zr+(y(this.getcategory())?C(this.getcategory().toString()):this.getcategory().toString()));this.hasSyntheticGroupId()&&a.push(Io+(y(this.getSyntheticGroupId())?C(this.getSyntheticGroupId().toString()):this.getSyntheticGroupId().toString()));return t+a.join(h)+v};w.getId=function(){return this.get(2,id)};w.hasId=function(){return this.has(2)};w.getAttribute=function(a){return this.get$RepeatedProto(3,a,dT)};w.getAttributeLength=function(){return this.get$RepeatedProtoLength(3)};
w.getMemberCount=function(){return this.get(7,0)};w.hasMemberCount=function(){return this.has(7)};w.getAffinity=function(){return this.get$Proto(8,cT)};w.hasAffinity=function(){return this.has$Proto(8)};w.getLastUpdateTime=function(){return this.get(9,id)};w.hasLastUpdateTime=function(){return this.has(9)};w.getDeleted=function(){return this.get(10,!1)};w.hasDeleted=function(){return this.has(10)};w.getImplicit=function(){return this.get(11,!1)};w.hasImplicit=function(){return this.has(11)};
w.getName=function(){return this.get(12,c)};w.hasName=function(){return this.has(12)};w.getLinkedExternalSite=function(){return this.get$Proto(13,fT)};w.hasLinkedExternalSite=function(){return this.has$Proto(13)};w.getCircleMode=function(){return this.get(14,0)};w.hasCircleMode=function(){return this.has(14)};w.getSelectedForChat=function(){return this.get(15,!1)};w.hasSelectedForChat=function(){return this.has(15)};w.getProfile=function(){return this.get$Proto(16,wS)};w.hasProfile=function(){return this.has$Proto(16)};
w.getcategory=function(){return this.get(19,0)};w.hascategory=function(){return this.has(19)};w.getSyntheticGroupId=function(){return this.get(20,c)};w.hasSyntheticGroupId=function(){return this.has(20)};var gT=function(a){Z.call(this,a)};B(gT,Z);w=gT.prototype;
w.toString=function(){var a=[];this.hasVanityQueryCount()&&a.push(Hp+(y(this.getVanityQueryCount())?C(this.getVanityQueryCount().toString()):this.getVanityQueryCount().toString()));this.hasVanityQueryCountNoProfile()&&a.push(Ip+(y(this.getVanityQueryCountNoProfile())?C(this.getVanityQueryCountNoProfile().toString()):this.getVanityQueryCountNoProfile().toString()));this.hasVanityQueryLastExperimentId()&&a.push(Jp+(y(this.getVanityQueryLastExperimentId())?C(this.getVanityQueryLastExperimentId().toString()):
this.getVanityQueryLastExperimentId().toString()));this.hasVanityQueryLastTimeUsec()&&a.push(Kp+(y(this.getVanityQueryLastTimeUsec())?C(this.getVanityQueryLastTimeUsec().toString()):this.getVanityQueryLastTimeUsec().toString()));return t+a.join(h)+v};w.getVanityQueryCount=function(){return this.get(3,0)};w.hasVanityQueryCount=function(){return this.has(3)};w.getVanityQueryCountNoProfile=function(){return this.get(4,0)};w.hasVanityQueryCountNoProfile=function(){return this.has(4)};
w.getVanityQueryLastExperimentId=function(){return this.get(5,0)};w.hasVanityQueryLastExperimentId=function(){return this.has(5)};w.getVanityQueryLastTimeUsec=function(){return this.get(6,id)};w.hasVanityQueryLastTimeUsec=function(){return this.has(6)};var hT=function(a){Z.call(this,a)};B(hT,Z);w=hT.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasStandardType()&&a.push(to+(y(this.getStandardType())?C(this.getStandardType().toString()):this.getStandardType().toString()));this.hasCustomType()&&a.push(qi+(y(this.getCustomType())?C(this.getCustomType().toString()):this.getCustomType().toString()));this.hasValue()&&a.push(Gp+(y(this.getValue())?C(this.getValue().toString()):this.getValue().toString()));
this.hasStandardProtocol()&&a.push(ro+(y(this.getStandardProtocol())?C(this.getStandardProtocol().toString()):this.getStandardProtocol().toString()));this.hasCustomProtocol()&&a.push(li+(y(this.getCustomProtocol())?C(this.getCustomProtocol().toString()):this.getCustomProtocol().toString()));this.hasPrimary()&&a.push(bn+(y(this.getPrimary())?C(this.getPrimary().toString()):this.getPrimary().toString()));return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};
w.getStandardType=function(){return this.get(2,1)};w.hasStandardType=function(){return this.has(2)};w.getCustomType=function(){return this.get(3,c)};w.hasCustomType=function(){return this.has(3)};w.getValue=function(){return this.get(4,c)};w.hasValue=function(){return this.has(4)};w.getStandardProtocol=function(){return this.get(5,1)};w.hasStandardProtocol=function(){return this.has(5)};w.getCustomProtocol=function(){return this.get(6,c)};w.hasCustomProtocol=function(){return this.has(6)};
w.getPrimary=function(){return this.get(7,!1)};w.hasPrimary=function(){return this.has(7)};var iT=function(a){Z.call(this,a)};B(iT,Z);w=iT.prototype;w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));if(this.has(2)){for(var b=[],d=0;d<this.getFieldLength();++d){var e=this.getField(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(Kj+b.join(h)+n)}return t+a.join(h)+v};
w.getMetaData=function(){return this.get$Proto(1,gS)};w.hasMetaData=function(){return this.has$Proto(1)};w.hasField=function(a){return this.has$RepeatedProto(2,a)};w.getField=function(a){return this.get$RepeatedProto(2,a,hT)};w.getFieldLength=function(){return this.get$RepeatedProtoLength(2)};var jT=function(a){Z.call(this,a)};B(jT,Z);w=jT.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasStandardTag()&&a.push(so+(y(this.getStandardTag())?C(this.getStandardTag().toString()):this.getStandardTag().toString()));this.hasCustomTag()&&a.push(pi+(y(this.getCustomTag())?C(this.getCustomTag().toString()):this.getCustomTag().toString()));this.hasValue()&&a.push(Gp+(y(this.getValue())?C(this.getValue().toString()):this.getValue().toString()));
return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};w.getStandardTag=function(){return this.get(2,0)};w.hasStandardTag=function(){return this.has(2)};w.getCustomTag=function(){return this.get(3,c)};w.hasCustomTag=function(){return this.has(3)};w.getValue=function(){return this.get(4,c)};w.hasValue=function(){return this.has(4)};var kT=function(a){Z.call(this,a)};B(kT,Z);w=kT.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));if(this.has(2)){for(var b=[],d=0;d<this.getFieldLength();++d){var e=this.getField(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(Kj+b.join(h)+n)}return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,gS)};w.hasMetaData=function(){return this.has$Proto(1)};w.hasField=function(a){return this.has$RepeatedProto(2,a)};
w.getField=function(a){return this.get$RepeatedProto(2,a,jT)};w.getFieldLength=function(){return this.get$RepeatedProtoLength(2)};var lT=function(a){Z.call(this,a)};B(lT,Z);w=lT.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasLanguageCode()&&a.push(Xk+(y(this.getLanguageCode())?C(this.getLanguageCode().toString()):this.getLanguageCode().toString()));this.hasValue()&&a.push(Gp+(y(this.getValue())?C(this.getValue().toString()):this.getValue().toString()));return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};
w.getLanguageCode=function(){return this.get(2,c)};w.hasLanguageCode=function(){return this.has(2)};w.getValue=function(){return this.get(3,c)};w.hasValue=function(){return this.has(3)};var mT=function(a){Z.call(this,a)};B(mT,Z);w=mT.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));if(this.has(2)){for(var b=[],d=0;d<this.getFieldLength();++d){var e=this.getField(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(Kj+b.join(h)+n)}return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,gS)};w.hasMetaData=function(){return this.has$Proto(1)};w.hasField=function(a){return this.has$RepeatedProto(2,a)};
w.getField=function(a){return this.get$RepeatedProto(2,a,lT)};w.getFieldLength=function(){return this.get$RepeatedProtoLength(2)};var nT=function(a){Z.call(this,a)};B(nT,Z);nT.prototype.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));return t+a.join(h)+v};nT.prototype.getMetaData=function(){return this.get$Proto(1,dS)};nT.prototype.hasMetaData=function(){return this.has$Proto(1)};
var oT=function(a){Z.call(this,a)};B(oT,Z);w=oT.prototype;w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));if(this.has(2)){for(var b=[],d=0;d<this.getFieldLength();++d){var e=this.getField(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(Kj+b.join(h)+n)}return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,gS)};w.hasMetaData=function(){return this.has$Proto(1)};
w.hasField=function(a){return this.has$RepeatedProto(2,a)};w.getField=function(a){return this.get$RepeatedProto(2,a,nT)};w.getFieldLength=function(){return this.get$RepeatedProtoLength(2)};var pT=function(a){Z.call(this,a)};B(pT,Z);w=pT.prototype;
w.toString=function(){var a=[];this.hasId()&&a.push(xk+(y(this.getId())?C(this.getId().toString()):this.getId().toString()));this.hasCustomSiteUrl()&&a.push(mi+(y(this.getCustomSiteUrl())?C(this.getCustomSiteUrl().toString()):this.getCustomSiteUrl().toString()));this.hasSgnNode()&&a.push(Wn+(y(this.getSgnNode())?C(this.getSgnNode().toString()):this.getSgnNode().toString()));this.hasFullName()&&a.push(Sj+(y(this.getFullName())?C(this.getFullName().toString()):this.getFullName().toString()));return t+
a.join(h)+v};w.getId=function(){return this.get(1,0)};w.hasId=function(){return this.has(1)};w.getCustomSiteUrl=function(){return this.get(2,c)};w.hasCustomSiteUrl=function(){return this.has(2)};w.getSgnNode=function(){return this.get$Proto(4,qT)};w.hasSgnNode=function(){return this.has$Proto(4)};w.getFullName=function(){return this.get(5,c)};w.hasFullName=function(){return this.has(5)};var fT=function(a){Z.call(this,a)};B(fT,Z);w=fT.prototype;
w.toString=function(){var a=[];this.hasType()&&a.push(rp+(y(this.getType())?C(this.getType().toString()):this.getType().toString()));if(this.has(2)){for(var b=[],d=0;d<this.getExternalAuthTokenLength();++d){var e=this.getExternalAuthToken(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(yj+b.join(h)+n)}this.hasVerification()&&a.push(Lp+(y(this.getVerification())?C(this.getVerification().toString()):this.getVerification().toString()));return t+a.join(h)+v};
w.getType=function(){return this.get$Proto(1,pT)};w.hasType=function(){return this.has$Proto(1)};w.getExternalAuthToken=function(a){return this.get$RepeatedProto(2,a,RS)};w.getExternalAuthTokenLength=function(){return this.get$RepeatedProtoLength(2)};w.getVerification=function(){return this.get$Proto(3,YS)};w.hasVerification=function(){return this.has$Proto(3)};var rT=function(a){Z.call(this,a)};B(rT,Z);rT.prototype.toString=function(){return YC};var sT=function(a){Z.call(this,a)};B(sT,Z);w=sT.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasStandardTag()&&a.push(so+(y(this.getStandardTag())?C(this.getStandardTag().toString()):this.getStandardTag().toString()));this.hasCustomTag()&&a.push(pi+(y(this.getCustomTag())?C(this.getCustomTag().toString()):this.getCustomTag().toString()));this.hasValue()&&a.push(Gp+(y(this.getValue())?C(this.getValue().toString()):this.getValue().toString()));
this.hasDateInfo()&&a.push(ui+(y(this.getDateInfo())?C(this.getDateInfo().toString()):this.getDateInfo().toString()));if(this.has(7)){for(var b=[],d=0;d<this.getPointSpecLength();++d){var e=this.getPointSpec(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(Rm+b.join(h)+n)}return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};w.getStandardTag=function(){return this.get(2,1)};w.hasStandardTag=function(){return this.has(2)};
w.getCustomTag=function(){return this.get(3,c)};w.hasCustomTag=function(){return this.has(3)};w.getValue=function(){return this.get(4,c)};w.hasValue=function(){return this.has(4)};w.getDateInfo=function(){return this.get$Proto(5,FS)};w.hasDateInfo=function(){return this.has$Proto(5)};w.getPointSpec=function(a){return this.get$RepeatedProto(7,a,rT)};w.getPointSpecLength=function(){return this.get$RepeatedProtoLength(7)};var tT=function(a){Z.call(this,a)};B(tT,Z);w=tT.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));if(this.has(2)){for(var b=[],d=0;d<this.getFieldLength();++d){var e=this.getField(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(Kj+b.join(h)+n)}return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,gS)};w.hasMetaData=function(){return this.has$Proto(1)};w.hasField=function(a){return this.has$RepeatedProto(2,a)};
w.getField=function(a){return this.get$RepeatedProto(2,a,sT)};w.getFieldLength=function(){return this.get$RepeatedProtoLength(2)};var uT=function(a){Z.call(this,a)};B(uT,Z);w=uT.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasValue()&&a.push(Gp+(y(this.getValue())?C(this.getValue().toString()):this.getValue().toString()));this.hasFamilyName()&&a.push(Gj+(y(this.getFamilyName())?C(this.getFamilyName().toString()):this.getFamilyName().toString()));this.hasGivenName()&&a.push(ak+(y(this.getGivenName())?C(this.getGivenName().toString()):this.getGivenName().toString()));
this.hasAdditionalName()&&a.push(gf+(y(this.getAdditionalName())?C(this.getAdditionalName().toString()):this.getAdditionalName().toString()));this.hasHonorificPrefix()&&a.push(qk+(y(this.getHonorificPrefix())?C(this.getHonorificPrefix().toString()):this.getHonorificPrefix().toString()));this.hasHonorificSuffix()&&a.push(rk+(y(this.getHonorificSuffix())?C(this.getHonorificSuffix().toString()):this.getHonorificSuffix().toString()));this.hasSourceIsStructured()&&a.push(lo+(y(this.getSourceIsStructured())?
C(this.getSourceIsStructured().toString()):this.getSourceIsStructured().toString()));this.hasYomiValue()&&a.push(dq+(y(this.getYomiValue())?C(this.getYomiValue().toString()):this.getYomiValue().toString()));this.hasYomiFamilyName()&&a.push(Zp+(y(this.getYomiFamilyName())?C(this.getYomiFamilyName().toString()):this.getYomiFamilyName().toString()));this.hasYomiGivenName()&&a.push($p+(y(this.getYomiGivenName())?C(this.getYomiGivenName().toString()):this.getYomiGivenName().toString()));this.hasYomiAdditionalName()&&
a.push(Yp+(y(this.getYomiAdditionalName())?C(this.getYomiAdditionalName().toString()):this.getYomiAdditionalName().toString()));this.hasYomiHonorificPrefix()&&a.push(aq+(y(this.getYomiHonorificPrefix())?C(this.getYomiHonorificPrefix().toString()):this.getYomiHonorificPrefix().toString()));this.hasYomiHonorificSuffix()&&a.push(bq+(y(this.getYomiHonorificSuffix())?C(this.getYomiHonorificSuffix().toString()):this.getYomiHonorificSuffix().toString()));return t+a.join(h)+v};
w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};w.getValue=function(){return this.get(2,c)};w.hasValue=function(){return this.has(2)};w.getFamilyName=function(){return this.get(3,c)};w.hasFamilyName=function(){return this.has(3)};w.getGivenName=function(){return this.get(4,c)};w.hasGivenName=function(){return this.has(4)};w.getAdditionalName=function(){return this.get(5,c)};w.hasAdditionalName=function(){return this.has(5)};
w.getHonorificPrefix=function(){return this.get(6,c)};w.hasHonorificPrefix=function(){return this.has(6)};w.getHonorificSuffix=function(){return this.get(7,c)};w.hasHonorificSuffix=function(){return this.has(7)};w.getSourceIsStructured=function(){return this.get(8,!1)};w.hasSourceIsStructured=function(){return this.has(8)};w.getYomiValue=function(){return this.get(9,c)};w.hasYomiValue=function(){return this.has(9)};w.getYomiFamilyName=function(){return this.get(10,c)};w.hasYomiFamilyName=function(){return this.has(10)};
w.getYomiGivenName=function(){return this.get(11,c)};w.hasYomiGivenName=function(){return this.has(11)};w.getYomiAdditionalName=function(){return this.get(12,c)};w.hasYomiAdditionalName=function(){return this.has(12)};w.getYomiHonorificPrefix=function(){return this.get(13,c)};w.hasYomiHonorificPrefix=function(){return this.has(13)};w.getYomiHonorificSuffix=function(){return this.get(14,c)};w.hasYomiHonorificSuffix=function(){return this.has(14)};var vT=function(a){Z.call(this,a)};B(vT,Z);w=vT.prototype;
w.toString=function(){var a=[];this.hasField()&&a.push(Jj+(y(this.getField())?C(this.getField().toString()):this.getField().toString()));return t+a.join(h)+v};w.getField=function(){return this.get$Proto(2,uT)};w.hasField=function(){return this.has$Proto(2)};w.getMetaData=function(){return this.getField().getMetaData()};w.hasMetaData=function(){return this.getField().hasMetaData()};w.getValue=function(){return this.getField().getValue()};w.hasValue=function(){return this.getField().hasValue()};
w.getFamilyName=function(){return this.getField().getFamilyName()};w.hasFamilyName=function(){return this.getField().hasFamilyName()};w.getGivenName=function(){return this.getField().getGivenName()};w.hasGivenName=function(){return this.getField().hasGivenName()};w.getAdditionalName=function(){return this.getField().getAdditionalName()};w.hasAdditionalName=function(){return this.getField().hasAdditionalName()};w.getHonorificPrefix=function(){return this.getField().getHonorificPrefix()};
w.hasHonorificPrefix=function(){return this.getField().hasHonorificPrefix()};w.getHonorificSuffix=function(){return this.getField().getHonorificSuffix()};w.hasHonorificSuffix=function(){return this.getField().hasHonorificSuffix()};w.getSourceIsStructured=function(){return this.getField().getSourceIsStructured()};w.hasSourceIsStructured=function(){return this.getField().hasSourceIsStructured()};w.getYomiValue=function(){return this.getField().getYomiValue()};w.hasYomiValue=function(){return this.getField().hasYomiValue()};
w.getYomiFamilyName=function(){return this.getField().getYomiFamilyName()};w.hasYomiFamilyName=function(){return this.getField().hasYomiFamilyName()};w.getYomiGivenName=function(){return this.getField().getYomiGivenName()};w.hasYomiGivenName=function(){return this.getField().hasYomiGivenName()};w.getYomiAdditionalName=function(){return this.getField().getYomiAdditionalName()};w.hasYomiAdditionalName=function(){return this.getField().hasYomiAdditionalName()};w.getYomiHonorificPrefix=function(){return this.getField().getYomiHonorificPrefix()};
w.hasYomiHonorificPrefix=function(){return this.getField().hasYomiHonorificPrefix()};w.getYomiHonorificSuffix=function(){return this.getField().getYomiHonorificSuffix()};w.hasYomiHonorificSuffix=function(){return this.getField().hasYomiHonorificSuffix()};var wT=function(a){Z.call(this,a)};B(wT,Z);w=wT.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasValue()&&a.push(Gp+(y(this.getValue())?C(this.getValue().toString()):this.getValue().toString()));this.hasFamilyName()&&a.push(Gj+(y(this.getFamilyName())?C(this.getFamilyName().toString()):this.getFamilyName().toString()));this.hasGivenName()&&a.push(ak+(y(this.getGivenName())?C(this.getGivenName().toString()):this.getGivenName().toString()));
this.hasAdditionalName()&&a.push(gf+(y(this.getAdditionalName())?C(this.getAdditionalName().toString()):this.getAdditionalName().toString()));this.hasHonorificPrefix()&&a.push(qk+(y(this.getHonorificPrefix())?C(this.getHonorificPrefix().toString()):this.getHonorificPrefix().toString()));this.hasHonorificSuffix()&&a.push(rk+(y(this.getHonorificSuffix())?C(this.getHonorificSuffix().toString()):this.getHonorificSuffix().toString()));this.hasSourceIsStructured()&&a.push(lo+(y(this.getSourceIsStructured())?
C(this.getSourceIsStructured().toString()):this.getSourceIsStructured().toString()));this.hasYomiValue()&&a.push(dq+(y(this.getYomiValue())?C(this.getYomiValue().toString()):this.getYomiValue().toString()));this.hasYomiFamilyName()&&a.push(Zp+(y(this.getYomiFamilyName())?C(this.getYomiFamilyName().toString()):this.getYomiFamilyName().toString()));this.hasYomiGivenName()&&a.push($p+(y(this.getYomiGivenName())?C(this.getYomiGivenName().toString()):this.getYomiGivenName().toString()));this.hasYomiAdditionalName()&&
a.push(Yp+(y(this.getYomiAdditionalName())?C(this.getYomiAdditionalName().toString()):this.getYomiAdditionalName().toString()));this.hasYomiHonorificPrefix()&&a.push(aq+(y(this.getYomiHonorificPrefix())?C(this.getYomiHonorificPrefix().toString()):this.getYomiHonorificPrefix().toString()));this.hasYomiHonorificSuffix()&&a.push(bq+(y(this.getYomiHonorificSuffix())?C(this.getYomiHonorificSuffix().toString()):this.getYomiHonorificSuffix().toString()));return t+a.join(h)+v};
w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};w.getValue=function(){return this.get(2,c)};w.hasValue=function(){return this.has(2)};w.getFamilyName=function(){return this.get(3,c)};w.hasFamilyName=function(){return this.has(3)};w.getGivenName=function(){return this.get(4,c)};w.hasGivenName=function(){return this.has(4)};w.getAdditionalName=function(){return this.get(5,c)};w.hasAdditionalName=function(){return this.has(5)};
w.getHonorificPrefix=function(){return this.get(6,c)};w.hasHonorificPrefix=function(){return this.has(6)};w.getHonorificSuffix=function(){return this.get(7,c)};w.hasHonorificSuffix=function(){return this.has(7)};w.getSourceIsStructured=function(){return this.get(8,!1)};w.hasSourceIsStructured=function(){return this.has(8)};w.getYomiValue=function(){return this.get(9,c)};w.hasYomiValue=function(){return this.has(9)};w.getYomiFamilyName=function(){return this.get(10,c)};w.hasYomiFamilyName=function(){return this.has(10)};
w.getYomiGivenName=function(){return this.get(11,c)};w.hasYomiGivenName=function(){return this.has(11)};w.getYomiAdditionalName=function(){return this.get(12,c)};w.hasYomiAdditionalName=function(){return this.has(12)};w.getYomiHonorificPrefix=function(){return this.get(13,c)};w.hasYomiHonorificPrefix=function(){return this.has(13)};w.getYomiHonorificSuffix=function(){return this.get(14,c)};w.hasYomiHonorificSuffix=function(){return this.has(14)};var xT=function(a){Z.call(this,a)};B(xT,Z);w=xT.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));if(this.has(2)){for(var b=[],d=0;d<this.getFieldLength();++d){var e=this.getField(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(Kj+b.join(h)+n)}return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,gS)};w.hasMetaData=function(){return this.has$Proto(1)};w.hasField=function(a){return this.has$RepeatedProto(2,a)};
w.getField=function(a){return this.get$RepeatedProto(2,a,wT)};w.getFieldLength=function(){return this.get$RepeatedProtoLength(2)};var yT=function(a){Z.call(this,a)};B(yT,Z);w=yT.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasStandardTag()&&a.push(so+(y(this.getStandardTag())?C(this.getStandardTag().toString()):this.getStandardTag().toString()));this.hasCustomTag()&&a.push(pi+(y(this.getCustomTag())?C(this.getCustomTag().toString()):this.getCustomTag().toString()));this.hasValue()&&a.push(Gp+(y(this.getValue())?C(this.getValue().toString()):this.getValue().toString()));
this.hasPrimary()&&a.push(bn+(y(this.getPrimary())?C(this.getPrimary().toString()):this.getPrimary().toString()));return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};w.getStandardTag=function(){return this.get(2,2)};w.hasStandardTag=function(){return this.has(2)};w.getCustomTag=function(){return this.get(3,c)};w.hasCustomTag=function(){return this.has(3)};w.getValue=function(){return this.get(4,c)};w.hasValue=function(){return this.has(4)};
w.getPrimary=function(){return this.get(5,!1)};w.hasPrimary=function(){return this.has(5)};var zT=function(a){Z.call(this,a)};B(zT,Z);w=zT.prototype;w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));if(this.has(2)){for(var b=[],d=0;d<this.getFieldLength();++d){var e=this.getField(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(Kj+b.join(h)+n)}return t+a.join(h)+v};
w.getMetaData=function(){return this.get$Proto(1,gS)};w.hasMetaData=function(){return this.has$Proto(1)};w.hasField=function(a){return this.has$RepeatedProto(2,a)};w.getField=function(a){return this.get$RepeatedProto(2,a,yT)};w.getFieldLength=function(){return this.get$RepeatedProtoLength(2)};var AT=function(a){Z.call(this,a)};B(AT,Z);w=AT.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasStandardTag()&&a.push(so+(y(this.getStandardTag())?C(this.getStandardTag().toString()):this.getStandardTag().toString()));this.hasCustomTag()&&a.push(pi+(y(this.getCustomTag())?C(this.getCustomTag().toString()):this.getCustomTag().toString()));this.hasName()&&a.push(Pl+(y(this.getName())?C(this.getName().toString()):this.getName().toString()));
this.hasTitle()&&a.push(jp+(y(this.getTitle())?C(this.getTitle().toString()):this.getTitle().toString()));this.hasPrimary()&&a.push(bn+(y(this.getPrimary())?C(this.getPrimary().toString()):this.getPrimary().toString()));this.hasOrganizationType()&&a.push(lm+(y(this.getOrganizationType())?C(this.getOrganizationType().toString()):this.getOrganizationType().toString()));this.hasDateInfo()&&a.push(ui+(y(this.getDateInfo())?C(this.getDateInfo().toString()):this.getDateInfo().toString()));this.hasDepartment()&&
a.push(Ai+(y(this.getDepartment())?C(this.getDepartment().toString()):this.getDepartment().toString()));this.hasSymbol()&&a.push(Go+(y(this.getSymbol())?C(this.getSymbol().toString()):this.getSymbol().toString()));this.hasYomiName()&&a.push(cq+(y(this.getYomiName())?C(this.getYomiName().toString()):this.getYomiName().toString()));this.hasLocation()&&a.push(jl+(y(this.getLocation())?C(this.getLocation().toString()):this.getLocation().toString()));this.hasDescription()&&a.push(Bi+(y(this.getDescription())?
C(this.getDescription().toString()):this.getDescription().toString()));this.hasDomain()&&a.push(Ii+(y(this.getDomain())?C(this.getDomain().toString()):this.getDomain().toString()));this.hasCanonicalEntityGraphId()&&a.push(Fh+(y(this.getCanonicalEntityGraphId())?C(this.getCanonicalEntityGraphId().toString()):this.getCanonicalEntityGraphId().toString()));this.hasCostCenter()&&a.push(ei+(y(this.getCostCenter())?C(this.getCostCenter().toString()):this.getCostCenter().toString()));return t+a.join(h)+v};
w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};w.getStandardTag=function(){return this.get(2,1)};w.hasStandardTag=function(){return this.has(2)};w.getCustomTag=function(){return this.get(3,c)};w.hasCustomTag=function(){return this.has(3)};w.getName=function(){return this.get(4,c)};w.hasName=function(){return this.has(4)};w.getTitle=function(){return this.get(5,c)};w.hasTitle=function(){return this.has(5)};
w.getPrimary=function(){return this.get(6,!1)};w.hasPrimary=function(){return this.has(6)};w.getOrganizationType=function(){return this.get(7,1)};w.hasOrganizationType=function(){return this.has(7)};w.getDateInfo=function(){return this.get$Proto(8,FS)};w.hasDateInfo=function(){return this.has$Proto(8)};w.getDepartment=function(){return this.get(9,c)};w.hasDepartment=function(){return this.has(9)};w.getSymbol=function(){return this.get(10,c)};w.hasSymbol=function(){return this.has(10)};
w.getYomiName=function(){return this.get(11,c)};w.hasYomiName=function(){return this.has(11)};w.getLocation=function(){return this.get(12,c)};w.hasLocation=function(){return this.has(12)};w.getDescription=function(){return this.get(13,c)};w.hasDescription=function(){return this.has(13)};w.getDomain=function(){return this.get(14,c)};w.hasDomain=function(){return this.has(14)};w.getCanonicalEntityGraphId=function(){return this.get(15,c)};w.hasCanonicalEntityGraphId=function(){return this.has(15)};
w.getCostCenter=function(){return this.get(16,c)};w.hasCostCenter=function(){return this.has(16)};var BT=function(a){Z.call(this,a)};B(BT,Z);w=BT.prototype;w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));if(this.has(2)){for(var b=[],d=0;d<this.getFieldLength();++d){var e=this.getField(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(Kj+b.join(h)+n)}return t+a.join(h)+v};
w.getMetaData=function(){return this.get$Proto(1,gS)};w.hasMetaData=function(){return this.has$Proto(1)};w.hasField=function(a){return this.has$RepeatedProto(2,a)};w.getField=function(a){return this.get$RepeatedProto(2,a,AT)};w.getFieldLength=function(){return this.get$RepeatedProtoLength(2)};var CT=function(a){Z.call(this,a)};B(CT,Z);w=CT.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasStandardTag()&&a.push(so+(y(this.getStandardTag())?C(this.getStandardTag().toString()):this.getStandardTag().toString()));this.hasCustomTag()&&a.push(pi+(y(this.getCustomTag())?C(this.getCustomTag().toString()):this.getCustomTag().toString()));this.hasValue()&&a.push(Gp+(y(this.getValue())?C(this.getValue().toString()):this.getValue().toString()));
return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};w.getStandardTag=function(){return this.get(2,1)};w.hasStandardTag=function(){return this.has(2)};w.getCustomTag=function(){return this.get(3,c)};w.hasCustomTag=function(){return this.has(3)};w.getValue=function(){return this.get(4,c)};w.hasValue=function(){return this.has(4)};var DT=function(a){Z.call(this,a)};B(DT,Z);w=DT.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));if(this.has(2)){for(var b=[],d=0;d<this.getFieldLength();++d){var e=this.getField(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(Kj+b.join(h)+n)}return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,gS)};w.hasMetaData=function(){return this.has$Proto(1)};w.hasField=function(a){return this.has$RepeatedProto(2,a)};
w.getField=function(a){return this.get$RepeatedProto(2,a,CT)};w.getFieldLength=function(){return this.get$RepeatedProtoLength(2)};var ET=function(a){Z.call(this,a)};B(ET,Z);w=ET.prototype;
w.toString=function(){var a=[];this.hasContact()&&a.push(Wh+(y(this.getContact())?C(this.getContact().toString()):this.getContact().toString()));this.hasComputedFields()&&a.push(Uh+(y(this.getComputedFields())?C(this.getComputedFields().toString()):this.getComputedFields().toString()));this.hasContactMetaData()&&a.push(Zh+(y(this.getContactMetaData())?C(this.getContactMetaData().toString()):this.getContactMetaData().toString()));return t+a.join(h)+v};
w.getContact=function(){return this.get$Proto(1,AS)};w.hasContact=function(){return this.has$Proto(1)};w.getId=function(){return this.getContact().getId()};w.hasId=function(){return this.getContact().hasId()};w.getAttribute=function(a){return this.getContact().getAttribute(a)};w.getAttributeLength=function(){return this.getContact().getAttributeLength()};w.getProfile=function(){return this.getContact().getProfile()};w.hasProfile=function(){return this.getContact().hasProfile()};w.getGroupInfo=function(a){return this.getContact().getGroupInfo(a)};
w.getGroupInfoLength=function(){return this.getContact().getGroupInfoLength()};w.getAffinity=function(){return this.getContact().getAffinity()};w.hasAffinity=function(){return this.getContact().hasAffinity()};w.getLastUpdateTime=function(){return this.getContact().getLastUpdateTime()};w.hasLastUpdateTime=function(){return this.getContact().hasLastUpdateTime()};w.getDeleted=function(){return this.getContact().getDeleted()};w.hasDeleted=function(){return this.getContact().hasDeleted()};
w.getImplicit=function(){return this.getContact().getImplicit()};w.hasImplicit=function(){return this.getContact().hasImplicit()};w.getImplicitGroupInfo=function(a){return this.getContact().getImplicitGroupInfo(a)};w.getImplicitGroupInfoLength=function(){return this.getContact().getImplicitGroupInfoLength()};w.getCalledCount=function(){return this.getContact().getCalledCount()};w.hasCalledCount=function(){return this.getContact().hasCalledCount()};w.getImportInfo=function(a){return this.getContact().getImportInfo(a)};
w.getImportInfoLength=function(){return this.getContact().getImportInfoLength()};w.getWantsToChat=function(){return this.getContact().getWantsToChat()};w.hasWantsToChat=function(){return this.getContact().hasWantsToChat()};w.getReadOnlyOutgoingEdge=function(a){return this.getContact().getReadOnlyOutgoingEdge(a)};w.getReadOnlyOutgoingEdgeLength=function(){return this.getContact().getReadOnlyOutgoingEdgeLength()};w.getPersonalInteractionsRank=function(){return this.getContact().getPersonalInteractionsRank()};
w.hasPersonalInteractionsRank=function(){return this.getContact().hasPersonalInteractionsRank()};w.getReadOnlySyntheticContact=function(){return this.getContact().getReadOnlySyntheticContact()};w.hasReadOnlySyntheticContact=function(){return this.getContact().hasReadOnlySyntheticContact()};w.getSyntheticContactId=function(){return this.getContact().getSyntheticContactId()};w.hasSyntheticContactId=function(){return this.getContact().hasSyntheticContactId()};
w.getComputedFields=function(){return this.get$Proto(2,pS)};w.hasComputedFields=function(){return this.has$Proto(2)};w.getContactMetaData=function(){return this.get$Proto(3,DS)};w.hasContactMetaData=function(){return this.has$Proto(3)};var FT=function(a){Z.call(this,a)};B(FT,Z);FT.prototype.toString=function(){var a=[];this.hasContactId()&&a.push(Xh+(y(this.getContactId())?C(this.getContactId().toString()):this.getContactId().toString()));return t+a.join(h)+v};
FT.prototype.getContactId=function(){return this.get(2,id)};FT.prototype.hasContactId=function(){return this.has(2)};var vS=function(a){Z.call(this,a)};B(vS,Z);w=vS.prototype;
w.toString=function(){var a=[];this.hasState()&&a.push(xo+(y(this.getState())?C(this.getState().toString()):this.getState().toString()));this.hasSharedContact()&&a.push(Zn+(y(this.getSharedContact())?C(this.getSharedContact().toString()):this.getSharedContact().toString()));this.hasUserKey()&&a.push(Cp+(y(this.getUserKey())?C(this.getUserKey().toString()):this.getUserKey().toString()));return t+a.join(h)+v};w.getState=function(){return this.get(2,0)};w.hasState=function(){return this.has(2)};
w.getSharedContact=function(){return this.get$Proto(3,FT)};w.hasSharedContact=function(){return this.has$Proto(3)};w.getUserKey=function(){return this.get$Proto(4,GT)};w.hasUserKey=function(){return this.has$Proto(4)};var HT=function(a){Z.call(this,a)};B(HT,Z);w=HT.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasStandardTag()&&a.push(so+(y(this.getStandardTag())?C(this.getStandardTag().toString()):this.getStandardTag().toString()));this.hasCustomTag()&&a.push(pi+(y(this.getCustomTag())?C(this.getCustomTag().toString()):this.getCustomTag().toString()));this.hasValue()&&a.push(Gp+(y(this.getValue())?C(this.getValue().toString()):this.getValue().toString()));
this.hasSourceIsStructured()&&a.push(lo+(y(this.getSourceIsStructured())?C(this.getSourceIsStructured().toString()):this.getSourceIsStructured().toString()));this.hasPhoneType()&&a.push(Mm+(y(this.getPhoneType())?C(this.getPhoneType().toString()):this.getPhoneType().toString()));this.hasPrimary()&&a.push(bn+(y(this.getPrimary())?C(this.getPrimary().toString()):this.getPrimary().toString()));this.hasCanonicalizedForm()&&a.push(Gh+(y(this.getCanonicalizedForm())?C(this.getCanonicalizedForm().toString()):
this.getCanonicalizedForm().toString()));return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};w.getStandardTag=function(){return this.get(2,1)};w.hasStandardTag=function(){return this.has(2)};w.getCustomTag=function(){return this.get(3,c)};w.hasCustomTag=function(){return this.has(3)};w.getValue=function(){return this.get(4,c)};w.hasValue=function(){return this.has(4)};w.getSourceIsStructured=function(){return this.get(5,!1)};
w.hasSourceIsStructured=function(){return this.has(5)};w.getPhoneType=function(){return this.get(6,0)};w.hasPhoneType=function(){return this.has(6)};w.getPrimary=function(){return this.get(7,!1)};w.hasPrimary=function(){return this.has(7)};w.getCanonicalizedForm=function(){return this.get(8,c)};w.hasCanonicalizedForm=function(){return this.has(8)};var IT=function(a){Z.call(this,a)};B(IT,Z);w=IT.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));if(this.has(2)){for(var b=[],d=0;d<this.getFieldLength();++d){var e=this.getField(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(Kj+b.join(h)+n)}return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,gS)};w.hasMetaData=function(){return this.has$Proto(1)};w.hasField=function(a){return this.has$RepeatedProto(2,a)};
w.getField=function(a){return this.get$RepeatedProto(2,a,HT)};w.getFieldLength=function(){return this.get$RepeatedProtoLength(2)};var JT=function(a){Z.call(this,a)};B(JT,Z);w=JT.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasStandardTag()&&a.push(so+(y(this.getStandardTag())?C(this.getStandardTag().toString()):this.getStandardTag().toString()));this.hasCustomTag()&&a.push(pi+(y(this.getCustomTag())?C(this.getCustomTag().toString()):this.getCustomTag().toString()));this.hasUrl()&&a.push(zp+(y(this.getUrl())?C(this.getUrl().toString()):this.getUrl().toString()));return t+
a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};w.getStandardTag=function(){return this.get(2,1)};w.hasStandardTag=function(){return this.has(2)};w.getCustomTag=function(){return this.get(3,c)};w.hasCustomTag=function(){return this.has(3)};w.getUrl=function(){return this.get(5,c)};w.hasUrl=function(){return this.has(5)};var KT=function(a){Z.call(this,a)};B(KT,Z);w=KT.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));if(this.has(2)){for(var b=[],d=0;d<this.getFieldLength();++d){var e=this.getField(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(Kj+b.join(h)+n)}return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,gS)};w.hasMetaData=function(){return this.has$Proto(1)};w.hasField=function(a){return this.has$RepeatedProto(2,a)};
w.getField=function(a){return this.get$RepeatedProto(2,a,JT)};w.getFieldLength=function(){return this.get$RepeatedProtoLength(2)};var LT=function(a){Z.call(this,a)};B(LT,Z);w=LT.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasPortraitVersion()&&a.push(Tm+(y(this.getPortraitVersion())?C(this.getPortraitVersion().toString()):this.getPortraitVersion().toString()));this.hasUrl()&&a.push(zp+(y(this.getUrl())?C(this.getUrl().toString()):this.getUrl().toString()));return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};
w.getPortraitVersion=function(){return this.get(2,id)};w.hasPortraitVersion=function(){return this.has(2)};w.getUrl=function(){return this.get(3,c)};w.hasUrl=function(){return this.has(3)};var MT=function(a){Z.call(this,a)};B(MT,Z);w=MT.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasPresenceType()&&a.push(Zm+(y(this.getPresenceType())?C(this.getPresenceType().toString()):this.getPresenceType().toString()));return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};w.getPresenceType=function(){return this.get(3,0)};w.hasPresenceType=function(){return this.has(3)};
var NT=function(a){Z.call(this,a)};B(NT,Z);w=NT.prototype;w.toString=function(){var a=[];this.hasAttributeKey()&&a.push(yf+(y(this.getAttributeKey())?C(this.getAttributeKey().toString()):this.getAttributeKey().toString()));this.hasValue()&&a.push(Gp+(y(this.getValue())?C(this.getValue().toString()):this.getValue().toString()));this.hasMarkForDelete()&&a.push(ul+(y(this.getMarkForDelete())?C(this.getMarkForDelete().toString()):this.getMarkForDelete().toString()));return t+a.join(h)+v};
w.getAttributeKey=function(){return this.get(1,0)};w.hasAttributeKey=function(){return this.has(1)};w.getValue=function(){return this.get(2,c)};w.hasValue=function(){return this.has(2)};w.getMarkForDelete=function(){return this.get(3,!1)};w.hasMarkForDelete=function(){return this.has(3)};var OT=function(a){Z.call(this,a)};B(OT,Z);w=OT.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasStandardTag()&&a.push(so+(y(this.getStandardTag())?C(this.getStandardTag().toString()):this.getStandardTag().toString()));this.hasCustomTag()&&a.push(pi+(y(this.getCustomTag())?C(this.getCustomTag().toString()):this.getCustomTag().toString()));this.hasValue()&&a.push(Gp+(y(this.getValue())?C(this.getValue().toString()):this.getValue().toString()));
this.hasPrimary()&&a.push(bn+(y(this.getPrimary())?C(this.getPrimary().toString()):this.getPrimary().toString()));return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};w.getStandardTag=function(){return this.get(2,1)};w.hasStandardTag=function(){return this.has(2)};w.getCustomTag=function(){return this.get(3,c)};w.hasCustomTag=function(){return this.has(3)};w.getValue=function(){return this.get(4,c)};w.hasValue=function(){return this.has(4)};
w.getPrimary=function(){return this.get(5,!1)};w.hasPrimary=function(){return this.has(5)};var PT=function(a){Z.call(this,a)};B(PT,Z);w=PT.prototype;w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));if(this.has(2)){for(var b=[],d=0;d<this.getFieldLength();++d){var e=this.getField(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(Kj+b.join(h)+n)}return t+a.join(h)+v};
w.getMetaData=function(){return this.get$Proto(1,gS)};w.hasMetaData=function(){return this.has$Proto(1)};w.hasField=function(a){return this.has$RepeatedProto(2,a)};w.getField=function(a){return this.get$RepeatedProto(2,a,OT)};w.getFieldLength=function(){return this.get$RepeatedProtoLength(2)};var wS=function(a){Z.call(this,a)};B(wS,Z);w=wS.prototype;
w.toString=function(){var a=[];this.hasName()&&a.push(Pl+(y(this.getName())?C(this.getName().toString()):this.getName().toString()));this.hasEmail()&&a.push(Vi+(y(this.getEmail())?C(this.getEmail().toString()):this.getEmail().toString()));this.hasAddress()&&a.push(hf+(y(this.getAddress())?C(this.getAddress().toString()):this.getAddress().toString()));this.hasIm()&&a.push(Ak+(y(this.getIm())?C(this.getIm().toString()):this.getIm().toString()));this.hasAbout()&&a.push(cf+(y(this.getAbout())?C(this.getAbout().toString()):
this.getAbout().toString()));this.hasBirthday()&&a.push(Gf+(y(this.getBirthday())?C(this.getBirthday().toString()):this.getBirthday().toString()));this.hasGender()&&a.push(Zj+(y(this.getGender())?C(this.getGender().toString()):this.getGender().toString()));this.hasStatus()&&a.push(yo+(y(this.getStatus())?C(this.getStatus().toString()):this.getStatus().toString()));this.hasPhone()&&a.push(Lm+(y(this.getPhone())?C(this.getPhone().toString()):this.getPhone().toString()));if(this.has(12)){for(var b=[],
d=0;d<this.getAttributeLength();++d){var e=this.getAttribute(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(xf+b.join(h)+n)}this.hasPhoto()&&a.push(Om+(y(this.getPhoto())?C(this.getPhoto().toString()):this.getPhoto().toString()));this.hasLastUpdateTime()&&a.push(Zk+(y(this.getLastUpdateTime())?C(this.getLastUpdateTime().toString()):this.getLastUpdateTime().toString()));this.hasWebsite()&&a.push(Sp+(y(this.getWebsite())?C(this.getWebsite().toString()):this.getWebsite().toString()));
this.hasFeed()&&a.push(Ij+(y(this.getFeed())?C(this.getFeed().toString()):this.getFeed().toString()));this.hasOrganization()&&a.push(jm+(y(this.getOrganization())?C(this.getOrganization().toString()):this.getOrganization().toString()));this.hasOther()&&a.push(mm+(y(this.getOther())?C(this.getOther().toString()):this.getOther().toString()));this.hasNickName()&&a.push(Vl+(y(this.getNickName())?C(this.getNickName().toString()):this.getNickName().toString()));this.hasLocation()&&a.push(jl+(y(this.getLocation())?
C(this.getLocation().toString()):this.getLocation().toString()));this.hasKeyword()&&a.push(Sk+(y(this.getKeyword())?C(this.getKeyword().toString()):this.getKeyword().toString()));this.hasPresence()&&a.push(Ym+(y(this.getPresence())?C(this.getPresence().toString()):this.getPresence().toString()));this.hasAdminStatus()&&a.push(kf+(y(this.getAdminStatus())?C(this.getAdminStatus().toString()):this.getAdminStatus().toString()));this.hasDisplayName()&&a.push(Di+(y(this.getDisplayName())?C(this.getDisplayName().toString()):
this.getDisplayName().toString()));this.hasLbsLocation()&&a.push(bl+(y(this.getLbsLocation())?C(this.getLbsLocation().toString()):this.getLbsLocation().toString()));this.hasUserDefined()&&a.push(Ap+(y(this.getUserDefined())?C(this.getUserDefined().toString()):this.getUserDefined().toString()));this.hasCalendar()&&a.push(yh+(y(this.getCalendar())?C(this.getCalendar().toString()):this.getCalendar().toString()));this.hasRelation()&&a.push(wn+(y(this.getRelation())?C(this.getRelation().toString()):this.getRelation().toString()));
this.hasSuckiness()&&a.push(Eo+(y(this.getSuckiness())?C(this.getSuckiness().toString()):this.getSuckiness().toString()));this.hasExternalId()&&a.push(zj+(y(this.getExternalId())?C(this.getExternalId().toString()):this.getExternalId().toString()));this.hasGwsStats()&&a.push(hk+(y(this.getGwsStats())?C(this.getGwsStats().toString()):this.getGwsStats().toString()));this.hasLanguage()&&a.push(Wk+(y(this.getLanguage())?C(this.getLanguage().toString()):this.getLanguage().toString()));this.hasEvent()&&
a.push(gj+(y(this.getEvent())?C(this.getEvent().toString()):this.getEvent().toString()));this.hasProfileEmail()&&a.push(en+(y(this.getProfileEmail())?C(this.getProfileEmail().toString()):this.getProfileEmail().toString()));this.hasFileAs()&&a.push(Mj+(y(this.getFileAs())?C(this.getFileAs().toString()):this.getFileAs().toString()));this.hasProfilePage()&&a.push(fn+(y(this.getProfilePage())?C(this.getProfilePage().toString()):this.getProfilePage().toString()));this.hasPortraitPhoto()&&a.push(Sm+(y(this.getPortraitPhoto())?
C(this.getPortraitPhoto().toString()):this.getPortraitPhoto().toString()));this.hasFastFlag()&&a.push(Hj+(y(this.getFastFlag())?C(this.getFastFlag().toString()):this.getFastFlag().toString()));this.hasEntityInfo()&&a.push(aj+(y(this.getEntityInfo())?C(this.getEntityInfo().toString()):this.getEntityInfo().toString()));this.hasContactMeSettings()&&a.push(Yh+(y(this.getContactMeSettings())?C(this.getContactMeSettings().toString()):this.getContactMeSettings().toString()));this.hasTagLine()&&a.push(No+
(y(this.getTagLine())?C(this.getTagLine().toString()):this.getTagLine().toString()));this.hasRelationshipStatus()&&a.push(yn+(y(this.getRelationshipStatus())?C(this.getRelationshipStatus().toString()):this.getRelationshipStatus().toString()));this.hasRelationshipInterest()&&a.push(xn+(y(this.getRelationshipInterest())?C(this.getRelationshipInterest().toString()):this.getRelationshipInterest().toString()));this.hasSipAddress()&&a.push(ho+(y(this.getSipAddress())?C(this.getSipAddress().toString()):
this.getSipAddress().toString()));this.hasNameRepeated()&&a.push(Ql+(y(this.getNameRepeated())?C(this.getNameRepeated().toString()):this.getNameRepeated().toString()));this.hasBirthdayRepeated()&&a.push(Hf+(y(this.getBirthdayRepeated())?C(this.getBirthdayRepeated().toString()):this.getBirthdayRepeated().toString()));this.hasProfileType()&&a.push(gn+(y(this.getProfileType())?C(this.getProfileType().toString()):this.getProfileType().toString()));return t+a.join(h)+v};
w.getName=function(){return this.get$Proto(3,vT)};w.hasName=function(){return this.has$Proto(3)};w.getEmail=function(){return this.get$Proto(4,JS)};w.hasEmail=function(){return this.has$Proto(4)};w.getAddress=function(){return this.get$Proto(5,fS)};w.hasAddress=function(){return this.has$Proto(5)};w.getIm=function(){return this.get$Proto(6,iT)};w.hasIm=function(){return this.has$Proto(6)};w.getAbout=function(){return this.get$Proto(7,cS)};w.hasAbout=function(){return this.has$Proto(7)};
w.getBirthday=function(){return this.get$Proto(8,iS)};w.hasBirthday=function(){return this.has$Proto(8)};w.getGender=function(){return this.get$Proto(9,bT)};w.hasGender=function(){return this.has$Proto(9)};w.getStatus=function(){return this.get$Proto(10,QT)};w.hasStatus=function(){return this.has$Proto(10)};w.getPhone=function(){return this.get$Proto(11,IT)};w.hasPhone=function(){return this.has$Proto(11)};w.getAttribute=function(a){return this.get$RepeatedProto(12,a,NT)};w.getAttributeLength=function(){return this.get$RepeatedProtoLength(12)};
w.getPhoto=function(){return this.get$Proto(13,KT)};w.hasPhoto=function(){return this.has$Proto(13)};w.getLastUpdateTime=function(){return this.get(14,id)};w.hasLastUpdateTime=function(){return this.has(14)};w.getWebsite=function(){return this.get$Proto(16,RT)};w.hasWebsite=function(){return this.has$Proto(16)};w.getFeed=function(){return this.get$Proto(17,XS)};w.hasFeed=function(){return this.has$Proto(17)};w.getOrganization=function(){return this.get$Proto(18,BT)};w.hasOrganization=function(){return this.has$Proto(18)};
w.getOther=function(){return this.get$Proto(19,DT)};w.hasOther=function(){return this.has$Proto(19)};w.getNickName=function(){return this.get$Proto(20,zT)};w.hasNickName=function(){return this.has$Proto(20)};w.getLocation=function(){return this.get$Proto(21,tT)};w.hasLocation=function(){return this.has$Proto(21)};w.getKeyword=function(){return this.get$Proto(22,kT)};w.hasKeyword=function(){return this.has$Proto(22)};w.getPresence=function(){return this.get$Proto(23,MT)};w.hasPresence=function(){return this.has$Proto(23)};
w.getAdminStatus=function(){return this.get$Proto(24,hS)};w.hasAdminStatus=function(){return this.has$Proto(24)};w.getDisplayName=function(){return this.get$Proto(26,GS)};w.hasDisplayName=function(){return this.has$Proto(26)};w.getLbsLocation=function(){return this.get$Proto(27,oT)};w.hasLbsLocation=function(){return this.has$Proto(27)};w.getUserDefined=function(){return this.get$Proto(28,ST)};w.hasUserDefined=function(){return this.has$Proto(28)};
w.getCalendar=function(){return this.get$Proto(29,mS)};w.hasCalendar=function(){return this.has$Proto(29)};w.getRelation=function(){return this.get$Proto(30,TT)};w.hasRelation=function(){return this.has$Proto(30)};w.getSuckiness=function(){return this.get$Proto(31,UT)};w.hasSuckiness=function(){return this.has$Proto(31)};w.getExternalId=function(){return this.get$Proto(32,TS)};w.hasExternalId=function(){return this.has$Proto(32)};w.getGwsStats=function(){return this.get$Proto(33,gT)};
w.hasGwsStats=function(){return this.has$Proto(33)};w.getLanguage=function(){return this.get$Proto(34,mT)};w.hasLanguage=function(){return this.has$Proto(34)};w.getEvent=function(){return this.get$Proto(35,NS)};w.hasEvent=function(){return this.has$Proto(35)};w.getProfileEmail=function(){return this.get$Proto(36,PT)};w.hasProfileEmail=function(){return this.has$Proto(36)};w.getFileAs=function(){return this.get$Proto(37,aT)};w.hasFileAs=function(){return this.has$Proto(37)};
w.getProfilePage=function(){return this.get$Proto(38,VT)};w.hasProfilePage=function(){return this.has$Proto(38)};w.getPortraitPhoto=function(){return this.get$Proto(39,LT)};w.hasPortraitPhoto=function(){return this.has$Proto(39)};w.getFastFlag=function(){return this.get$Proto(40,VS)};w.hasFastFlag=function(){return this.has$Proto(40)};w.getEntityInfo=function(){return this.get$Proto(41,LS)};w.hasEntityInfo=function(){return this.has$Proto(41)};
w.getContactMeSettings=function(){return this.get$Proto(42,CS)};w.hasContactMeSettings=function(){return this.has$Proto(42)};w.getTagLine=function(){return this.get$Proto(43,WT)};w.hasTagLine=function(){return this.has$Proto(43)};w.getRelationshipStatus=function(){return this.get$Proto(44,XT)};w.hasRelationshipStatus=function(){return this.has$Proto(44)};w.getRelationshipInterest=function(){return this.get$Proto(45,ZT)};w.hasRelationshipInterest=function(){return this.has$Proto(45)};
w.getSipAddress=function(){return this.get$Proto(46,$T)};w.hasSipAddress=function(){return this.has$Proto(46)};w.getNameRepeated=function(){return this.get$Proto(47,xT)};w.hasNameRepeated=function(){return this.has$Proto(47)};w.getBirthdayRepeated=function(){return this.get$Proto(48,kS)};w.hasBirthdayRepeated=function(){return this.has$Proto(48)};w.getProfileType=function(){return this.get$Proto(56,aU)};w.hasProfileType=function(){return this.has$Proto(56)};var VT=function(a){Z.call(this,a)};
B(VT,Z);w=VT.prototype;w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasEnabled()&&a.push(Yi+(y(this.getEnabled())?C(this.getEnabled().toString()):this.getEnabled().toString()));this.hasCrawlable()&&a.push(hi+(y(this.getCrawlable())?C(this.getCrawlable().toString()):this.getCrawlable().toString()));return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};
w.getEnabled=function(){return this.get(2,!1)};w.hasEnabled=function(){return this.has(2)};w.getCrawlable=function(){return this.get(3,!0)};w.hasCrawlable=function(){return this.has(3)};var bU=function(a){Z.call(this,a)};B(bU,Z);w=bU.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasStandardTag()&&a.push(so+(y(this.getStandardTag())?C(this.getStandardTag().toString()):this.getStandardTag().toString()));return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};w.getStandardTag=function(){return this.get(2,1)};w.hasStandardTag=function(){return this.has(2)};
var aU=function(a){Z.call(this,a)};B(aU,Z);w=aU.prototype;w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));if(this.has(2)){for(var b=[],d=0;d<this.getFieldLength();++d){var e=this.getField(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(Kj+b.join(h)+n)}return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,gS)};w.hasMetaData=function(){return this.has$Proto(1)};
w.hasField=function(a){return this.has$RepeatedProto(2,a)};w.getField=function(a){return this.get$RepeatedProto(2,a,bU)};w.getFieldLength=function(){return this.get$RepeatedProtoLength(2)};var cU=function(a){Z.call(this,a)};B(cU,Z);w=cU.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasStandardTag()&&a.push(so+(y(this.getStandardTag())?C(this.getStandardTag().toString()):this.getStandardTag().toString()));this.hasCustomTag()&&a.push(pi+(y(this.getCustomTag())?C(this.getCustomTag().toString()):this.getCustomTag().toString()));this.hasValue()&&a.push(Gp+(y(this.getValue())?C(this.getValue().toString()):this.getValue().toString()));
return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};w.getStandardTag=function(){return this.get(2,1)};w.hasStandardTag=function(){return this.has(2)};w.getCustomTag=function(){return this.get(3,c)};w.hasCustomTag=function(){return this.has(3)};w.getValue=function(){return this.get(4,c)};w.hasValue=function(){return this.has(4)};var TT=function(a){Z.call(this,a)};B(TT,Z);w=TT.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));if(this.has(2)){for(var b=[],d=0;d<this.getFieldLength();++d){var e=this.getField(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(Kj+b.join(h)+n)}return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,gS)};w.hasMetaData=function(){return this.has$Proto(1)};w.hasField=function(a){return this.has$RepeatedProto(2,a)};
w.getField=function(a){return this.get$RepeatedProto(2,a,cU)};w.getFieldLength=function(){return this.get$RepeatedProtoLength(2)};var dU=function(a){Z.call(this,a)};B(dU,Z);w=dU.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasStandardTag()&&a.push(so+(y(this.getStandardTag())?C(this.getStandardTag().toString()):this.getStandardTag().toString()));this.hasCustomTag()&&a.push(pi+(y(this.getCustomTag())?C(this.getCustomTag().toString()):this.getCustomTag().toString()));return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};
w.getStandardTag=function(){return this.get(2,1)};w.hasStandardTag=function(){return this.has(2)};w.getCustomTag=function(){return this.get(3,c)};w.hasCustomTag=function(){return this.has(3)};var ZT=function(a){Z.call(this,a)};B(ZT,Z);w=ZT.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));if(this.has(2)){for(var b=[],d=0;d<this.getFieldLength();++d){var e=this.getField(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(Kj+b.join(h)+n)}return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,gS)};w.hasMetaData=function(){return this.has$Proto(1)};w.hasField=function(a){return this.has$RepeatedProto(2,a)};
w.getField=function(a){return this.get$RepeatedProto(2,a,dU)};w.getFieldLength=function(){return this.get$RepeatedProtoLength(2)};var eU=function(a){Z.call(this,a)};B(eU,Z);w=eU.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasStandardTag()&&a.push(so+(y(this.getStandardTag())?C(this.getStandardTag().toString()):this.getStandardTag().toString()));this.hasCustomTag()&&a.push(pi+(y(this.getCustomTag())?C(this.getCustomTag().toString()):this.getCustomTag().toString()));return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};
w.getStandardTag=function(){return this.get(2,1)};w.hasStandardTag=function(){return this.has(2)};w.getCustomTag=function(){return this.get(3,c)};w.hasCustomTag=function(){return this.has(3)};var XT=function(a){Z.call(this,a)};B(XT,Z);w=XT.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));if(this.has(2)){for(var b=[],d=0;d<this.getFieldLength();++d){var e=this.getField(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(Kj+b.join(h)+n)}return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,gS)};w.hasMetaData=function(){return this.has$Proto(1)};w.hasField=function(a){return this.has$RepeatedProto(2,a)};
w.getField=function(a){return this.get$RepeatedProto(2,a,eU)};w.getFieldLength=function(){return this.get$RepeatedProtoLength(2)};var qT=function(a){Z.call(this,a)};B(qT,Z);w=qT.prototype;
w.toString=function(){var a=[];this.hassgn_domain()&&a.push(RA+(y(this.getsgn_domain())?C(this.getsgn_domain().toString()):this.getsgn_domain().toString()));this.hassgn_pk()&&a.push(TA+(y(this.getsgn_pk())?C(this.getsgn_pk().toString()):this.getsgn_pk().toString()));this.hassgn_ident()&&a.push(SA+(y(this.getsgn_ident())?C(this.getsgn_ident().toString()):this.getsgn_ident().toString()));return t+a.join(h)+v};w.getsgn_domain=function(){return this.get(1,c)};w.hassgn_domain=function(){return this.has(1)};
w.getsgn_pk=function(){return this.get(2,c)};w.hassgn_pk=function(){return this.has(2)};w.getsgn_ident=function(){return this.get(3,c)};w.hassgn_ident=function(){return this.has(3)};var fU=function(a){Z.call(this,a)};B(fU,Z);w=fU.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasStandardTag()&&a.push(so+(y(this.getStandardTag())?C(this.getStandardTag().toString()):this.getStandardTag().toString()));this.hasCustomTag()&&a.push(pi+(y(this.getCustomTag())?C(this.getCustomTag().toString()):this.getCustomTag().toString()));this.hasValue()&&a.push(Gp+(y(this.getValue())?C(this.getValue().toString()):this.getValue().toString()));
this.hasPrimary()&&a.push(bn+(y(this.getPrimary())?C(this.getPrimary().toString()):this.getPrimary().toString()));return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};w.getStandardTag=function(){return this.get(2,5)};w.hasStandardTag=function(){return this.has(2)};w.getCustomTag=function(){return this.get(3,c)};w.hasCustomTag=function(){return this.has(3)};w.getValue=function(){return this.get(4,c)};w.hasValue=function(){return this.has(4)};
w.getPrimary=function(){return this.get(5,!1)};w.hasPrimary=function(){return this.has(5)};var $T=function(a){Z.call(this,a)};B($T,Z);w=$T.prototype;w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));if(this.has(2)){for(var b=[],d=0;d<this.getFieldLength();++d){var e=this.getField(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(Kj+b.join(h)+n)}return t+a.join(h)+v};
w.getMetaData=function(){return this.get$Proto(1,gS)};w.hasMetaData=function(){return this.has$Proto(1)};w.hasField=function(a){return this.has$RepeatedProto(2,a)};w.getField=function(a){return this.get$RepeatedProto(2,a,fU)};w.getFieldLength=function(){return this.get$RepeatedProtoLength(2)};var gU=function(a){Z.call(this,a)};B(gU,Z);w=gU.prototype;
w.toString=function(){var a=[];this.hasPredefinedSource()&&a.push(Vm+(y(this.getPredefinedSource())?C(this.getPredefinedSource().toString()):this.getPredefinedSource().toString()));this.hasCustomSourceName()&&a.push(oi+(y(this.getCustomSourceName())?C(this.getCustomSourceName().toString()):this.getCustomSourceName().toString()));return t+a.join(h)+v};w.getPredefinedSource=function(){return this.get(1,2)};w.hasPredefinedSource=function(){return this.has(1)};
w.getCustomSourceName=function(){return this.get(2,c)};w.hasCustomSourceName=function(){return this.has(2)};var ZS=function(a){Z.call(this,a)};B(ZS,Z);w=ZS.prototype;
w.toString=function(){var a=[];this.hasLocal()&&a.push(gl+(y(this.getLocal())?C(this.getLocal().toString()):this.getLocal().toString()));this.hasEdgeIndex()&&a.push(Ri+(y(this.getEdgeIndex())?C(this.getEdgeIndex().toString()):this.getEdgeIndex().toString()));this.hasSourceDescriptor()&&a.push(ko+(y(this.getSourceDescriptor())?C(this.getSourceDescriptor().toString()):this.getSourceDescriptor().toString()));return t+a.join(h)+v};w.getLocal=function(){return this.get(1,!1)};w.hasLocal=function(){return this.has(1)};
w.getEdgeIndex=function(){return this.get(2,0)};w.hasEdgeIndex=function(){return this.has(2)};w.getSourceDescriptor=function(){return this.get$Proto(4,gU)};w.hasSourceDescriptor=function(){return this.has$Proto(4)};var QT=function(a){Z.call(this,a)};B(QT,Z);w=QT.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasValue()&&a.push(Gp+(y(this.getValue())?C(this.getValue().toString()):this.getValue().toString()));return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};w.getValue=function(){return this.get(2,c)};w.hasValue=function(){return this.has(2)};var UT=function(a){Z.call(this,a)};
B(UT,Z);w=UT.prototype;w.toString=function(){var a=[];this.hasScore()&&a.push(Nn+(y(this.getScore())?C(this.getScore().toString()):this.getScore().toString()));this.hasReadOnlyOneBoxScore()&&a.push(pn+(y(this.getReadOnlyOneBoxScore())?C(this.getReadOnlyOneBoxScore().toString()):this.getReadOnlyOneBoxScore().toString()));return t+a.join(h)+v};w.getScore=function(){return this.get(4,0)};w.hasScore=function(){return this.has(4)};w.getReadOnlyOneBoxScore=function(){return this.get(5,0)};
w.hasReadOnlyOneBoxScore=function(){return this.has(5)};var hU=function(a){Z.call(this,a)};B(hU,Z);w=hU.prototype;w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasValue()&&a.push(Gp+(y(this.getValue())?C(this.getValue().toString()):this.getValue().toString()));return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};
w.getValue=function(){return this.get(2,c)};w.hasValue=function(){return this.has(2)};var WT=function(a){Z.call(this,a)};B(WT,Z);w=WT.prototype;w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));if(this.has(2)){for(var b=[],d=0;d<this.getFieldLength();++d){var e=this.getField(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(Kj+b.join(h)+n)}return t+a.join(h)+v};
w.getMetaData=function(){return this.get$Proto(1,gS)};w.hasMetaData=function(){return this.has$Proto(1)};w.hasField=function(a){return this.has$RepeatedProto(2,a)};w.getField=function(a){return this.get$RepeatedProto(2,a,hU)};w.getFieldLength=function(){return this.get$RepeatedProtoLength(2)};var iU=function(a){Z.call(this,a)};B(iU,Z);w=iU.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasKey()&&a.push(Rk+(y(this.getKey())?C(this.getKey().toString()):this.getKey().toString()));this.hasValue()&&a.push(Gp+(y(this.getValue())?C(this.getValue().toString()):this.getValue().toString()));return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};
w.getKey=function(){return this.get(2,c)};w.hasKey=function(){return this.has(2)};w.getValue=function(){return this.get(3,c)};w.hasValue=function(){return this.has(3)};var ST=function(a){Z.call(this,a)};B(ST,Z);w=ST.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));if(this.has(2)){for(var b=[],d=0;d<this.getFieldLength();++d){var e=this.getField(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(Kj+b.join(h)+n)}return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,gS)};w.hasMetaData=function(){return this.has$Proto(1)};w.hasField=function(a){return this.has$RepeatedProto(2,a)};
w.getField=function(a){return this.get$RepeatedProto(2,a,iU)};w.getFieldLength=function(){return this.get$RepeatedProtoLength(2)};var GT=function(a){Z.call(this,a)};B(GT,Z);w=GT.prototype;
w.toString=function(){var a=[];this.hasEmail()&&a.push(Vi+(y(this.getEmail())?C(this.getEmail().toString()):this.getEmail().toString()));this.hasPhone()&&a.push(Lm+(y(this.getPhone())?C(this.getPhone().toString()):this.getPhone().toString()));this.hasUrl()&&a.push(zp+(y(this.getUrl())?C(this.getUrl().toString()):this.getUrl().toString()));return t+a.join(h)+v};w.getEmail=function(){return this.get(2,c)};w.hasEmail=function(){return this.has(2)};w.getPhone=function(){return this.get(3,c)};
w.hasPhone=function(){return this.has(3)};w.getUrl=function(){return this.get(4,c)};w.hasUrl=function(){return this.has(4)};var YS=function(a){Z.call(this,a)};B(YS,Z);w=YS.prototype;
w.toString=function(){var a=[];this.hasType()&&a.push(rp+(y(this.getType())?C(this.getType().toString()):this.getType().toString()));this.hasStatus()&&a.push(yo+(y(this.getStatus())?C(this.getStatus().toString()):this.getStatus().toString()));this.hasLastVerificationUsec()&&a.push(al+(y(this.getLastVerificationUsec())?C(this.getLastVerificationUsec().toString()):this.getLastVerificationUsec().toString()));return t+a.join(h)+v};w.getType=function(){return this.get(1,0)};w.hasType=function(){return this.has(1)};
w.getStatus=function(){return this.get(2,0)};w.hasStatus=function(){return this.has(2)};w.getLastVerificationUsec=function(){return this.get(3,id)};w.hasLastVerificationUsec=function(){return this.has(3)};var jU=function(a){Z.call(this,a)};B(jU,Z);w=jU.prototype;
w.toString=function(){var a=[];this.hasRel()&&a.push(un+(y(this.getRel())?C(this.getRel().toString()):this.getRel().toString()));this.hasExplicitlySet()&&a.push(tj+(y(this.getExplicitlySet())?C(this.getExplicitlySet().toString()):this.getExplicitlySet().toString()));return t+a.join(h)+v};w.getRel=function(){return this.get(1,0)};w.hasRel=function(){return this.has(1)};w.getExplicitlySet=function(){return this.get(4,!1)};w.hasExplicitlySet=function(){return this.has(4)};
var kU=function(a){Z.call(this,a)};B(kU,Z);w=kU.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));this.hasStandardTag()&&a.push(so+(y(this.getStandardTag())?C(this.getStandardTag().toString()):this.getStandardTag().toString()));this.hasCustomTag()&&a.push(pi+(y(this.getCustomTag())?C(this.getCustomTag().toString()):this.getCustomTag().toString()));this.hasValue()&&a.push(Gp+(y(this.getValue())?C(this.getValue().toString()):this.getValue().toString()));
if(this.has(5)){for(var b=[],d=0;d<this.getRelInfoLength();++d){var e=this.getRelInfo(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(vn+b.join(h)+n)}this.hasPrimary()&&a.push(bn+(y(this.getPrimary())?C(this.getPrimary().toString()):this.getPrimary().toString()));return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,dS)};w.hasMetaData=function(){return this.has$Proto(1)};w.getStandardTag=function(){return this.get(2,1)};w.hasStandardTag=function(){return this.has(2)};
w.getCustomTag=function(){return this.get(3,c)};w.hasCustomTag=function(){return this.has(3)};w.getValue=function(){return this.get(4,c)};w.hasValue=function(){return this.has(4)};w.getRelInfo=function(a){return this.get$RepeatedProto(5,a,jU)};w.getRelInfoLength=function(){return this.get$RepeatedProtoLength(5)};w.getPrimary=function(){return this.get(7,!1)};w.hasPrimary=function(){return this.has(7)};var RT=function(a){Z.call(this,a)};B(RT,Z);w=RT.prototype;
w.toString=function(){var a=[];this.hasMetaData()&&a.push(l+(y(this.getMetaData())?C(this.getMetaData().toString()):this.getMetaData().toString()));if(this.has(2)){for(var b=[],d=0;d<this.getFieldLength();++d){var e=this.getField(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(Kj+b.join(h)+n)}return t+a.join(h)+v};w.getMetaData=function(){return this.get$Proto(1,gS)};w.hasMetaData=function(){return this.has$Proto(1)};w.hasField=function(a){return this.has$RepeatedProto(2,a)};
w.getField=function(a){return this.get$RepeatedProto(2,a,kU)};w.getFieldLength=function(){return this.get$RepeatedProtoLength(2)};var lU=function(a,b,d){this.fields_=a;this.name_=b;this.contains_=new AH(d);this.extraFields_=[]},mU=new lU(["6",qd],ld),nU=new lU(["2","1f","1c",qd,"16","13","14","1d","22","1b","20"],wd,[mU]);new lU(["6",qd,"16","17","18","1a"],vd,[mU]);new lU(["2",wd,"2a","5","6",Gd,qr,"1c",Hs,mt,Gt,"11",qd,"29","13","14","15","1d","22","16","17","19","28","1e","1b"],"2",[mU,nU]);new lU([]);
lU.prototype.toString=function(){var a=this.name_?mu+this.name_:this.fields_.join(Xb);this.name_&&this.extraFields_.length&&(a+=Xb+this.extraFields_.join(Xb));return a};lU.prototype.getFieldSet_=function(){this.fieldSet_||(this.fieldSet_=new AH(this.fields_));return this.fieldSet_};
lU.prototype.contains=function(a){if(this.contains_.contains(a))return!0;this.doesntContain_||(this.doesntContain_=new AH);if(this.doesntContain_.contains(a))return!1;if(this.getFieldSet_().containsAll(a.getFieldSet_()))return this.contains_.add(a),!0;this.doesntContain_.add(a);return!1};var oU={token:c,addressBookId:ez,matchType:1,includeContacts:!0,includeGroups:!0,isAutoCompleteMode:!0,delayMillis:5E3,maxMatches:-1,maxTries:10,name:"Load All Contacts"},pU=function(a,b,d){var e=new vH;e.set(Kq,!!a.isAutoCompleteMode);a.isContactAutoComplete&&e.set(Qq,!0);a.includeContactsCount&&e.set(as,!0);a.includeConfiguration&&e.set(bs,!!a.includeConfiguration);a.contactIds&&e.set(hs,a.contactIds.join(Xb));if(a.syntheticIds){var f=0,g=tE(a.syntheticIds,function(a){return a?(f++,a):c});0<f&&
e.set(ZA,g.join(Xb))}a.isCircleMode&&e.set(Ds,!0);e.set(Fs,!!a.includeContacts);a.profileIds&&e.set(mz,a.profileIds.join(Xb));a.emailAddresses&&e.set(rt,a.emailAddresses.join(Xb));a.displayNameLastFirst&&e.set(Ts,!0);a.requestedFieldList&&e.set(Gt,a.requestedFieldList.toString());a.matchFieldList&&e.set(Kw,a.matchFieldList.toString());a.includeGroupCounts&&e.set(ru,!0);a.groupIds&&e.set(uu,a.groupIds.join(Xb));e.set(Uu,!!a.includeGroups);a.groupMask&&e.set(wu,mH(a.groupMask.a_));e.set(hv,b);a.includeMgrUpchain&&
(e.set(Ww,!0),e.set(Dw,a.manageeEmail));d&&e.set(zv,d);null!=a.maxMatches&&e.set(zw,a.maxMatches);a.outputFormat?e.set(My,a.outputFormat):e.set(My,Rv);a.includePageBoundaryData&&e.set(az,!0);a.requiredFields&&e.set(gA,a.requiredFields.join(Xb));a.sortFields&&e.set(OA,a.sortFields.join(Xb));a.sortOrder&&e.set(aB,a.sortOrder);a.includeSpecialGroups&&e.set(UA,!0);a.specialGroupIds&&e.set(QA,a.specialGroupIds.join(Xb));null!=a.startIndex&&e.set(fB,a.startIndex);x(a.token)&&e.set(HB,a.token.toLowerCase());
e.set(RB,wd);a.excludedGroupIds&&e.set(RC,a.excludedGroupIds.join(Xb));a.includeEvergreenData&&e.set(At,!0);a.includeSharedGroups&&e.set(XA,!0);a.includeNonGaiaEvergreen&&e.set(cy,!0);a.includeContactLastUpdateTime&&e.set(ps,!0);a.includeUserData&&e.set($B,!!a.includeUserData);a.includeUserGroupMembership&&e.set(vu,!0);a.includePhotoUrls&&e.set(Hz,!0);a.clientIdentifier&&e.set(ms,a.clientIdentifier);a.versionInfoOverride&&e.set(DC,a.versionInfoOverride);a.userCharacteristics&&e.addAll(a.userCharacteristics);
return e};var qU=function(a){Z.call(this,a)};B(qU,Z);qU.prototype.toString=function(){var a=[];this.hasExperiment()&&a.push(sj+(y(this.getExperiment())?C(this.getExperiment().toString()):this.getExperiment().toString()));return t+a.join(h)+v};qU.prototype.getExperiment=function(){return this.get(1,0)};qU.prototype.hasExperiment=function(){return this.has(1)};var rU=function(a){Z.call(this,a)};B(rU,Z);w=rU.prototype;
w.toString=function(){var a=[];this.hasMailUser()&&a.push(rl+(y(this.getMailUser())?C(this.getMailUser().toString()):this.getMailUser().toString()));this.hasMailUrl()&&a.push(ql+(y(this.getMailUrl())?C(this.getMailUrl().toString()):this.getMailUrl().toString()));this.hasDasherUser()&&a.push(ti+(y(this.getDasherUser())?C(this.getDasherUser().toString()):this.getDasherUser().toString()));this.hasEvergreenAvailable()&&a.push(ij+(y(this.getEvergreenAvailable())?C(this.getEvergreenAvailable().toString()):
this.getEvergreenAvailable().toString()));this.hasEditableProfile()&&a.push(Ti+(y(this.getEditableProfile())?C(this.getEditableProfile().toString()):this.getEditableProfile().toString()));this.hasUserHasProfile()&&a.push(Bp+(y(this.getUserHasProfile())?C(this.getUserHasProfile().toString()):this.getUserHasProfile().toString()));this.hasProfileUrl()&&a.push(hn+(y(this.getProfileUrl())?C(this.getProfileUrl().toString()):this.getProfileUrl().toString()));this.hasEmeraldSeaUrl()&&a.push(Wi+(y(this.getEmeraldSeaUrl())?
C(this.getEmeraldSeaUrl().toString()):this.getEmeraldSeaUrl().toString()));if(this.has(9)){for(var b=[],d=0;d<this.getExposedExperimentLength();++d){var e=this.getExposedExperiment(d);null!=e?b.push(y(e)?C(e.toString()):e.toString()):b.push(c)}a.push(uj+b.join(h)+n)}this.hasObfuscatedGaiaId()&&a.push(gm+(y(this.getObfuscatedGaiaId())?C(this.getObfuscatedGaiaId().toString()):this.getObfuscatedGaiaId().toString()));this.hasEmeraldSeaUser()&&a.push(Xi+(y(this.getEmeraldSeaUser())?C(this.getEmeraldSeaUser().toString()):
this.getEmeraldSeaUser().toString()));this.hasDomainContactsEnabled()&&a.push(Ki+(y(this.getDomainContactsEnabled())?C(this.getDomainContactsEnabled().toString()):this.getDomainContactsEnabled().toString()));this.hasOrganizationAdmin()&&a.push(km+(y(this.getOrganizationAdmin())?C(this.getOrganizationAdmin().toString()):this.getOrganizationAdmin().toString()));this.hasContactsPreviewEnabledForDomain()&&a.push(ai+(y(this.getContactsPreviewEnabledForDomain())?C(this.getContactsPreviewEnabledForDomain().toString()):
this.getContactsPreviewEnabledForDomain().toString()));return t+a.join(h)+v};w.getMailUser=function(){return this.get(1,!1)};w.hasMailUser=function(){return this.has(1)};w.getMailUrl=function(){return this.get(2,c)};w.hasMailUrl=function(){return this.has(2)};w.getDasherUser=function(){return this.get(3,!1)};w.hasDasherUser=function(){return this.has(3)};w.getEvergreenAvailable=function(){return this.get(4,!1)};w.hasEvergreenAvailable=function(){return this.has(4)};
w.getEditableProfile=function(){return this.get(5,!1)};w.hasEditableProfile=function(){return this.has(5)};w.getUserHasProfile=function(){return this.get(6,!1)};w.hasUserHasProfile=function(){return this.has(6)};w.getProfileUrl=function(){return this.get(7,c)};w.hasProfileUrl=function(){return this.has(7)};w.getEmeraldSeaUrl=function(){return this.get(8,c)};w.hasEmeraldSeaUrl=function(){return this.has(8)};w.getExposedExperiment=function(a){return this.get$RepeatedProto(9,a,qU)};
w.getExposedExperimentLength=function(){return this.get$RepeatedProtoLength(9)};w.getObfuscatedGaiaId=function(){return this.get(11,c)};w.hasObfuscatedGaiaId=function(){return this.has(11)};w.getEmeraldSeaUser=function(){return this.get(12,!1)};w.hasEmeraldSeaUser=function(){return this.has(12)};w.getDomainContactsEnabled=function(){return this.get(13,!1)};w.hasDomainContactsEnabled=function(){return this.has(13)};w.getOrganizationAdmin=function(){return this.get(14,!1)};w.hasOrganizationAdmin=function(){return this.has(14)};
w.getContactsPreviewEnabledForDomain=function(){return this.get(15,!1)};w.hasContactsPreviewEnabledForDomain=function(){return this.has(15)};var sU=function(){};w=sU.prototype;w.convertGroup=function(a,b){b.push(new eT(a))};w.convertContact=function(a,b){b.push(new ET(a))};w.convertMetaData=function(a){return jD(a)?a:jH(a)};w.convertConfiguration=function(a){return new ES(a)};w.convertUserData=function(a){return new rU(a)};var tU=[c];
sU.prototype.convertAutoCompleteEntry=function(a,b){var d=a[3]||tU,e=a[2];if(e||d){var f=a[4],g=a[11]||0,m;switch(a[1]){case 1:m=Fs;break;case 2:m=is;break;case 3:m=fw}for(var q=a[9],u=a[10],D=a[5],N=a[12],O=a[13],ea=0;ea<d.length;ea++){var V=d[ea];(e||V)&&b.push(new aS([m,e,V,f,D,g,q,u,N,O]))}}};var uU=function(a,b){this.query_=a;this.error_=b||0};w=uU.prototype;w.getQuery=function(){return this.query_};w.getError=function(){return this.error_};w.setError=function(a){this.error_=a};w.getRows=function(){return this.rows_||ZR};w.setRows=function(a){this.rows_=a};w.hasRows=function(){return!!this.rows_};w.setUserData=function(){};var vU=function(){};var wU=function(){};B(wU,vU);wU.prototype.getCount=function(){var a=0;tH(this.__iterator__(!0),function(b){gE(b);a++});return a};wU.prototype.clear=function(){var a=uH(this.__iterator__(!0)),b=this;F(a,function(a){b.remove(a)})};var xU=function(a){this.storage_=a};B(xU,wU);w=xU.prototype;w.isAvailable=function(){if(!this.storage_)return!1;try{return this.storage_.setItem(Bq,ld),this.storage_.removeItem(Bq),!0}catch(a){return!1}};w.set=function(a,b){try{this.storage_.setItem(a,b)}catch(d){if(0==this.storage_.length)throw"Storage mechanism: Storage disabled";throw Ao;}};w.get=function(a){a=this.storage_.getItem(a);if(!y(a)&&null!==a)throw zo;return a};w.remove=function(a){this.storage_.removeItem(a)};w.getCount=function(){return this.storage_.length};
w.__iterator__=function(a){var b=0,d=this.storage_,e=new rH;e.next=function(){if(b>=d.length)throw qH;var e=gE(d.key(b++));if(a)return e;e=d.getItem(e);if(!y(e))throw zo;return e};return e};w.clear=function(){this.storage_.clear()};w.key=function(a){return this.storage_.key(a)};var yU=function(){var a=null;try{a=window.localStorage||null}catch(b){}this.storage_=a};B(yU,xU);var AU=function(a,b){this.storageKey_=a;this.storageNode_=null;if(H&&!vF(9)){zU||(zU=new vH);this.storageNode_=zU.get(a);this.storageNode_||(b?this.storageNode_=document.getElementById(b):(this.storageNode_=document.createElement(rC),this.storageNode_.addBehavior(Za),document.body.appendChild(this.storageNode_)),zU.set(a,this.storageNode_));try{this.loadNode_()}catch(d){this.storageNode_=null}}};B(AU,wU);
var BU={".":".2E","!":".21","~":".7E","*":".2A","'":".27","(":".28",")":".29","%":Rc},zU=null,CU=function(a){return Aq+encodeURIComponent(a).replace(/[.!~*'()%]/g,function(a){return BU[a]})};w=AU.prototype;w.isAvailable=function(){return!!this.storageNode_};w.set=function(a,b){this.storageNode_.setAttribute(CU(a),b);this.saveNode_()};w.get=function(a){a=this.storageNode_.getAttribute(CU(a));if(!y(a)&&null!==a)throw zo;return a};w.remove=function(a){this.storageNode_.removeAttribute(CU(a));this.saveNode_()};
w.getCount=function(){return this.getNode_().attributes.length};w.__iterator__=function(a){var b=0,d=this.getNode_().attributes,e=new rH;e.next=function(){if(b>=d.length)throw qH;var e=E(d[b++]);if(a)return decodeURIComponent(e.nodeName.replace(/\./g,cb)).substr(1);e=e.nodeValue;if(!y(e))throw zo;return e};return e};w.clear=function(){for(var a=this.getNode_(),b=a.attributes.length;0<b;b--)a.removeAttribute(a.attributes[b-1].nodeName);this.saveNode_()};w.loadNode_=function(){this.storageNode_.load(this.storageKey_)};
w.saveNode_=function(){try{this.storageNode_.save(this.storageKey_)}catch(a){throw Ao;}};w.getNode_=function(){return this.storageNode_.XMLDocument.documentElement};var DU=function(a,b){this.mechanism_=a;this.prefix_=b+Kd};B(DU,wU);DU.prototype.set=function(a,b){this.mechanism_.set(this.prefix_+a,b)};DU.prototype.get=function(a){return this.mechanism_.get(this.prefix_+a)};DU.prototype.remove=function(a){this.mechanism_.remove(this.prefix_+a)};
DU.prototype.__iterator__=function(a){var b=this.mechanism_.__iterator__(!0),d=this,e=new rH;e.next=function(){for(var e=b.next();e.substr(0,d.prefix_.length)!=d.prefix_;)e=b.next();return a?e.substr(d.prefix_.length):d.mechanism_.get(e)};return e};var EU=function(a){this.mechanism=a};EU.prototype.set=function(a,b){x(b)?this.mechanism.set(a,mH(b)):this.mechanism.remove(a)};EU.prototype.get=function(a){var b;try{b=this.mechanism.get(a)}catch(d){return}if(null!==b)try{return jH(b)}catch(d){throw Bo;}};EU.prototype.remove=function(a){this.mechanism.remove(a)};var FU=function(a){this.mechanism=a};B(FU,EU);var GU=function(a){this.data=a},HU=function(a){return!x(a)||a instanceof GU?a:new GU(a)},IU=function(a){a=a.data;if(!x(a))throw Bo;return a};FU.prototype.set=function(a,b){FU.superClass_.set.call(this,a,HU(b))};FU.prototype.getWrapper=function(a){a=FU.superClass_.get.call(this,a);if(!x(a)||a instanceof Object)return a;throw Bo;};FU.prototype.get=function(a){return(a=this.getWrapper(a))?IU(a):void 0};var JU=function(a){this.mechanism=a};B(JU,FU);var KU=function(a){var b=a.creation;a=a.expiration;return!!a&&a<A()||!!b&&b>A()};JU.prototype.set=function(a,b,d){if(b=HU(b)){if(d){if(d<A()){JU.prototype.remove.call(this,a);return}b.expiration=d}b.creation=A()}JU.superClass_.set.call(this,a,b)};JU.prototype.getWrapper=function(a,b){var d=JU.superClass_.getWrapper.call(this,a);if(d)if(!b&&KU(d))JU.prototype.remove.call(this,a);else return d};var LU=function(a){this.mechanism=a};B(LU,JU);LU.prototype.getExpiredKeys_=function(a,b){var d=[];tH(a,function(a){var f;try{f=LU.prototype.getWrapper.call(this,a,!0)}catch(g){if(g==Bo){b&&d.push(a);return}throw g;}if(!x(f))d.push(a);else if(KU(f))d.push(a);else if(b)try{IU(f)}catch(g){if(g==Bo)d.push(a);else throw g;}},this);return d};LU.prototype.collectInternal=function(a,b){var d=this.getExpiredKeys_(a,b);F(d,function(a){LU.prototype.remove.call(this,a)},this);return d};
LU.prototype.collect=function(a){this.collectInternal(this.mechanism.__iterator__(!0),a)};var NU=function(a,b,d,e,f,g,m,q,u,D){this.apiaryApiKey_=a;this.plusiVersion_=b;this.requestType_=d;this.parameters_=e;this.fbsVersionInfo_=f;this.handler=g;this.onAuthError_=m;this.timeoutMs=(D?D.getTimeoutMs():0)||q;this.delegatorId_=u;this.query=D||null;this.id_=MU++},MU=0;w=NU.prototype;w.getId=function(){return this.id_};
w.send=function(a){this.isPending_=!0;var b={entry:[]};F(this.parameters_.getKeys(),function(a){b.entry.push({key:a,value:String(this.parameters_.get(a))})},this);null!==this.delegatorId_&&(b.delegatorLocalId=this.delegatorId_);null!==this.fbsVersionInfo_&&(b.fbsVersionInfo=this.fbsVersionInfo_);var d=this.plusiVersion_,e=fD(qu);e&&(d=e(xz)||d);a=hE(a.request,Bl);d={path:qz+d+hd+this.requestType_,method:Am,headers:{"Accept-Language":st},body:b};x(this.apiaryApiKey_)&&(d.params={key:this.apiaryApiKey_});
a(d).execute(z(this.onResponse_,this));this.timerId_=nI(this.onTimeout_,this.timeoutMs,this)};w.onResponse_=function(a){if(this.isPending_){this.isPending_=!1;E(x(this.timerId_),FB);oI(this.timerId_);var b=null,d=0;if(x(a.response))try{b=kH(a.response)}catch(f){d=2,RD(a.response,1E3)}else d=(d=a.error?a.error.code:null)&&404!=d?2:8;var e=a.fbsVersionInfo||null;a=fD(yt,a);if(401==a||403==a)this.onAuthError_();else this.handler(this,b,e,d)}};
w.onTimeout_=function(){this.isPending_=!1;this.handler(this,null,null,10)};w.isPending=function(){return!!this.isPending_};w.cancel=function(){this.isPending_&&(E(x(this.timerId_),EB),this.isPending_=!1,oI(this.timerId_),this.handler(this,null,null,11))};w.getQuery=function(){return this.query};var OU=function(a){try{return eval(Gb+a+Pb)}catch(b){}};var PU=function(a,b,d,e,f,g){this.versionInfoStorageKey_=b;this.plusiVersion_=e;this.apiaryApiKey_=d;this.onAuthError_=f||gD;this.converter_=new sU;this.requestsPendingApiaryClientLoaded_=[];this.locale_=st;this.timeoutMs_=3E4;this.delegatorId_=x(g)?parseInt(g,10):null;this.addressBookCount_=0;b=new yU;(b=b.isAvailable()?new DU(b,Ot):null)||(b=new AU(Ot),b=b.isAvailable()?b:null);(this.storage_=b?new LU(b):null)&&this.storage_.collect(!0);a.addCallback(z(this.onApiaryClientLoaded_,this))};B(PU,AF);
w=PU.prototype;w.onApiaryClientLoaded_=function(a){this.apiaryClient_=iE(a);this.outstandingRequests_=this.requestsPendingApiaryClientLoaded_;delete this.requestsPendingApiaryClientLoaded_;F(this.outstandingRequests_,function(a){a.send(this.apiaryClient_)},this)};
w.sendRequest_=function(a,b,d,e){a=new NU(this.apiaryApiKey_,this.plusiVersion_,a,b,this.readFbsVersionInfoFromStorage_(),z(this.handleResponse_,this,d),this.onAuthError_,this.timeoutMs_,this.delegatorId_,e);x(this.requestsPendingApiaryClientLoaded_)?(E(!x(this.outstandingRequests_),Ny),this.requestsPendingApiaryClientLoaded_.push(a)):(this.outstandingRequests_.push(a),a.send(iE(this.apiaryClient_)));return a};
w.loadContactRows=function(a,b,d){return this.sendRequest_(xs,pU(a,this.locale_,b),z(this.loadContactRowsHandler_,this,a,b,d))};w.getAuthToken=function(){throw Error(bm);};w.handleResponse_=function(a,b,d,e,f){this.removeRequestFromList_(b);null===e||this.writeFbsVersionInfoToStorage_(e);a(b,d,f)};w.loadContactRowsHandler_=function(a,b,d,e,f,g){var m=ZR;g||((f=this.parseResponse_(f,a))&&f.hasRows()?m=f.getRows():(g=6,m=ZR));d(m,e,b,a,g)};w.setBaseUri=function(){};
w.parseConfiguration_=function(a){var b=null;a&&(a=OU(a),b=this.converter_.convertConfiguration(a));return b};w.parseContacts_=function(a){var b=null;if(a){b=[];a=OU(a);for(var d=0;d<a.length;d++)this.converter_.convertContact(a[d],b)}return b};w.parseMetaData_=function(a){var b=null;a&&(b=this.converter_.convertMetaData(a));return b};w.parseUserData_=function(a){var b=null;a&&(a=OU(a),b=this.converter_.convertUserData(a));return b};
w.parseGroups_=function(a){var b=null;if(a){b=[];a=OU(a);for(var d=0;d<a.length;d++)this.converter_.convertGroup(a[d],b)}return b};w.parseObfuscatedGaiaIds_=function(a){return a?OU(a):null};w.parseManagerUpchain_=function(a){return a?OU(a):null};w.parseAutoComplete_=function(a){var b=null;if(a){b=[];a=OU(a);for(var d=0;d<a.length;d++)this.converter_.convertAutoCompleteEntry(a[d],b)}return b};
w.parseResponse_=function(a,b){var d=null,e=null,f=new uU(b);if(a.Success){var g=a.Body;g&&(E(!x(g.AuthToken),om),this.parseConfiguration_(g.Configuration),this.parseContacts_(g.Contacts),this.parseGroups_(g.Groups),d=this.parseAutoComplete_(g.AutoComplete),this.parseObfuscatedGaiaIds_(g.ProfileIds),this.parseManagerUpchain_(g.ManagerUpchain),this.parseMetaData_(g.MetaData),e=this.parseUserData_(g.UserData))}else f.setError(6);f.setUserData(e);f.setRows(d);return f};
w.removeRequestFromList_=function(a){E(!x(this.requestsPendingApiaryClientLoaded_),An);for(var b=0;b<this.outstandingRequests_.length;b++)if(this.outstandingRequests_[b]==a){this.outstandingRequests_.splice(b,1);break}};w.cancelAllQueries_=function(){if(x(this.outstandingRequests_)){for(var a=0;a<this.outstandingRequests_.length;a++)this.outstandingRequests_[a].cancel();this.outstandingRequests_.length=0}};
w.disposeInternal=function(){x(this.requestsPendingApiaryClientLoaded_)&&delete this.requestsPendingApiaryClientLoaded_;this.cancelAllQueries_();this.storage_&&this.storage_.collect(!0)};w.readFbsVersionInfoFromStorage_=function(){if(null===this.storage_||!x(this.versionInfoStorageKey_))return null;this.storage_.collect(!0);return this.storage_.get(this.versionInfoStorageKey_)||null};
w.writeFbsVersionInfoToStorage_=function(a){x(this.versionInfoStorageKey_)&&(E(null!==this.storage_,Xl),this.storage_.collect(!0),this.storage_.set(this.versionInfoStorageKey_,a,A()+9E5),this.collectTimerId_&&oI(this.collectTimerId_),this.collectTimerId_=nI(this.onCollectTimer_,900001,this))};w.onCollectTimer_=function(){delete this.collectTimerId_;this.storage_.collect(!0)};w.attachAddressBook=function(){this.addressBookCount_++};
w.detachAddressBook=function(){this.addressBookCount_--;0==this.addressBookCount_&&this.cancelAllQueries_()};var QU=function(a,b,d){this.scheduler=a;this.runFunction_=b;this.group=d||a.createGroup()};B(QU,AF);w=QU.prototype;w.getBackoffMillis=function(){return Math.round(45E3*Math.random())};w.isSuccess=function(){return this.getState().isSuccess()};w.setSuccess=function(a){this.getState().setSuccess(a)};w.getMaxNumRetries=function(){this.getState().getMaxNumRetries()};w.setMaxNumRetries=function(a){this.getState().setMaxNumRetries(a)};w.reset=function(){this.getState().reset()};w.getNumTriesLeft=function(){return this.getState().getNumTriesLeft()};
w.setRunState=function(a){this.getState().setRunState(a)};w.setRunTime=function(a){this.getState().setRunTime(a)};w.setRunTimerId=function(a){this.getState().setRunTimerId(a)};w.incNumSuccesses=function(){this.getState().incNumSuccesses()};w.incNumFailures=function(){this.getState().incNumFailures()};w.incNumExecutions=function(){this.getState().incNumExecutions()};w.decNumTriesLeft=function(){this.getState().decNumTriesLeft()};w.isPending=function(){return this.getState().isPending()};w.cancel=function(){this.scheduler.cancel(this.getState())};
w.getState=function(){return this.scheduler.getState(this.group)};w.run=function(){this.incNumExecutions();this.runFunction_(this)};w.isDone=function(a){return this.scheduler.isDone(this,a)};var RU=function(a){this.scheduler=a;this.maxNumRetries_=0;this.reset()};B(RU,AF);w=RU.prototype;w.reset=function(){this.numTriesLeft=this.maxNumRetries_;this.success=!1;this.runState=1;this.runTimerId=this.runTime=-1};w.isSuccess=function(){return this.success};w.setSuccess=function(a){this.success=a};w.getMaxNumRetries=function(){return this.maxNumRetries_};w.setRunState=function(a){this.runState=a};w.setRunTime=function(a){this.runTime=a};w.setRunTimerId=function(a){this.runTimerId=a};
w.setMaxNumRetries=function(a){this.maxNumRetries_=a};w.getNumTriesLeft=function(){return this.numTriesLeft};w.resetNumTriesLeft=function(){this.numTriesLeft=this.maxNumRetries_};w.decNumTriesLeft=function(a){this.numTriesLeft-=a||1};w.incNumSuccesses=function(){};w.incNumFailures=function(){};w.incNumExecutions=function(){};w.isPending=function(){return!(4==this.runState||5==this.runState)};w.disposeInternal=function(){RU.superClass_.disposeInternal.call(this);this.scheduler=null};var SU=function(){this.states={};this.currentGroup=1};B(SU,AF);w=SU.prototype;
w.schedule=function(a,b,d,e){b=b||0;var f=A()+b,g=this.states[a.group];g||(g=new RU(this),this.states[a.group]=g);g.setMaxNumRetries(Math.max(d||1,g.getMaxNumRetries()));switch(g.runState){case 1:case 5:g.reset();this.runOrScheduleOperation(a,b,f);break;case 6:this.runOrScheduleOperation(a,b,f);break;case 4:e&&(g.reset(),this.runOrScheduleOperation(a,b,f));break;case 2:f<g.runTime?(this.cancel(g),g.reset(),this.runOrScheduleOperation(a,b,f)):g.resetNumTriesLeft()}};
w.runOrScheduleOperation=function(a,b,d){0==b?(a.setRunState(3),a.run()):(a.setRunState(2),a.setRunTime(d),a.setRunTimerId(nI(a.run,b,a)))};w.getState=function(a){return this.states[a]};w.createGroup=function(){return c+this.currentGroup++};w.createOperation=function(a,b){return new QU(this,a,b)};w.disposeInternal=function(){SU.superClass_.disposeInternal.call(this);for(var a in this.states){var b=this.states[a];this.cancel(b);J(b)}this.states={}};w.cancel=function(a){2==a.runState&&oI(a.runTimerId)};
w.isDone=function(a,b){b?a.incNumSuccesses():a.incNumFailures();a.setSuccess(b);a.decNumTriesLeft();if(!b&&this.shouldReschedule(a))return a.setRunState(6),this.schedule(a,Math.max(100,a.getBackoffMillis())),!1;a.setRunState(b?4:5);return!0};w.shouldReschedule=function(a){return 0<a.getNumTriesLeft()};var UU=function(a,b,d){this.maxCount_=a||null;this.cache_=!!b;this.evictionCallback_=d;this.map_=new vH;this.head_=new TU(c,void 0);this.head_.next=this.head_.prev=this.head_};w=UU.prototype;w.findAndMoveToTop_=function(a){(a=this.map_.get(a))&&this.cache_&&(a.remove(),this.insert_(a));return a};w.get=function(a,b){var d=this.findAndMoveToTop_(a);return d?d.value:b};w.peekValue=function(a,b){var d=this.map_.get(a);return d?d.value:b};
w.set=function(a,b){var d=this.findAndMoveToTop_(a);d?d.value=b:(d=new TU(a,b),this.map_.set(a,d),this.insert_(d))};w.shift=function(){return this.popNode_(this.head_.next)};w.pop=function(){return this.popNode_(this.head_.prev)};w.remove=function(a){return(a=this.map_.get(a))?(this.removeNode(a),!0):!1};w.removeNode=function(a){a.remove();this.map_.remove(a.key)};w.getCount=function(){return this.map_.getCount()};w.isEmpty=function(){return this.map_.isEmpty()};
w.getKeys=function(){return this.map(function(a,b){return b})};w.getValues=function(){return this.map(function(a){return a})};w.contains=function(a){return this.some(function(b){return b==a})};w.containsKey=function(a){return this.map_.containsKey(a)};w.clear=function(){this.truncate_(0)};w.forEach=function(a,b){for(var d=this.head_.next;d!=this.head_;d=d.next)a.call(b,d.value,d.key,this)};
w.map=function(a,b){for(var d=[],e=this.head_.next;e!=this.head_;e=e.next)d.push(a.call(b,e.value,e.key,this));return d};w.some=function(a,b){for(var d=this.head_.next;d!=this.head_;d=d.next)if(a.call(b,d.value,d.key,this))return!0;return!1};w.every=function(a,b){for(var d=this.head_.next;d!=this.head_;d=d.next)if(!a.call(b,d.value,d.key,this))return!1;return!0};
w.insert_=function(a){this.cache_?(a.next=this.head_.next,a.prev=this.head_,this.head_.next=a,a.next.prev=a):(a.prev=this.head_.prev,a.next=this.head_,this.head_.prev=a,a.prev.next=a);null!=this.maxCount_&&this.truncate_(this.maxCount_)};w.truncate_=function(a){for(;this.getCount()>a;){var b=this.cache_?this.head_.prev:this.head_.next;this.removeNode(b);this.evictionCallback_&&this.evictionCallback_(b.key,b.value)}};w.popNode_=function(a){this.head_!=a&&this.removeNode(a);return a.value};
var TU=function(a,b){this.key=a;this.value=b};TU.prototype.remove=function(){this.prev.next=this.next;this.next.prev=this.prev;delete this.prev;delete this.next};var VU={SOMETHING_CHANGED:QC,ERROR:SC};var WU=function(){this.eventTarget_=new M;this.updateCacheEventTarget_=new M;new UU};B(WU,AF);WU.prototype.dispatchEvent=function(a){this.updateCacheEventTarget_.dispatchEvent(a);this.eventTarget_.dispatchEvent(a)};WU.prototype.getEventTarget=function(){return this.eventTarget_};WU.prototype.disposeInternal=function(){WU.superClass_.disposeInternal.call(this);this.eventTarget_.dispose();this.eventTarget_=null;this.updateCacheEventTarget_.dispose();this.updateCacheEventTarget_=null};var XU=function(a){this.response_=a||gD;this.timer_=nI(this.onTimer_,0,this)};w=XU.prototype;w.setResponse=function(a){this.response_=a};w.cancel=function(){oI(this.timer_);this.timer_=null};w.isPending=function(){return!!this.timer_};w.onTimer_=function(){this.timer_=null;this.response_()};w.getQuery=function(){return this.query_};var YU=function(a){this.addressBookMap_={};this.addressBooks=[];this.ownedAddressBooks_=[];this.scheduler_=new SU;this.eventHandler_=new NH(this);this.ownsContactNotificationService_=!a;this.queryFilters_=[];this.contactNotificationService_=a||new WU;this.addQueryFilter(this.contactNotificationService_)};B(YU,AF);w=YU.prototype;
w.addAddressBook=function(a,b){this.addressBooks.push(a);b&&this.ownedAddressBooks_.push(a);this.addressBookMap_[a.getId()]=a;this.eventHandler_.listen(a,QE(VU),z(this.forwardEvent_,this))};w.forwardEvent_=function(a){this.contactNotificationService_.dispatchEvent(a)};w.addQueryFilter=function(a){this.queryFilters_.push(a)};w.getEventTarget=function(){return this.contactNotificationService_.getEventTarget()};
w.loadContactRows=function(a,b){var d=z(this.receiveContactRows_,this,b);return this.maybeSchedule(a,function(a){return a.loadContactRows},d)};
w.maybeSchedule=function(a,b,d){var e=new ZU(d),f;if(a.addressBookId)f=this.addressBookMap_[a.addressBookId],(f=this.shouldScheduleQuery_(a)?this.scheduleQuery_(f,b(f),a,d):b(f).call(f,a,d))&&e.add(f);else for(var g=0;g<this.addressBooks.length;g++)f=this.addressBooks[g],(f=this.shouldScheduleQuery_(a)?this.scheduleQuery_(f,b(f),a,d):b(f).call(f,a,d))&&e.add(f);return e};
w.scheduleQuery_=function(a,b,d,e){a=this.scheduler_.createOperation(z(this.runScheduledQuery_,this,a,b,d,e),d.name);this.scheduler_.schedule(a,d.delayMillis,d.maxTries,d.force);return new $U(a)};w.runScheduledQuery_=function(a,b,d,e,f){f.request=b.call(a,d,function(a,b,d,u,D){f.isDone(!D)&&e&&e(a,b,d,u,D)})};w.shouldScheduleQuery_=function(a){return 0<a.delayMillis||1<a.maxTries};w.receiveContactRows_=function(a,b,d,e,f){a&&(f.filter&&(b=f.filter(b,f.token)),aV(b),a(b,d,e,f))};
var aV=function(a){if(0<a.length)for(var b=a[0].getPriority(),d=1;d<a.length;d++){var e=a[d],f=e.getPriority();f<b&&(e.flags|=1,b=f)}};
YU.prototype.disposeInternal=function(){YU.superClass_.disposeInternal.call(this);J(this.scheduler_);this.scheduler_=null;F(this.ownedAddressBooks_,J);this.ownedAddressBooks_=this.addressBookMap_=this.addressBooks=null;J(this.eventHandler_);this.eventHandler_=null;F(this.queryFilters_,function(a){a!=this.contactNotificationService_&&J(a)},this);this.queryFilters_=null;this.ownsContactNotificationService_&&(J(this.contactNotificationService_),this.contactNotificationService_=null)};
var ZU=function(a){this.requests_=[];this.handler=a};w=ZU.prototype;w.add=function(a){this.requests_.push(a)};w.isEmpty=function(){return 0==this.requests_.length};w.cancel=function(){for(var a=0;a<this.requests_.length;a++)this.requests_[a].cancel()};w.isPending=function(){for(var a=0;a<this.requests_.length;a++)if(this.requests_[a].isPending())return!0;return!1};w.getQuery=function(){return this.query_};var $U=function(a){this.op=a;this.request=null};
$U.prototype.cancel=function(){this.op.cancel();this.request&&this.request.cancel()};$U.prototype.isPending=function(){return this.op.isPending()||this.op.request&&this.op.request.isPending()};var bV=function(a,b){this.text=a;this.specialRowHandler=b};B(bV,YR);bV.prototype.getName=function(){return null};bV.prototype.getEmail=function(){return null};bV.prototype.getType=function(){return eB};bV.prototype.getPriority=function(){return 0};var cV=function(a){YU.call(this,a)};B(cV,YU);cV.prototype.addAddressBook=function(a,b){1==this.addressBooks.length&&(this.combiner_=new dV,this.combiner_.addAddressBook(this.addressBooks[0]));cV.superClass_.addAddressBook.call(this,a,b);this.combiner_&&this.combiner_.addAddressBook(a)};cV.prototype.loadContactRows=function(a,b){return this.combiner_&&a.isAutoCompleteMode&&!a.addressBookId?this.combiner_.loadContactRows(a,b):cV.superClass_.loadContactRows.call(this,a,b)};
var dV=function(){this.addrBooks_=[];this.rowSets_=null};dV.prototype.addAddressBook=function(a){this.addrBooks_.push(new eV(this,this.addrBooks_.length,a))};dV.prototype.loadContactRows=function(a,b){var d=new fV(a,b);this.buildMatches_(d);return d};
dV.prototype.buildMatches_=function(a,b,d){this.rowSets_=[];for(var e=0;e<this.addrBooks_.length&&!(e==b?this.rowSets_[e]=d:this.addrBooks_[e].loadContactRows(a),0==e&&this.rowSets_[e]&&this.rowSets_[e].length>=a.query.maxMatches);e++);(b=this.combineRowSets_(a.query,this.rowSets_))&&a.handler&&this.addrBooks_[0]&&this.addrBooks_[0].madeCallback_&&a.handler(b,a,null,a.query);this.rowSets_=null};
dV.prototype.combineRowSets_=function(a,b){for(var d=[],e=!1,f,g=0;g<b.length&&d.length<a.maxMatches;g++)if(b[g]){f=d.length;e=!0;var m=b[g],q=a.maxMatches,u=d.length;if(0==u)d=m.length>q?m.slice(0,q):m;else for(var D=0;D<m.length;D++){for(var N=null,O=0;O<u&&!(N=gV(d[O],m[D]));O++);if(N)N===m[D]&&(d[O]=N);else if(d.length==u?d=d.concat(m[D]):d.push(m[D]),d.length==q)break}0<f&&d.length>f&&(d[f].flags|=1)}return e?(aV(d),d):null};
var gV=function(a,b){if(a.specialRowHandler||b.specialRowHandler)return null;if(a.text==b.text)return a;if(a.getEmail()==b.getEmail()&&a.getType()==b.getType()){if(!b.getName())return a;if(!a.getName())return b}return null};dV.prototype.onMatchCompleted_=function(a,b,d){this.rowSets_?this.rowSets_[b]=d:this.buildMatches_(a,b,d)};dV.prototype.handleSpecialRow=function(){};var eV=function(a,b,d){this.combiner_=a;this.id_=b;this.addrBook_=d;this.lastAsyncLatency_=0;this.isSynchronous_=!1};
eV.prototype.loadContactRows=function(a){var b=a.getStoredResult(this.id_);if(!b){this.isSynchronous_=!0;this.madeCallback_=!1;var d=this.addrBook_.loadContactRows(a.query,z(this.matchListener_,this,a,A()));a.addRequest(this.id_,d);this.isSynchronous_=!1;this.madeCallback_||a.query.isAutoCompleteMode&&300<this.lastAsyncLatency_&&(b=[this.getSpecialRow_()])}if(b)this.combiner_.onMatchCompleted_(a,this.id_,b)};
eV.prototype.getSpecialRow_=function(){var a=this.addrBook_.title_;return new bV(a?On+a:Pn,this.combiner_.handleSpecialRow)};eV.prototype.matchListener_=function(a,b,d){this.madeCallback_=!0;this.isSynchronous_||(this.lastAsyncLatency_=A()-b);a.query.filter&&d&&(d=a.query.filter(d,a.query.token));a.setStoredResult(this.id_,d);this.combiner_.onMatchCompleted_(a,this.id_,d)};eV.prototype.dispose=function(){this.combiner_=this.matcher_=null};
var fV=function(a,b){this.query=a;this.handler=b;fV.prototype.activeRequests_={};fV.prototype.storedResults_={}};w=fV.prototype;w.cancel=function(){for(var a in this.activeRequests_)this.activeRequests_[a].cancel();this.activeRequests_={}};w.isPending=function(){for(var a in this.activeRequests_)if(this.activeRequests_[a].isPending())return!0;return!1};w.addRequest=function(a,b){this.activeRequests_[a]=b};w.setStoredResult=function(a,b){this.storedResults_[a]=b};w.getStoredResult=function(a){return this.storedResults_[a]};var hV={198:"AE",230:"ae",306:"IJ",307:"ij",338:"AE",339:"ae"},iV=function(a){for(var b=[],d=0,e=0;e<a.length;e++){var f;f=a.charCodeAt(e);if(192>f||382<f)f=null;else{var g=hV[f];g?f=g:(g=$e[f-192],E(g!=Vb,yl),f=g==yq?null:g)}f&&(d!=e&&b.push(a.substr(d,e-d)),d=e+1,b.push(f))}return 0<b.length?(b.push(a.substr(d)),b.join(c)):a};var kV=function(a,b,d,e,f,g){M.call(this);this.cacheMaxSize_=f||0;this.rowMatchingFunction_=g||jV;this.cache_=new UU(this.cacheMaxSize_,!0);this.cacheSize_=a||0;this.cacheMinExpiryAge_=b||0;this.cacheMaxExpiryAge_=d||0;this.cacheByType_=!!e};B(kV,M);kV.prototype.disposeInternal=function(){kV.superClass_.disposeInternal.call(this);this.cache_=null};kV.prototype.clear=function(){this.cache_.clear()};kV.prototype.getMatchesFromArray=function(a,b){return sE(b,this.rowMatchingFunction_(a),this)};
var jV=function(a){var b=UD(iV(a.token));return function(a){var e=new RegExp(Nb+b,tv);(e=null!=iV(String(a[1])).match(e))||(e=a[0],e=null!=a[2].match(new RegExp(yq+b,tv))&&String(e)!=is);return e}},lV=function(a,b){var d=yq+a.token.toLowerCase();b&&(a.includeContacts||(d=$x+d),a.includeGroups||(d=by+d),a.includePhoneContacts||(d=ky+d),a.isContactAutoComplete||(d=ax+d));a.includeProfileAddresses&&(d=Sy+d);return d};w=kV.prototype;
w.setCachedResult=function(a,b){this.cache_.set(lV(a,this.cacheByType_),b);if(this.cacheSize_){var d=this.cache_.getCount();if(d>this.cacheSize_){var e=A()-this.cacheMinExpiryAge_;do{if(this.cache_.head_.prev.value.created>=e)break;this.cache_.pop()}while(--d>this.cacheSize_)}}};w.getGoodCachedResult=function(a,b){var d=this.getFreshCachedResultByKey(lV(a,this.cacheByType_),!0);return this.isPartial(d,b)?null:d};
w.getFreshCachedResultByKey=function(a,b){var d;d=b?this.cache_.get(a):this.cache_.peekValue(a);return this.isStale(d)?(this.cache_.remove(a),null):d};w.getLongestPrefixFreshCachedResultByKey=function(a,b,d){b=a.length-b.length;d||b++;for(d=a.length;d>=b;d--){var e=this.getFreshCachedResultByKey(a,!1);if(e)return e;a=a.substr(0,d-1)}return null};
w.getLessRestrictiveFreshCachedResult=function(a){if(a.isContactAutoComplete)return null;var b=lV(a,this.cacheByType_),d=this.getLongestPrefixFreshCachedResultByKey(b,a.token,!0);return d?d:this.cacheByType_&&0!=b.lastIndexOf(yq,0)?(b=lV(a,!1),this.getLongestPrefixFreshCachedResultByKey(b,a.token,!0)):null};w.isPartial=function(a,b){return!!a&&!!b&&!a.isComplete(b)};w.isStale=function(a){return!!a&&!!this.cacheMaxExpiryAge_&&a.created+this.cacheMaxExpiryAge_<A()};
var mV=function(a,b,d){this.token=a;this.matches_=b;this.partialResult_=!!d;this.count=1;this.created=A()};mV.prototype.getMatches=function(a){a&&this.count++;return this.matches_};mV.prototype.isComplete=function(a){return!this.partialResult_||0<=a&&a<=this.matches_.length};var nV=function(a,b,d,e){M.call(this);this.initialized_=!1;this.title_=null;this.cache_=b;this.id_=d;this.transport_=a;this.transport_.attachAddressBook(this.id_);e&&PF(e.getEventTarget(),QC,this.onContactsChange_,!1,this)};B(nV,M);w=nV.prototype;w.configure=function(a,b){this.transport_.setBaseUri(a);this.setSourceDescription(b);this.initialized_||(this.initialized_=!0)};w.getId=function(){return this.id_};w.setSourceDescription=function(a){this.title_=a};
w.loadContactRows=function(a,b){if(this.initialized_){var d=this.cache_.getCachedContactRows(a);return d?(b&&b(d,$R,this.getId(),a),$R):this.transport_.loadContactRows(a,this.getId(),z(this.cacheContactRowsAndInvokeHandler_,this,b))}b&&b(ZR,$R,this.getId(),a,4);return $R};
w.cacheContactRowsAndInvokeHandler_=function(a,b,d,e,f,g){g||this.cache_.setCachedResult(f,new mV(f.token,b,-1!=f.maxMatches&&b.length>=f.maxMatches));a&&(b&&0<=f.maxMatches&&b.length>f.maxMatches&&(b=b.slice(0,f.maxMatches)),a(b,d,e,f,g))};w.onContactsChange_=function(){this.cache_.clear()};w.getAuthToken=function(){return this.transport_.getAuthToken()};
w.disposeInternal=function(){nV.superClass_.disposeInternal.call(this);this.cache_.dispose();this.cache_=null;this.transport_.detachAddressBook(this.id_);this.transport_=null};var pV=function(a,b,d){kV.call(this,100,18E5,432E5,!0,0,d||oV);this.clientFilteringOk_=a;this.allowEmptyQueries_=b};B(pV,kV);var oV=function(a){var b=UD(a.token),d=new RegExp(Nb+b,tv),e=new RegExp(yq+b,tv);return function(b){var g=b.getType();return qV(a,g)&&(null!=b.getName().match(d)||null!=b.getEmail().match(e)&&g!=is)}},qV=function(a,b){switch(b){case Fs:return a.includeContacts;case is:case fw:return a.includeGroups;case Gz:return a.includePhoneContacts}return!1};
pV.prototype.getCachedContactRows=function(a){var b;AD(a.token)&&!this.allowEmptyQueries_?b=ZR:(b=this.getGoodCachedResult(a,a.maxMatches))?b=b.getMatches():(b=this.getLessRestrictiveFreshCachedResult(a))&&0==b.getMatches().length?(this.setCachedResult(a,new mV(a.token,ZR)),b=ZR):b&&!b.partialResult_&&this.clientFilteringOk_?(b=this.getMatchesFromArray(a,b.getMatches()),this.setCachedResult(a,new mV(a.token,b))):b=null;b&&0<=a.maxMatches&&b.length>a.maxMatches&&(b=b.slice(0,a.maxMatches));return b};var sV=function(a,b,d){this.includeDomainGroups_=!!d;b=b||new pV(!0,!1,rV);nV.call(this,a,b,gt)};B(sV,nV);sV.prototype.loadContactRows=function(a,b){if(a.includeGroups&&!this.includeDomainGroups_){var d=a,e={},f;for(f in d)e[f]=d[f];a=e;a.includeGroups=!1}return sV.superClass_.loadContactRows.call(this,a,b)};
var rV=function(a){for(var b=zD(a.token).toLowerCase().split(/\s+/),d=[],e=[],f=0;f<b.length;f++){var g=UD(b[f]),m=new RegExp(yq+g,tv);d.push(new RegExp(Nb+g,tv));e.push(m)}return function(b){if(qV(a,b.getType())){for(var f=0;f<d.length;f++)if(!b.getName().match(d[f])&&!b.getEmail().match(e[f]))return!1;return!0}return!1}};var tV=function(){AF.call(this);this.requestQueue_=[];this.outstandingRequests_={}};B(tV,AF);w=tV.prototype;w.initialized_=!1;w.failed_=!1;
w.setBaseUri=function(a){var b=a.toString();if(this.baseUri_!=b){this.baseUri_=b;if(this.iframeEl_)throw Error("The HTTPS proxy does not support changing its base URI.");b=CM(a,aC);b.setScheme(rv);b.setParameterValue(Zy,window.location.origin);2009!=a.port_&&8888!=a.port_||b.setPort(4443);this.proxyDomain_=b.clone().setPath(c).setQueryData(void 0).setFragment(c).toString();this.createIframe_(b.toString());nI(this.handleInitFailedTimeout_,2E3,this)}};
w.createIframe_=function(a){var b=this.iframeEl_=document.createElement(Bv);b.height=id;b.width=id;b.style.visibility=dv;b.style.position=Jq;b.style.top=dc;b.src=a;document.body.appendChild(b);PF(window,Jw,this.handleMessage_,!1,this)};w.send=function(a){this.initialized_?this.failed_?a.sendWithXhr():this.sendToProxy_(a):this.requestQueue_.push(a)};w.sendToProxy_=function(a){this.outstandingRequests_[a.getId()]=a;this.iframeEl_.contentWindow.postMessage(mH(a.getMessageObject()),this.proxyDomain_)};
w.abort=function(a){if(this.initialized_)this.failed_||(this.iframeEl_.contentWindow.postMessage(mH({i:a,t:Eq}),this.proxyDomain_),delete this.outstandingRequests_[a]);else{var b=xE(this.requestQueue_,function(b){return b.getId()==a});if(!(0>b)){var d=this.requestQueue_[b];CE(this.requestQueue_,b);d.sendWithXhr();d.cancel()}}};
w.handleMessage_=function(a){a=a.event_;if(a.source==this.iframeEl_.contentWindow&&a.origin==this.proxyDomain_)switch(a=jH(a.data),a.t){case tv:this.initialized_=!0;this.failed_=!1;tE(this.requestQueue_,function(a){return this.sendToProxy_(a)},this);BE(this.requestQueue_);break;case Mz:var b=a.i,d=this.outstandingRequests_[b];d&&(d.handleProxiedResponse(a),delete this.outstandingRequests_[b])}};
w.handleInitFailedTimeout_=function(){this.initialized_||(this.failed_=this.initialized_=!0,tE(this.requestQueue_,function(a){a.sendWithXhr()}),BE(this.requestQueue_))};w.disposeInternal=function(){this.iframeEl_&&(XF(window,Jw,this.handleMessage_,!1,this),this.iframeEl_.parentNode.removeChild(this.iframeEl_),delete this.iframeEl_);this.initialized_=!1};var vV=function(a,b,d,e,f,g,m,q){this.uri=a;this.handler=b;this.transportProxy=d;this.timeoutMs=(q?q.getTimeoutMs():0)||e;this.method=f||Uj;this.data=g;this.headers=m;this.query=q||null;this.id_=uV++};vV.prototype.isPending_=!1;var uV=0;w=vV.prototype;w.getId=function(){return this.id_};w.send=function(){this.transportProxy?this.sendWithProxy_():this.sendWithXhr()};
w.sendWithXhr=function(){this.pending_=!0;var a=this.xhr_=new lM;a.setTimeoutInterval(this.timeoutMs);PF(a,ss,this.handleXhrResponse_,!1,this);a.send(this.uri.toString(),this.method,this.data,this.headers)};w.sendWithProxy_=function(){this.pending_=!0;this.transportProxy.send(this)};w.handleXhrResponse_=function(a){a=a.target;a==this.xhr_&&(XF(this.xhr_,ss,this.handleXhrResponse_,!1,this),this.xhr_=null,this.handleResponse_(a.isSuccess(),a.getResponseText(),a.getStatus(),a.lastErrorCode_))};
w.handleProxiedResponse=function(a){this.handleResponse_(a.s,a.r,a.st,a.ec)};w.handleResponse_=function(a,b,d,e){this.pending_=!1;if(a){a=b.indexOf(ob)+11;var f=b.lastIndexOf(nb);b=-1!=a&&-1!=f?kH(b.substring(a,f)):null}else b=null;a=0;b||(a=404==d?8:8==e?10:7==e?11:2);this.handler(this,b,a)};w.isPending=function(){return!!this.xhr_};w.cancel=function(){this.xhr_?this.xhr_.abort():this.transportProxy&&this.transportProxy.abort(this.id_)};w.getQuery=function(){return this.query};
w.getMessageObject=function(){return{t:DA,i:this.id_,ti:this.timeoutMs,u:this.uri.toString(),m:this.method,d:this.data,h:this.headers}};var wV=function(a){this.converter_=new sU;this.requests_=[];this.authToken_=void 0;this.locale_=st;this.timeoutMs_=15E3;this.addressBookCount_=0;this.transportProxy_=window.location.protocol!=sv&&a?new tV:null};w=wV.prototype;w.sendRequest_=function(a,b,d,e,f,g){a=new vV(a,z(this.handleResponse_,this,b),this.transportProxy_,this.timeoutMs_,d,e,f,g);this.requests_.push(a);a.send();return a};
w.loadContactRows=function(a,b,d){return this.sendRequest_(this.buildUri_(a,b),z(this.loadContactRowsHandler_,this,a,b,d))};w.getAuthToken=function(){return this.authToken_};w.handleResponse_=function(a,b,d,e){this.removeRequestFromList_(b);a(b,d,e)};w.loadContactRowsHandler_=function(a,b,d,e,f,g){var m=ZR;g||((f=this.parseResponse_(f,a))&&f.hasRows()?m=f.getRows():(g=6,m=ZR));d(m,e,b,a,g)};
w.setBaseUri=function(a){a instanceof sM||(a=new sM(a));this.baseUri_=CM(a,Ks);CM(a,Ls);this.transportProxy_&&this.transportProxy_.setBaseUri(a)};w.buildUri_=function(a,b){var d=this.baseUri_.clone(),e=pU(a,this.locale_,b);xV(d,e);return d};var xV=function(a,b){F(b.getKeys().sort(),function(d){a.setParameterValue(d,b.get(d))})};w=wV.prototype;w.parseConfiguration_=function(a){var b=null;a&&(a=jD(a)?a:yV(a),b=this.converter_.convertConfiguration(a));return b};
w.parseContacts_=function(a){var b=null;if(a){b=[];a=jD(a)?a:yV(a);for(var d=0;d<a.length;d++)this.converter_.convertContact(a[d],b)}return b};w.parseMetaData_=function(a){var b=null;a&&(b=this.converter_.convertMetaData(a));return b};w.parseUserData_=function(a){var b=null;a&&(a=jD(a)?a:yV(a),b=this.converter_.convertUserData(a));return b};w.parseGroups_=function(a){var b=null;if(a){b=[];a=jD(a)?a:yV(a);for(var d=0;d<a.length;d++)this.converter_.convertGroup(a[d],b)}return b};
w.parseObfuscatedGaiaIds_=function(a){return a?jD(a)?a:yV(a):null};w.parseManagerUpchain_=function(a){return a?jD(a)?a:yV(a):null};w.parseAutoComplete_=function(a){var b=null;if(a){b=[];a=jD(a)?a:yV(a);for(var d=0;d<a.length;d++)this.converter_.convertAutoCompleteEntry(a[d],b)}return b};var yV=function(a){try{return kH(a)}catch(b){}};w=wV.prototype;
w.parseResponse_=function(a,b){var d=null,e=null,f=new uU(b);if(a.Success){var g=a.Body;g&&(this.parseConfiguration_(g.Configuration),this.parseContacts_(g.Contacts),this.parseGroups_(g.Groups),d=this.parseAutoComplete_(g.AutoComplete),this.parseObfuscatedGaiaIds_(g.ProfileIds),this.parseManagerUpchain_(g.ManagerUpchain),this.parseMetaData_(g.MetaData),e=this.parseUserData_(g.UserData),g=g.AuthToken&&g.AuthToken.Value)&&(this.authToken_=g)}else f.setError(6);f.setUserData(e);f.setRows(d);return f};
w.removeRequestFromList_=function(a){for(var b=0;b<this.requests_.length;b++)if(this.requests_[b]==a){this.requests_.splice(b,1);break}};w.cancelAllQueries_=function(){for(var a=0;a<this.requests_.length;a++)this.requests_[a].cancel();this.requests_.length=0};w.disposeInternal=function(){this.cancelAllQueries_();this.transportProxy_&&this.transportProxy_.dispose()};w.attachAddressBook=function(){this.addressBookCount_++};
w.detachAddressBook=function(){this.addressBookCount_--;0==this.addressBookCount_&&this.cancelAllQueries_()};var zV=function(a,b,d,e){nV.call(this,a,b,d,e)};B(zV,nV);var AV=function(a,b,d){b=b||new pV(!0,!0);nV.call(this,a,b,ez,d)};B(AV,zV);AV.prototype.configure=function(a,b){AV.superClass_.configure.call(this,a,b)};var CV=function(){var a=new sI,b=BV();b.load(ns,function(){a.callback(iE(b.client,Al))});return a},BV=function(){for(var a=window,b=fD(pu,a);!b&&a&&a!=window.top;)a=a.parent,b=fD(pu,a);return E(b,zl)};var DV=function(a,b,d){M.call(this);this.matcher_=a;this.selectionHandler_=d;this.renderer_=b;PF(b,[gv,JA,Wr,Zs],this.handleEvent,!1,this);this.token_=null;this.rows_=[];this.hiliteId_=-1;this.firstRowId_=0;this.dismissTimer_=this.target_=null;this.inputToAnchorMap_={}};B(DV,M);w=DV.prototype;w.maxMatches_=10;w.autoHilite_=!0;w.allowFreeSelect_=!1;w.wrap_=!1;w.triggerSuggestionsOnUpdate_=!1;w.getToken=function(){return this.token_};
w.handleEvent=function(a){var b=this.matcher_;if(a.target==this.renderer_)switch(a.type){case gv:this.hiliteId(a.row);break;case JA:var d=!1;if(lD(a.row)){a=a.row;var e=this.rows_[this.getIndexOfId(a)],d=!!e&&b.isRowDisabled&&b.isRowDisabled(e);e&&!d&&this.hiliteId_!=a&&this.hiliteId(a)}d||this.selectHilited();break;case Wr:this.cancelDelayedDismiss();break;case Zs:this.dismissOnDelay()}};w.setMaxMatches=function(a){this.maxMatches_=a};
w.setToken=function(a,b){this.token_!=a&&(this.token_=a,this.matcher_.requestMatchingRows(this.token_,this.maxMatches_,z(this.matchListener_,this),b),this.cancelDelayedDismiss())};w.setTarget=function(a){this.target_=a};w.isOpen=function(){return this.renderer_.isVisible()};
w.hiliteNext=function(){for(var a=this.firstRowId_+this.rows_.length-1,b=this.hiliteId_,d=0;d<this.rows_.length;d++){if(b>=this.firstRowId_&&b<a)b++;else if(-1==b)b=this.firstRowId_;else if(this.allowFreeSelect_&&b==a){this.hiliteId(-1);break}else if(this.wrap_&&b==a)b=this.firstRowId_;else break;if(this.hiliteId(b))return!0}return!1};
w.hilitePrev=function(){for(var a=this.firstRowId_+this.rows_.length-1,b=this.hiliteId_,d=0;d<this.rows_.length;d++){if(b>this.firstRowId_)b--;else if(this.allowFreeSelect_&&b==this.firstRowId_){this.hiliteId(-1);break}else if(!this.wrap_||-1!=b&&b!=this.firstRowId_)break;else b=a;if(this.hiliteId(b))return!0}return!1};
w.hiliteId=function(a){var b=this.getIndexOfId(a),d=this.rows_[b];return d&&this.matcher_.isRowDisabled&&this.matcher_.isRowDisabled(d)?!1:(this.hiliteId_=a,this.renderer_.hiliteId(a),-1!=b)};
w.selectHilited=function(){var a=this.getIndexOfId(this.hiliteId_);if(-1!=a){var b=this.rows_[a],d=this.selectionHandler_.selectRow(b);this.triggerSuggestionsOnUpdate_?(this.token_=null,this.dismissOnDelay()):this.dismiss();d||(this.dispatchEvent({type:nC,row:b,index:a}),this.triggerSuggestionsOnUpdate_&&this.selectionHandler_.update(!0));return!0}this.dismiss();this.dispatchEvent({type:nC,row:null,index:null});return!1};
w.dismiss=function(){this.hiliteId_=-1;this.token_=null;this.firstRowId_+=this.rows_.length;this.rows_=[];window.clearTimeout(this.dismissTimer_);this.dismissTimer_=null;this.renderer_.dismiss();this.dispatchEvent(nB);this.dispatchEvent(Zs)};w.dismissOnDelay=function(){this.dismissTimer_||(this.dismissTimer_=window.setTimeout(z(this.dismiss,this),100))};w.immediatelyCancelDelayedDismiss_=function(){return this.dismissTimer_?(window.clearTimeout(this.dismissTimer_),this.dismissTimer_=null,!0):!1};
w.cancelDelayedDismiss=function(){this.immediatelyCancelDelayedDismiss_()||window.setTimeout(z(this.immediatelyCancelDelayedDismiss_,this),10)};w.disposeInternal=function(){DV.superClass_.disposeInternal.call(this);delete this.inputToAnchorMap_;this.renderer_.dispose();this.selectionHandler_.dispose();this.matcher_=null};w.matchListener_=function(a,b,d){this.token_==a&&this.renderRows(b,d)};
w.renderRows=function(a,b){var d=iD(b)==uy&&b,e=(d?d.getPreserveHilited():b)?this.getIndexOfId(this.hiliteId_):-1;this.firstRowId_+=this.rows_.length;this.rows_=a;for(var f=[],g=0;g<a.length;++g)f.push({id:this.getIdOfIndex_(g),data:a[g]});g=null;this.target_&&(g=this.inputToAnchorMap_[qD(this.target_)]||this.target_);this.renderer_.setAnchorElement(g);this.renderer_.renderRows(f,this.token_,this.target_);g=this.autoHilite_;d&&void 0!==d.getAutoHilite()&&(g=d.getAutoHilite());this.hiliteId_=-1;(g||
0<=e)&&0!=f.length&&this.token_&&(0<=e?this.hiliteId(this.getIdOfIndex_(e)):this.hiliteNext());this.dispatchEvent(nB)};w.getIndexOfId=function(a){a-=this.firstRowId_;return 0>a||a>=this.rows_.length?-1:a};w.getIdOfIndex_=function(a){return this.firstRowId_+a};w.attachInputs=function(a){var b=this.selectionHandler_;b.attachInputs.apply(b,arguments)};w.update=function(a){this.selectionHandler_.update(a)};var GV=function(a,b){var d=0,e=0;if(EV(a))d=a.selectionStart,e=b?-1:a.selectionEnd;else if(H){var f=FV(a),g=f[0],f=f[1];if(g.inRange(f)){g.setEndPoint($i,f);if(a.type==AB){for(var d=f.duplicate(),m=g.text,e=m,q=f=d.text,u=!1;!u;)0==g.compareEndPoints(vo,g)?u=!0:(g.moveEnd(ds,-1),g.text==m?e+=fa:u=!0);if(b)g=[e.length,-1];else{for(g=!1;!g;)0==d.compareEndPoints(vo,d)?g=!0:(d.moveEnd(ds,-1),d.text==f?q+=fa:g=!0);g=[e.length,e.length+q.length]}return g}d=g.text.length;e=b?-1:g.text.length+f.text.length}}return[d,
e]},FV=function(a){var b=a.ownerDocument||a.document,d=b.selection.createRange();a.type==AB?(b=b.body.createTextRange(),b.moveToElementText(a)):b=a.createTextRange();return[b,d]},HV=function(a,b){a.type==AB&&(b=BD(a.value.substring(0,b)).length);return b},EV=function(a){try{return typeof a.selectionStart==qy}catch(b){return!1}};var IV=function(a,b,d,e){AF.call(this);e=e||150;this.multi_=null!=d?d:!0;this.setSeparators(a||ac);this.literals_=b||c;this.preventSelectionOnTab_=!1;this.preventDefaultOnTab_=this.multi_;this.timer_=0<e?new mI(e):null;this.eh_=new NH(this);this.activateHandler_=new NH(this);this.keyHandler_=new TL;this.lastKeyCode_=-1};B(IV,AF);var JV=(BI||CI)&&!I(Bd);w=IV.prototype;w.whitespaceWrapEntries_=!0;w.generateNewTokenOnLiteral_=!0;w.upsideDown_=!1;w.separatorUpdates_=!0;w.separatorSelects_=!0;
w.activeTimeoutId_=null;w.activeElement_=null;w.lastValue_=c;w.waitingForIme_=!1;w.rowJustSelected_=!1;w.updateDuringTyping_=!0;w.attachAutoComplete=function(a){this.ac_=a};w.getActiveElement=function(){return this.activeElement_};w.getValue=function(){return this.activeElement_.value};w.setValue=function(a){this.activeElement_.value=a};w.getCursorPosition=function(){return GV(this.activeElement_,!0)[0]};
w.setCursorPosition=function(a){var b=this.activeElement_,d=a;if(EV(b))b.selectionStart=d;else if(H){var e=FV(b),f=e[0];f.inRange(e[1])&&(d=HV(b,d),f.collapse(!0),f.move(ds,d),f.select())}b=this.activeElement_;EV(b)?b.selectionEnd=a:H&&(e=FV(b),d=e[1],e[0].inRange(d)&&(a=HV(b,a),b=HV(b,GV(b,!0)[0]),d.collapse(!0),d.moveEnd(ds,a-b),d.select()))};
w.attachInput=function(a){WG(a)&&(bO(a,rs),dO(a,pr,jw));this.eh_.listen(a,bu,this.handleFocus);this.eh_.listen(a,Ar,this.handleBlur);if(!this.activeElement_&&(this.activateHandler_.listen(a,Vv,this.onKeyDownOnInactiveElement_),WG(a))){var b=FG(a);hH(b)==a&&this.processFocus(a)}};
w.detachInput=function(a){WG(a)&&(a.removeAttribute(rA),a.removeAttribute(cO(pr)));a==this.activeElement_&&this.handleBlur();this.eh_.unlisten(a,bu,this.handleFocus);this.eh_.unlisten(a,Ar,this.handleBlur);this.activeElement_||this.activateHandler_.unlisten(a,Vv,this.onKeyDownOnInactiveElement_)};w.attachInputs=function(a){for(var b=0;b<arguments.length;b++)this.attachInput(arguments[b])};w.selectRow=function(a,b){this.activeElement_&&this.setTokenText(a.toString(),b);return!1};
w.setTokenText=function(a,b){if(x(b)?b:this.multi_){var d=this.getTokenIndex_(this.getValue(),this.getCursorPosition()),e=this.splitInput_(this.getValue()),f=a;this.separatorCheck_.test(f)||(f=f.replace(/[\s\xa0]+$/,c)+this.defaultSeparator_);this.whitespaceWrapEntries_&&(0==d||AD(e[d-1])||(f=ga+f),d==e.length-1&&(f+=ga));if(f!=e[d]){e[d]=f;f=this.activeElement_;(iF||H&&I(Gd))&&f.blur();f.value=e.join(c);for(var g=0,m=0;m<=d;m++)g+=e[m].length;f.focus();this.setCursorPosition(g)}}else this.setValue(a);
this.rowJustSelected_=!0};w.disposeInternal=function(){IV.superClass_.disposeInternal.call(this);null!=this.activeTimeoutId_&&window.clearTimeout(this.activeTimeoutId_);this.eh_.dispose();delete this.eh_;this.activateHandler_.dispose();this.keyHandler_.dispose();J(this.timer_)};
w.setSeparators=function(a,b){this.separators_=a;this.defaultSeparator_=null!=b?b:this.separators_.substring(0,1);var d=this.multi_?hq+this.separators_+xq:iq;this.trimmer_=new RegExp(yq+d+ZC+d+ab,mu);this.separatorCheck_=new RegExp(sq+this.separators_+wq)};
w.handleKeyEvent=function(a){switch(a.keyCode){case 40:if(this.ac_.isOpen())return this.moveDown_(),a.preventDefault(),!0;if(!this.multi_)return this.update(!0),a.preventDefault(),!0;break;case 38:if(this.ac_.isOpen())return this.moveUp_(),a.preventDefault(),!0;break;case 9:if(!this.ac_.isOpen()||a.shiftKey||this.preventSelectionOnTab_)this.ac_.dismiss();else if(this.update(),this.ac_.selectHilited()&&this.preventDefaultOnTab_)return a.preventDefault(),!0;break;case 13:if(this.ac_.isOpen()){if(this.update(),
this.ac_.selectHilited())return a.preventDefault(),a.stopPropagation(),!0}else this.ac_.dismiss();break;case 27:if(this.ac_.isOpen())return this.ac_.dismiss(),a.preventDefault(),a.stopPropagation(),!0;break;case 229:if(!this.waitingForIme_)return this.startWaitingForIme_(),!0;break;default:this.timer_&&!this.updateDuringTyping_&&(this.timer_.stop(),this.timer_.start())}return this.handleSeparator_(a)};
w.handleSeparator_=function(a){var b=this.multi_&&a.charCode&&-1!=this.separators_.indexOf(String.fromCharCode(a.charCode));this.separatorUpdates_&&b&&this.update();return this.separatorSelects_&&b&&this.ac_.selectHilited()?(a.preventDefault(),!0):!1};w.handleKeyUp=function(){return!1};
w.addEventHandlers_=function(){this.keyHandler_.attach(this.activeElement_);this.eh_.listen(this.keyHandler_,Uv,this.onKey_);this.eh_.listen(this.activeElement_,Nw,this.onMouseDown_);H&&this.eh_.listen(this.activeElement_,Wv,this.onIeKeyPress_)};
w.removeEventHandlers_=function(){this.eh_.unlisten(this.keyHandler_,Uv,this.onKey_);this.keyHandler_.detach();this.eh_.unlisten(this.activeElement_,Xv,this.handleKeyUp);this.eh_.unlisten(this.activeElement_,Nw,this.onMouseDown_);H&&this.eh_.unlisten(this.activeElement_,Wv,this.onIeKeyPress_);this.waitingForIme_&&this.stopWaitingForIme_()};w.handleFocus=function(a){this.processFocus(a.target||null)};
w.processFocus=function(a){this.activateHandler_.removeAll();this.ac_&&this.ac_.cancelDelayedDismiss();a!=this.activeElement_&&(this.activeElement_=a,this.timer_&&(this.timer_.start(),this.eh_.listen(this.timer_,CB,this.onTick_)),this.lastValue_=this.getValue(),this.addEventHandlers_())};w.handleBlur=function(){JV?this.activeTimeoutId_=window.setTimeout(z(this.processBlur,this),0):this.processBlur()};
w.processBlur=function(){this.activeElement_&&(this.removeEventHandlers_(),this.activeElement_=null,this.timer_&&(this.timer_.stop(),this.eh_.unlisten(this.timer_,CB,this.onTick_)),this.ac_&&this.ac_.dismissOnDelay())};w.onTick_=function(){this.update()};w.onKeyDownOnInactiveElement_=function(a){this.handleFocus(a)};w.onKey_=function(a){this.lastKeyCode_=a.keyCode;this.ac_&&this.handleKeyEvent(a)};w.onKeyPress_=function(){this.waitingForIme_&&229!=this.lastKeyCode_&&this.stopWaitingForIme_()};
w.onKeyUp_=function(a){this.waitingForIme_&&(13==a.keyCode||77==a.keyCode&&a.ctrlKey)&&this.stopWaitingForIme_()};w.onMouseDown_=function(a){this.ac_&&this.handleMouseDown(a)};w.handleMouseDown=function(){};w.startWaitingForIme_=function(){this.waitingForIme_||(this.eh_.listen(this.activeElement_,Xv,this.onKeyUp_),this.eh_.listen(this.activeElement_,Wv,this.onKeyPress_),this.waitingForIme_=!0)};
w.stopWaitingForIme_=function(){this.waitingForIme_&&(this.waitingForIme_=!1,this.eh_.unlisten(this.activeElement_,Wv,this.onKeyPress_),this.eh_.unlisten(this.activeElement_,Xv,this.onKeyUp_))};w.onIeKeyPress_=function(a){this.handleSeparator_(a)};
w.update=function(a){if(this.activeElement_&&(a||this.getValue()!=this.lastValue_)){if(a||!this.rowJustSelected_)a=this.parseToken(),this.ac_&&(this.ac_.setTarget(this.activeElement_),this.ac_.setToken(a,this.getValue()));this.lastValue_=this.getValue()}this.rowJustSelected_=!1};w.parseToken=function(){return this.parseToken_()};w.moveUp_=function(){return this.upsideDown_?this.ac_.hiliteNext():this.ac_.hilitePrev()};w.moveDown_=function(){return this.upsideDown_?this.ac_.hilitePrev():this.ac_.hiliteNext()};
w.parseToken_=function(){var a=this.getCursorPosition(),b=this.getValue();return this.trim_(this.splitInput_(b)[this.getTokenIndex_(b,a)])};w.trim_=function(a){return this.trimmer_?String(a).replace(this.trimmer_,c):a};w.getTokenIndex_=function(a,b){var d=this.splitInput_(a);if(b==a.length)return d.length-1;for(var e=0,f=0,g=0;f<d.length&&g<=b;f++)g+=d[f].length,e=f;return e};
w.splitInput_=function(a){if(!this.multi_)return[a];a=String(a).split(c);for(var b=[],d=[],e=0,f=!1;e<a.length;e++)this.literals_&&-1!=this.literals_.indexOf(a[e])?(this.generateNewTokenOnLiteral_&&!f&&(b.push(d.join(c)),d.length=0),d.push(a[e]),f=!f):f||-1==this.separators_.indexOf(a[e])?d.push(a[e]):(d.push(a[e]),b.push(d.join(c)),d.length=0);b.push(d.join(c));return b};var KV=function(a,b,d,e){M.call(this);this.parent_=a||document.body;this.dom_=GG(this.parent_);this.reposition_=!a;this.element_=null;this.token_=c;this.rows_=[];this.rowDivs_=[];this.startRenderingRows_=this.hilitedRow_=-1;this.visible_=!1;this.className=Nq;this.rowClassName=Pq;this.legacyActiveClassName_=Tq;this.activeClassName=Lq;this.highlightedClassName=Mq;this.customRenderer_=b||null;this.useStandardHighlighting_=null!=e?e:!0;this.matchWordBoundary_=!0;this.highlightAllTokens_=!1;this.rightAlign_=
!!d;this.topAlign_=!1;this.menuFadeDuration_=0;this.showScrollbarsIfTooLarge_=!1};B(KV,M);w=KV.prototype;w.getElement=function(){return this.element_};w.setHighlightAllTokens=function(a){this.highlightAllTokens_=a};w.setAnchorElement=function(a){this.anchorElement_=a};w.renderRows=function(a,b,d){this.token_=b;this.rows_=a;this.hilitedRow_=-1;this.startRenderingRows_=A();this.target_=d;this.rowDivs_=[];this.redraw()};
w.dismiss=function(){this.visible_&&(this.visible_=!1,this.toggleAriaMarkup_(!1),0<this.menuFadeDuration_?(J(this.animation_),this.animation_=new VR(this.element_,this.menuFadeDuration_),this.animation_.play()):T(this.element_,!1))};w.show=function(){this.visible_||(this.visible_=!0,this.toggleAriaMarkup_(!0),0<this.menuFadeDuration_?(J(this.animation_),this.animation_=new WR(this.element_,this.menuFadeDuration_),this.animation_.play()):T(this.element_,!0))};
w.toggleAriaMarkup_=function(a){this.target_&&(dO(this.target_,av,a),dO(E(this.element_),Bt,a),dO(this.target_,Bt,a),a?dO(this.target_,Qy,this.element_.id):(this.target_.removeAttribute(cO(Qy)),eO(this.target_,null)))};w.isVisible=function(){return this.visible_};
w.hiliteRow=function(a){var b=0<=a&&a<this.rows_.length?this.rows_[a]:void 0,d=0<=a&&a<this.rowDivs_.length?this.rowDivs_[a]:void 0;this.dispatchEvent({type:wA,rowNode:d,row:b?b.data:null})&&(this.hiliteNone(),this.hilitedRow_=a,d&&(aL(d,[this.activeClassName,this.legacyActiveClassName_]),this.target_&&eO(this.target_,d),wJ(d,this.element_)))};w.hiliteNone=function(){0<=this.hilitedRow_&&cL(E(this.rowDivs_[this.hilitedRow_]),[this.activeClassName,this.legacyActiveClassName_])};
w.hiliteId=function(a){if(-1==a)this.hiliteRow(-1);else for(var b=0;b<this.rows_.length;b++)if(this.rows_[b].id==a){this.hiliteRow(b);break}};w.setMenuClasses_=function(a){E(a);aL(a,DD(this.className).split(ga))};
w.maybeCreateElement_=function(){if(!this.element_){var a=this.dom_.createDom(k,{style:at});this.showScrollbarsIfTooLarge_&&(a.style.overflowY=or);this.element_=a;this.setMenuClasses_(a);bO(a,kw);a.id=PK.getInstance().getNextUniqueId();this.dom_.appendChild(this.parent_,a);PF(a,ls,this.handleClick_,!1,this);PF(a,Nw,this.handleMouseDown_,!1,this);PF(a,Pw,this.handleMouseOver_,!1,this)}};
w.redraw=function(){this.maybeCreateElement_();this.topAlign_&&(this.element_.style.visibility=dv);this.widthProvider_&&(this.element_.style.minWidth=this.widthProvider_.clientWidth+Iz);this.rowDivs_.length=0;this.dom_.removeChildren(this.element_);if(this.customRenderer_&&this.customRenderer_.render)this.customRenderer_.render(this,this.element_,this.rows_,this.token_);else{var a=null;F(this.rows_,function(b){b=this.renderRowHtml(b,this.token_);this.topAlign_?this.element_.insertBefore(b,a):this.dom_.appendChild(this.element_,
b);a=b},this)}0==this.rows_.length?this.dismiss():(this.show(),this.reposition(),FJ(this.element_,!0))};w.getAnchorCorner=function(){var a=this.rightAlign_?5:1;this.topAlign_&&(a^=1);return a};w.reposition=function(){if(this.target_&&this.reposition_){var a=this.anchorElement_||this.target_,b=this.getAnchorCorner(),d=65;this.showScrollbarsIfTooLarge_&&(this.element_.style.height=c,d|=32);lO(a,b,this.element_,b^1,null,null,d);this.topAlign_&&(this.element_.style.visibility=FC)}};
w.setAutoPosition=function(a){this.reposition_=a};w.disposeInternal=function(){this.element_&&(XF(this.element_,ls,this.handleClick_,!1,this),XF(this.element_,Nw,this.handleMouseDown_,!1,this),XF(this.element_,Pw,this.handleMouseOver_,!1,this),this.dom_.removeNode(this.element_),this.element_=null,this.visible_=!1);J(this.animation_);this.parent_=null;KV.superClass_.disposeInternal.call(this)};w.renderRowContents_=function(a,b,d){YG(d,a.data.toString())};
w.startHiliteMatchingText_=function(a,b){this.wasHighlightedAtLeastOnce_=!1;this.hiliteMatchingText_(a,b)};
w.hiliteMatchingText_=function(a,b){if(this.highlightAllTokens_||!this.wasHighlightedAtLeastOnce_)if(3==a.nodeType){var d=null;jD(b)&&1<b.length&&!this.highlightAllTokens_&&(d=IE(b,1));var e=this.getTokenRegExp_(b);if(0!=e.length){for(var f=a.nodeValue,g=this.matchWordBoundary_?new RegExp(pq+e+Pb,su):new RegExp(e,su),e=[],m=0,q=g.exec(f),u=0;q;)u++,e.push(f.substring(m,q.index)),e.push(f.substring(q.index,g.lastIndex)),m=g.lastIndex,q=g.exec(f);e.push(f.substring(m));if(1<e.length){d=this.highlightAllTokens_?
u:1;for(f=0;f<d;f++)g=2*f,a.nodeValue=e[g],m=this.dom_.createElement(Af),m.className=this.highlightedClassName,this.dom_.appendChild(m,this.dom_.createTextNode(e[g+1])),m=a.parentNode.insertBefore(m,a.nextSibling),a.parentNode.insertBefore(this.dom_.createTextNode(c),m.nextSibling),a=m.nextSibling;e=IE(e,2*d);a.nodeValue=e.join(c);this.wasHighlightedAtLeastOnce_=!0}else d&&this.hiliteMatchingText_(a,d)}}else for(e=a.firstChild;e;)d=e.nextSibling,this.hiliteMatchingText_(e,b),e=d};
w.getTokenRegExp_=function(a){var b=c;if(!a)return b;jD(a)&&(a=sE(a,function(a){return!AD(XD(a))}));this.highlightAllTokens_?jD(a)?b=tE(a,UD).join(ZC):(b=zD(a),b=UD(b),b=b.replace(/ /g,ZC)):jD(a)?b=0<a.length?UD(a[0]):c:/^\W/.test(a)||(b=UD(a));return b};
w.renderRowHtml=function(a,b){var d=this.dom_.createDom(k,{className:this.rowClassName,id:PK.getInstance().getNextUniqueId()});bO(d,Ly);this.customRenderer_&&this.customRenderer_.renderRow?this.customRenderer_.renderRow(a,b,d):this.renderRowContents_(a,b,d);b&&this.useStandardHighlighting_&&this.startHiliteMatchingText_(d,b);U(d,this.rowClassName);this.rowDivs_.push(d);return d};
w.getRowFromEventTarget_=function(a){for(;a&&a!=this.element_&&!$K(a,this.rowClassName);)a=a.parentNode;return a?pE(this.rowDivs_,a):-1};w.handleClick_=function(a){var b=this.getRowFromEventTarget_(a.target);0<=b&&this.dispatchEvent({type:JA,row:this.rows_[b].id});a.stopPropagation()};w.handleMouseDown_=function(a){a.stopPropagation();a.preventDefault()};w.handleMouseOver_=function(a){a=this.getRowFromEventTarget_(a.target);0<=a&&!(300>A()-this.startRenderingRows_)&&this.dispatchEvent({type:gv,row:this.rows_[a].id})};var LV=function(a){a=a||{};return pK(ve+(a.newSection?sa:c)+Xa+qK(a.displayName)+Ud)};LV.soyTemplateName="ppl.ui.autoCompleteRowNoChat";var MV=function(a,b,d,e,f,g,m,q,u,D){g=g||this.createInputHandler_();b=this.createRenderer_(b,m,u,D);DV.call(this,this,b,g);this.inputHandler_=this.selectionHandler_;this.inputHandler_.attachAutoComplete(this);this.contactStore_=a;this.addressBookId_=d;this.filter_=e||null;this.setMaxMatches(f||15);this.ownsContactStore_=!!q};B(MV,DV);
var NV=function(a,b,d,e,f,g,m,q,u,D,N,O,ea,V){e&&(b=b+e+Wc);b=BM(b);var Ka=!!e;e=Ka?new cV:new YU;N?(N=O||CV(),ea=new PU(N,void 0,af,V?Ss:uC,ea)):ea=new wV;V=new AV(ea);b=b||new sM(gd);V.configure(b,Im);e.addAddressBook(V,!0);Ka&&(m=new sV(ea,null,m),m.configure(b,Hi),e.addAddressBook(m,!0));g&&e.loadContactRows(oU,gD);d=new MV(e,d,void 0,u,f,q,D,!0);d.attachInputs(y(a)?document.getElementById(a):a);return d};w=MV.prototype;
w.disposeInternal=function(){this.inputHandler_.dispose();this.contactStore_&&this.ownsContactStore_&&J(this.contactStore_);MV.superClass_.disposeInternal.call(this)};w.fireTimingEvents_=!1;w.inputHandler_=null;w.includeGroups_=!0;w.includeEvergreenData_=!1;w.setIncludeGroups=function(a){this.includeGroups_=a};w.isRowDisabled=function(a){return!!a.rowDisabled};
w.requestMatchingRows=function(a,b,d){this.requestRowsWithQuery({token:a,maxMatches:b,includeContacts:!0,includeGroups:this.includeGroups_,matchType:1,matchFieldList:mU,addressBookId:this.addressBookId_,filter:this.filter_,isAutoCompleteMode:!0,isContactAutoComplete:!!this.returnFullContacts,includeEvergreenData:this.includeEvergreenData_},z(this.handleAutoCompleteContacts_,this,d))};w.handleAutoCompleteContacts_=function(a,b,d,e,f){a(f.token,b)};
w.requestRowsWithQuery=function(a,b){if(a.token&&a.token!=c)this.contactStore_&&(this.currentRequest_&&(this.currentRequest_.cancel(),this.currentRequest_=null),this.maybeFireTimingEvent_(Ef),this.currentRequest_=this.contactStore_.loadContactRows(a,b));else{var d=new XU,e=[];this.filter_&&(e=this.filter_(e,a.token));d.setResponse(tD(b,e,d,null,a))}};w.createRenderer_=function(a,b,d,e){b=new KV(b||null,d||this,e);b.setAutoPosition(!0);b.className=a;b.setHighlightAllTokens(!0);return b};
w.createInputHandler_=function(){return new IV(ac,Ca)};w.renderRows=function(a,b){MV.superClass_.renderRows.call(this,a,b);this.maybeFireTimingEvent_(xh)};w.dismiss=function(){MV.superClass_.dismiss.call(this);this.maybeFireTimingEvent_(Ni)};w.renderRow=function(a,b,d){kK(d,LV,{displayName:a.data.text,newSection:!!(a.data.flags&1)})};w.selectHilited=function(){var a=this.getIndexOfId(this.hiliteId_);return-1!=a&&(a=this.rows_[a],a.specialRowHandler)?(a.specialRowHandler(),!0):MV.superClass_.selectHilited.call(this)};
w.maybeFireTimingEvent_=function(a){this.fireTimingEvents_&&(a=new CF(a),E(HF(this),Ch),this.dispatchEvent(a))};eD("createAutoComplete",NV,void 0);var OV=function(a,b){$L.call(this,b);this.label_=a||c},PV;B(OV,$L);OV.prototype.ffKeyRestoreValue_=null;OV.prototype.labelRestoreDelayMs=10;var QV=function(){null!=PV||(PV=oz in document.createElement(uk));return PV};w=OV.prototype;w.hasFocus_=!1;w.createDom=function(){this.setElementInternal(this.getDomHelper().createDom(uk,{type:xB}))};
w.decorateInternal=function(a){OV.superClass_.decorateInternal.call(this,a);this.label_||(this.label_=a.getAttribute(aw)||c);hH(FG(a))==a&&(this.hasFocus_=!0,a=this.getElement(),E(a),bL(a,this.labelCssClassName));QV()&&(this.getElement().placeholder=this.label_);a=this.getElement();E(a,Yo);dO(a,aw,this.label_)};w.enterDocument=function(){OV.superClass_.enterDocument.call(this);this.attachEvents_();this.check_();this.getElement().labelInput_=this};
w.exitDocument=function(){OV.superClass_.exitDocument.call(this);this.detachEvents_();this.getElement().labelInput_=null};w.attachEvents_=function(){var a=new NH(this);a.listen(this.getElement(),bu,this.handleFocus_);a.listen(this.getElement(),Ar,this.handleBlur_);if(QV())this.eventHandler_=a;else{iF&&a.listen(this.getElement(),[Wv,Vv,Xv],this.handleEscapeKeys_);var b=FG(this.getElement());a.listen(NG(b),nw,this.handleWindowLoad_);this.eventHandler_=a;this.attachEventsToForm_()}};
w.attachEventsToForm_=function(){!this.formAttached_&&this.eventHandler_&&this.getElement().form&&(this.eventHandler_.listen(this.getElement().form,lB,this.handleFormSubmit_),this.formAttached_=!0)};w.detachEvents_=function(){this.eventHandler_&&(this.eventHandler_.dispose(),this.eventHandler_=null)};w.disposeInternal=function(){OV.superClass_.disposeInternal.call(this);this.detachEvents_()};w.labelCssClassName="label-input-label";
w.handleFocus_=function(){this.hasFocus_=!0;var a=this.getElement();E(a);bL(a,this.labelCssClassName);if(!QV()&&!this.hasChanged()&&!this.inFocusAndSelect_){var b=this,a=function(){b.getElement()&&(b.getElement().value=c)};H?nI(a,10):a()}};w.handleBlur_=function(){QV()||(this.eventHandler_.unlisten(this.getElement(),ls,this.handleFocus_),this.ffKeyRestoreValue_=null);this.hasFocus_=!1;this.check_()};
w.handleEscapeKeys_=function(a){27==a.keyCode&&(a.type==Vv?this.ffKeyRestoreValue_=this.getElement().value:a.type==Wv?this.getElement().value=this.ffKeyRestoreValue_:a.type==Xv&&(this.ffKeyRestoreValue_=null),a.preventDefault())};w.handleFormSubmit_=function(){this.hasChanged()||(this.getElement().value=c,nI(this.handleAfterSubmit_,10,this))};w.handleAfterSubmit_=function(){this.hasChanged()||(this.getElement().value=this.label_)};w.handleWindowLoad_=function(){this.check_()};
w.hasChanged=function(){return!!this.getElement()&&this.getElement().value!=c&&this.getElement().value!=this.label_};w.clear=function(){this.getElement().value=c;null!=this.ffKeyRestoreValue_&&(this.ffKeyRestoreValue_=c)};w.reset=function(){this.hasChanged()&&(this.clear(),this.check_())};w.setValue=function(a){null!=this.ffKeyRestoreValue_&&(this.ffKeyRestoreValue_=a);this.getElement().value=a;this.check_()};
w.getValue=function(){return null!=this.ffKeyRestoreValue_?this.ffKeyRestoreValue_:this.hasChanged()?this.getElement().value:c};
w.check_=function(){var a=this.getElement();E(a,Yo);QV()?this.getElement().placeholder!=this.label_&&(this.getElement().placeholder=this.label_):this.attachEventsToForm_();dO(a,aw,this.label_);this.hasChanged()?(a=this.getElement(),E(a),bL(a,this.labelCssClassName)):(this.inFocusAndSelect_||this.hasFocus_||(a=this.getElement(),E(a),U(a,this.labelCssClassName)),QV()||nI(this.restoreLabel_,this.labelRestoreDelayMs,this))};
w.focusAndSelect=function(){var a=this.hasChanged();this.inFocusAndSelect_=!0;this.getElement().focus();a||QV()||(this.getElement().value=this.label_);this.getElement().select();QV()||(this.eventHandler_&&this.eventHandler_.listenOnce(this.getElement(),ls,this.handleFocus_),nI(this.focusAndSelect_,10,this))};w.setEnabled=function(a){this.getElement().disabled=!a;var b=this.getElement();E(b);dL(b,this.labelCssClassName+mc,!a)};w.isEnabled=function(){return!this.getElement().disabled};
w.focusAndSelect_=function(){this.inFocusAndSelect_=!1};w.restoreLabel_=function(){!this.getElement()||this.hasChanged()||this.hasFocus_||(this.getElement().value=this.label_)};var RV=function(a){$L.call(this,a);this.labelInput_=new OV(qp,a);this.addChild(this.labelInput_)};B(RV,$L);w=RV.prototype;w.setAutoCompleteWidget=function(a){this.ac_=a};
w.decorateInternal=function(a){RV.superClass_.decorateInternal.call(this,a);a=this.getDomHelper();U(this.getElement(),Hx);var b=a.createDom(bt,{"class":Kv}),d=a.createDom(Jv,{type:xB,maxlength:rd,size:xd,"class":Ix});iF&&(d.style.MozUserSelect=xB);a.appendChild(b,d);a.appendChild(this.getElement(),b);var e=a.createDom(bt,{"class":cv}),f=a.createDom(bt);a.appendChild(e,f);a.setTextContent(f,$m);a.appendChild(b,e);this.labelInput_.decorate(d)};
w.enterDocument=function(){RV.superClass_.enterDocument.call(this);this.clear()};w.exitDocument=function(){this.labelInput_.getElement()&&this.labelInput_.setValue(c);RV.superClass_.exitDocument.call(this)};w.disposeInternal=function(){J(this.ac_);RV.superClass_.disposeInternal.call(this)};w.grabFocus=function(){nI(function(){try{this.labelInput_.focusAndSelect()}catch(a){}},10,this)};w.setVisible=function(a){a||this.ac_.dismiss();T(this.getElement(),a)};
w.setEnabled=function(a){var b=this.labelInput_.getElement();a?(this.labelInput_.isInDocument()||this.labelInput_.enterDocument(),b.removeAttribute(Ys)):(this.labelInput_.isInDocument()&&this.labelInput_.exitDocument(),b.setAttribute(Ys,Ys))};w.clear=function(){this.labelInput_.getElement()&&this.labelInput_.setValue(c)};var SV=function(a,b,d){this.email_=b||c;this.fullName_=a||c;this.id_=d||c};B(SV,YR);w=SV.prototype;w.getEmail=function(){return this.email_};w.getFullName=function(){return this.fullName_};w.getId=function(){return this.id_};w.getName=function(){return this.getFullName()};w.getPriority=function(){return 0};w.getType=function(){return null};w.isNew=function(){return this.id_==c};w.toString=function(){return this.getFullName()};var TV=function(a,b,d){this.doNewContact_=a;this.input_=b;this.subject_=d};TV.prototype.isValid=function(){return this.doNewContact_||!!this.subject_};var VV=function(a,b,d){RV.call(this,b);this.contactsUrl_=x(d)?d:dd;this.cleanupParent_=a;this.inputHandler_=new UV(z(this.finishSubjectInput_,this));this.newContactStore_=[]};B(VV,RV);w=VV.prototype;w.createDom=function(){VV.superClass_.createDom.call(this);this.decorateInternal(this.getElement())};
w.decorateInternal=function(a){VV.superClass_.decorateInternal.call(this,a);a=NV(this.labelInput_.getElement(),this.contactsUrl_,Oq,void 0,void 0,!0,void 0,this.inputHandler_,z(this.adjustRows_,this),this.getElement(),!0,void 0,void 0,!1);a.setIncludeGroups(!1);a.renderRow=z(this.renderRow,this);this.setAutoCompleteWidget(a)};
w.enterDocument=function(){VV.superClass_.enterDocument.call(this);this.inputHandler_.attachInput(this.labelInput_.getElement());this.getHandler().listen(this.labelInput_.getElement(),Ar,z(this.cleanupAutocomplete_,this,null)).listen(this.getElement(),Nw,this.handleMouseDown_)};w.exitDocument=function(){var a=this.labelInput_.getElement();a&&this.inputHandler_.detachInput(a);this.newContactStore_=null;VV.superClass_.exitDocument.call(this)};
w.handleMouseDown_=function(a){a.stopPropagation();this.grabFocus();a.target!=this.labelInput_.getElement()&&(this.ignoreBlurOnce_=!0)};w.finishSubjectInput_=function(a){var b=null;a&&(b=new TV(a.isNew(),a.isNew()?this.labelInput_.getValue():null,a.isNew()?null:new RR(a.getEmail()||c,a.getFullName()||c,a.getName()||c,a.getId()||c)));this.cleanupAutocomplete_(b)};
w.cleanupAutocomplete_=function(a){this.inCleanupAutocomplete_||this.ignoreBlurOnce_?this.ignoreBlurOnce_=!1:(this.inCleanupAutocomplete_=!0,this.clear(),a&&this.cleanupParent_(a),this.inCleanupAutocomplete_=!1)};
w.adjustRows_=function(a,b){var d=[];if(b)for(var e=UD(b),f=new RegExp(Nb+e,tv),e=new RegExp(yq+e,tv),g=0;g<this.newContactStore_.length;g++)(this.newContactStore_[g].getFullName().match(f)||this.newContactStore_[g].getEmail().match(e))&&d.push(this.newContactStore_[g]);for(g=0;g<a.length;g++)a[g].getId()&&d.push(new SV(a[g].getName(),a[g].getEmail(),a[g].getId()));f=!1;b&&1==d.length&&(f=new RegExp(zq+b+rq,tv),f=f.test(d[0].getName())||f.test(d[0].getEmail()));f||d.push(new SV(b));return d};
w.renderRow=function(a,b,d){var e=a.data,f=c;e.getId()?(b=LD(e.getEmail()),(e=LD(e.getFullName()))&&(f+=Ca+e+Ca),e&&b&&(f+=ga),b&&(f+=wb+b+vb)):f=Ca+LD(b)+Da;d.innerHTML=De+f+ce;U(d,Gx);d.id=Sx+qD(a)};var UV=function(a){IV.call(this,null,null,!1);this.finishCallback_=a};B(UV,IV);UV.prototype.selectRow=function(a){UV.superClass_.selectRow.call(this,a);this.finishCallback_(a);return!1};var WV=function(a,b){this.name_=b||c;this.address=a||c},XV=/\"/g,YV=/\\\"/g,ZV=/\\/g,$V=/\\\\/g,aW=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;w=WV.prototype;w.getName=function(){return this.name_};w.getAddress=function(){return this.address};w.setName=function(a){this.name_=a};w.toString=function(){return this.toStringInternal(Hb)};
w.toStringInternal=function(a){var b=this.getName(),b=b.replace(XV,c);a:{for(var d=0;d<a.length;d++)if(QD(b,a[d])){a=!0;break a}a=!1}a&&(b=Ca+b.replace(ZV,oq)+Ca);return b==c?this.address:this.address==c?b:b+ka+this.address+Ue};w.isValid=function(){return aW.test(this.address)};
var cW=function(a){for(var b=c,d=c,e=0;e<a.length;){var f;f=a.charAt(e);var g='"<(['.indexOf(f);if(-1!=g&&!bW(a,e)){for(var g='">)]'.charAt(g),m=a.indexOf(g,e+1);0<=m&&bW(a,m);)m=a.indexOf(g,m+1);f=0<=m?a.substring(e,m+1):f}f.charAt(0)==Md&&-1!=f.indexOf(Ue)?d=f.substring(1,f.indexOf(Ue)):d==c&&(b+=f);e+=f.length}d==c&&-1!=b.indexOf(Ye)&&(d=b,b=c);b=zD(b);b=PD(b,Db);b=PD(b,Ca);b=b.replace(YV,Ca);b=b.replace($V,mq);d=zD(d);return new WV(d,b)},bW=function(a,b){if(a.charAt(b)!=Ca)return!1;for(var d=
0,e=b-1;0<=e&&a.charAt(e)==mq;e--)d++;return 0!=d%2};var dW=function(){};B(dW,tR);hD(dW);dW.prototype.getContentElement=function(a){return a&&a.firstChild&&a.firstChild.firstChild&&a.firstChild.firstChild.firstChild.lastChild};dW.prototype.createButton=function(a,b){var d=this.getCssClass();return b.createDom(k,Eu+(d+Cc),b.createDom(k,Eu+(d+wc),b.createDom(k,d+Ec,b.createDom(k,d+Jc,bD),b.createDom(k,d+lc,a))))};
dW.prototype.hasBoxStructure=function(a,b){var d=a.getDomHelper().getFirstElementChild(b),e=this.getCssClass()+Cc;return d&&$K(d,e)&&(d=a.getDomHelper().getFirstElementChild(d),e=this.getCssClass()+wc,d&&$K(d,e)&&(d=a.getDomHelper().getFirstElementChild(d),e=this.getCssClass()+Ec,d&&$K(d,e)&&(d=a.getDomHelper().getFirstElementChild(d),e=this.getCssClass()+Jc,d&&$K(d,e)&&(d=a.getDomHelper().getNextElementSibling(d),e=this.getCssClass()+lc,d&&$K(d,e)))))?!0:!1};dW.prototype.getCssClass=function(){return Cu};
uO(Cu,function(){return new sR(null,dW.getInstance())});uO("goog-imageless-toggle-button",function(){var a=new sR(null,dW.getInstance());a.setSupportedState(16,!0);return a});var eW=function(a,b,d){sR.call(this,a,b,d)};B(eW,sR);eW.prototype.handleMouseDown=function(a){eW.superClass_.handleMouseDown.call(this,a);a.stopPropagation()};var fW=function(a,b){$L.call(this,b);this.appContext_=new WI;this.appContext_.registerService(IH,new fJ(this.appContext_,document));this.subjectInput_=a;this.addChild(this.subjectInput_)},gW;B(fW,$L);w=fW.prototype;w.state_=Ev;w.cleanupParent_=gD;
w.setupCreateContactUi_=function(){var a=this.getDomHelper(),b=a.createElement(k),d=a.createElement(k);a.setTextContent(b,Ol);a.setTextContent(d,Ui);this.inputSubjectName_=a.createDom(uk,{"class":Fx,id:Xx+qD(this)});this.inputSubjectEmail_=a.createDom(uk,{"class":Fx,id:Wx+qD(this)});var e=a.createElement(k);this.buttonOk_=new eW(em,dW.getInstance(),a);this.buttonCancel_=new eW(Dh,dW.getInstance(),a);var f=a.createElement(k);S(f,ks,Mr);this.divSubjectCreate_=a.createElement(k);this.divSubjectCreate_.className=
Ex;a.appendChild(this.divSubjectCreate_,this.errorWidget_.getElement());a.appendChild(this.divSubjectCreate_,b);a.appendChild(this.divSubjectCreate_,this.inputSubjectName_);a.appendChild(this.divSubjectCreate_,d);a.appendChild(this.divSubjectCreate_,this.inputSubjectEmail_);a.appendChild(this.divSubjectCreate_,e);a.appendChild(this.divSubjectCreate_,f);a.appendChild(this.getElement(),this.divSubjectCreate_);this.buttonOk_.render(e);this.buttonCancel_.render(e)};
w.handleSelectContact=function(a){this.state_!=Es&&this.deactivate(a)};w.handleCreateContact=function(a,b){this.setState_(Es);!b&&a&&cW(a).isValid()?this.inputSubjectEmail_.value=a||c:a||!b||cW(b).isValid()?(this.inputSubjectName_.value=a||c,this.inputSubjectEmail_.value=b||c):this.inputSubjectName_.value=b||c};w.createDom=function(){fW.superClass_.createDom.call(this);this.decorateInternal(this.getElement())};
w.decorateInternal=function(a){fW.superClass_.decorateInternal.call(this,a);this.getElement().className=Bx;this.errorWidget_=new YO(this.appContext_);this.setupCreateContactUi_();this.subjectInput_.render(this.getElement());this.setState_(Ev)};
w.enterDocument=function(){fW.superClass_.enterDocument.call(this);this.getHandler().listen(this.getElement(),Vv,z(function(a){27==a.keyCode&&this.deactivate();a.stopPropagation()},this));this.getHandler().listen(this.getElement(),[Xv,Wv,ls],function(a){a.stopPropagation()});this.buttonOk_&&this.getHandler().listen(this.buttonOk_,Rq,z(this.handleEndCreate_,this));this.buttonCancel_&&this.getHandler().listen(this.buttonCancel_,Rq,z(this.deactivate,this,null));this.errorWidget_.enterDocument()};
w.exitDocument=function(){this.errorWidget_.exitDocument();fW.superClass_.exitDocument.call(this)};w.disposeInternal=function(){gW=null;J(this.buttonOk_);J(this.buttonCancel_);this.errorWidget_.disposeInternal();J(this.appContext_);fW.superClass_.disposeInternal.call(this)};
w.setState_=function(a){a&&(this.state_=a);switch(this.state_){case Ev:T(this.getElement(),!1);break;case Jv:T(this.getElement(),!0);T(this.subjectInput_.getElement(),!0);T(this.divSubjectCreate_,!1);this.subjectInput_.grabFocus();break;case Es:T(this.getElement(),!0),T(this.subjectInput_.getElement(),!1),T(this.divSubjectCreate_,!0),this.inputSubjectName_.focus()}};
w.deactivate=function(a){this.subjectInput_.clear();this.inputSubjectName_.value=c;this.inputSubjectEmail_.value=c;this.cleanupParent_&&this.cleanupParent_(a);this.cleanupParent_=gD;this.setState_(Ev);S(this.getElement(),KB,0);S(this.getElement(),cw,0);this.owner_=null};w.deactivateIfOwner=function(a,b){this.owner_==a&&this.deactivate(b)};w.activate=function(a,b,d,e,f,g){this.deactivate();this.setState_(Jv);g?this.displayAsInline(a):this.displayAsDialog(a,b,d);this.owner_=f;this.cleanupParent_=e};
w.displayAsDialog=function(a,b,d){bL(this.getElement(),Dx);U(this.getElement(),Cx);a&&this.getDomHelper().appendChild(a,this.getElement());S(this.getElement(),KB,b);S(this.getElement(),cw,d);a=tJ(this.getElement());this.getDomHelper().appendChild(this.getDomHelper().document_.body,this.getElement());S(this.getElement(),KB,a.y+Iz);S(this.getElement(),cw,a.x+Iz)};w.displayAsInline=function(a){a&&this.getDomHelper().appendChild(a,this.getElement());bL(this.getElement(),Cx);U(this.getElement(),Dx)};
w.handleEndCreate_=function(){this.clearError_();var a=this.inputSubjectName_.value,b=this.inputSubjectEmail_.value;a?cW(a).isValid()?(b||(this.inputSubjectEmail_.value=a,this.inputSubjectName_.value=c),this.setError_(Uo)):this.deactivate(new TV(!0,null,new RR(this.inputSubjectEmail_.value,this.inputSubjectName_.value,this.inputSubjectName_.value))):this.setError_(Pm)};w.clearError_=function(){this.errorWidget_.hideNotification()};w.setError_=function(a){a=MN(a,1,-1);this.errorWidget_.showNotification(a)};var hW=function(a,b){fW.call(this,new VV(z(this.handleEndInput_,this),a,b),a)};B(hW,fW);hW.prototype.handleEndInput_=function(a){a&&a.doNewContact_?this.handleCreateContact(a.input_):this.handleSelectContact(a)};var iW=function(){};B(iW,dW);hD(iW);iW.prototype.getCssClass=function(){return yx};var jW=function(a,b,d,e){$L.call(this,e);this.showBox_=x(a)?a:!0;this.isEditable_=x(b)?b:!0;this.showConfirms_=x(d)?d:!0;this.boundSize_=new xG;this.boxUpperLeft_=new xG;this.boxLowerRight_=new xG;this.boxSizeNormalizedPerc_=new xG;this.boxUpperLeftNormalizedPerc_=new xG;gW||(a=new hW(e,void 0),gW||(gW=a),a.isInDocument()||a.render((e?e.document_:document).body))};B(jW,$L);w=jW.prototype;w.faceOwnerPendingMessage_=c;w.createDom=function(){jW.superClass_.createDom.call(this);this.decorateInternal(this.getElement())};
w.decorateInternal=function(a){var b=this.getDomHelper();this.parentElement_=a;this.wrapperBox_=b.createElement(k);this.wrapperBox_.className=Qx;this.divCenterRef_=b.createElement(k);this.divCenterRef_.className=xx;this.aBox_=b.createDom(Ze,{id:Tx+qD(this),"class":dx});this.aRemoveButton_=b.createDom(Ze,{id:Vx+qD(this),"class":vx});this.aBoxBackground_=b.createElement(k);U(this.aBoxBackground_,fx);T(this.aBoxBackground_,!1);this.aBoxBackgroundImage_=b.createElement(tk);this.divTextOuter_=b.createDom(k,
{id:Ux+qD(this),"class":Nx});this.spanTextMiddle_=b.createElement(In);aL(this.spanTextMiddle_,[Mx,Du]);this.isEditable_&&this.showConfirms_&&(this.divConfirmButton_=b.createElement(k),this.divConfirmButton_.innerHTML=xb,this.divConfirmButton_.className=ox,this.divRejectButton_=b.createElement(k),this.divRejectButton_.innerHTML=xb,this.divRejectButton_.className=tx);var d=iW.getInstance(),e=b.createElement(k);e.className=nx;var f=b.createElement(k);f.className=lx;var g=b.createElement(k);aL(g,[mx,
Du]);b.setTextContent(g,qf);e.appendChild(f);e.appendChild(g);this.divApproveButton_=new sR(e,d,b);this.divApproveButton_.addClassName(cx);e=b.createElement(k);e.className=sx;f=b.createElement(k);f.className=qx;g=b.createElement(k);aL(g,[rx,Du]);b.setTextContent(g,zn);e.appendChild(f);e.appendChild(g);this.divDisapproveButton_=new sR(e,d,b);this.divDisapproveButton_.addClassName(cx);this.addChild(this.divApproveButton_);this.addChild(this.divDisapproveButton_);this.spanTextLabel_=b.createDom(In,{"class":Kx});
this.spanTextMessage_=b.createDom(k,{"class":Lx});this.isEditable_&&U(this.aBox_,gx);this.showBox_&&U(this.aBox_,jx);this.fadeAnimation_=new VR(this.divCenterRef_,750,XR);this.fadeAnimation_.show=gD;b.appendChild(this.wrapperBox_,this.divCenterRef_);b.appendChild(this.divCenterRef_,this.aBox_);b.appendChild(this.aBoxBackground_,this.aBoxBackgroundImage_);b.appendChild(this.aBox_,this.aBoxBackground_);b.appendChild(this.aBox_,this.aRemoveButton_);b.appendChild(this.divCenterRef_,this.divTextOuter_);
b.appendChild(this.divTextOuter_,this.spanTextMiddle_);this.divApproveButton_.render(this.spanTextMiddle_);this.divDisapproveButton_.render(this.spanTextMiddle_);this.divConfirmButton_&&this.divRejectButton_&&(b.appendChild(this.spanTextMiddle_,this.divConfirmButton_),b.appendChild(this.spanTextMiddle_,this.divRejectButton_));b.appendChild(this.spanTextMiddle_,this.spanTextLabel_);b.appendChild(this.spanTextMiddle_,this.spanTextMessage_);b.appendChild(a,this.wrapperBox_);this.resize();this.setName(null);
this.show(!1,!0)};w.disposeInternal=function(){jW.superClass_.disposeInternal.call(this);this.wrapperBox_&&this.getDomHelper().removeNode(this.wrapperBox_);this.divRejectButton_=this.divConfirmButton_=this.spanTextMessage_=this.spanTextLabel_=this.spanTextMiddle_=this.divTextOuter_=this.aRemoveButton_=this.aBox_=this.divCenterRef_=this.wrapperBox_=null};
w.enterDocument=function(){jW.superClass_.enterDocument.call(this);this.getHandler().listen(this.spanTextMiddle_,Pw,z(this.handleHover_,this,!0));this.getHandler().listen(this.spanTextMiddle_,Ow,z(this.handleHover_,this,!1));this.getHandler().listen(this.aBox_,Pw,z(this.handleHover_,this,!0));this.getHandler().listen(this.aBox_,Ow,z(this.handleHover_,this,!1));this.divConfirmButton_&&(this.getHandler().listen(this.divConfirmButton_,Pw,z(this.handleHover_,this,!0)),this.getHandler().listen(this.divConfirmButton_,
Ow,z(this.handleHover_,this,!1)));this.divRejectButton_&&(this.getHandler().listen(this.divRejectButton_,Pw,z(this.handleHover_,this,!0)),this.getHandler().listen(this.divRejectButton_,Ow,z(this.handleHover_,this,!1)));this.getHandler().listen(this.wrapperBox_,Pw,z(this.handleWrapperHover_,this,!0));this.getHandler().listen(this.wrapperBox_,Ow,z(this.handleWrapperHover_,this,!1));this.isEditable_&&(this.getHandler().listen(this.aBox_,ls,this.handleClick_),this.getHandler().listen(this.spanTextMiddle_,
ls,this.handleClick_));this.getHandler().listen(this.spanTextMiddle_,ls,this.handleNametagClick_)};w.exitDocument=function(){gW.deactivateIfOwner(this);jW.superClass_.exitDocument.call(this)};w.handleClick_=function(a){this.showEditMode();a.stopPropagation()};
w.showEditMode=function(){if(!(!this.isEditable_||this.isBeingEdited_||this.isApprovable_||this.isSuggestion_&&this.showConfirms_||!this.isSuggestion_&&this.name_)){this.isBeingEdited_=!0;dL(this.aBox_,hx,!0);T(this.divTextOuter_,!1);T(this.aRemoveButton_,!1);var a=1+this.boxUpperLeftNormalizedPerc_.y+this.boxSizeNormalizedPerc_.y,b=this.boxUpperLeftNormalizedPerc_.x,a=uG(a,0,100),b=uG(b,0,100);gW.activate(this.parentElement_,a+cb,b+cb,z(this.handleEndNaming_,this),this)}return this.isBeingEdited_};
w.setShowboxHoverStyle_=function(a){this.aBox_&&dL(this.aBox_,this.isLegacy_?zx:kx,a)};w.handleHover_=function(a,b){this.showBox_&&!this.isApprovalMode()&&this.setShowboxHoverStyle_(a);dL(this.aBox_,ix,a);dL(this.wrapperBox_,Rx,a);b.target==this.divConfirmButton_&&dL(this.divConfirmButton_,px,a);b.target==this.divRejectButton_&&dL(this.divRejectButton_,ux,a);T(this.aBoxBackground_,!1)};w.handleWrapperHover_=function(a){this.isFocused_=a};w.handleNametagClick_=function(a){this.name_&&a.stopPropagation()};
w.handleEndNaming_=function(a){this.dispatchEvent(Xj);this.isBeingEdited_=!1;dL(this.aBox_,hx,!1);T(this.divTextOuter_,!0);T(this.aRemoveButton_,!0);if(a&&a.isValid()&&this.nameFn_){var b=xp+(a.subject_.getName()+Wa),d=z(function(a,d){this.setSuggestion(a);this.setName(d);alert(b)},this,this.isSuggestion_,this.name_);this.setSuggestion(!1);this.setName(a.subject_.getName(),void 0,!1,!0,!1);this.nameFn_(a.subject_,gD,d)}};
w.formatElements_=function(){var a=this.isSuggestion_&&this.showConfirms_,b=this.isPending_&&this.isApprovable_;dL(this.spanTextMiddle_,Px,!this.name_);dL(this.divTextOuter_,Ox,a);dL(this.divTextOuter_,Jx,b);dL(this.wrapperBox_,ex,b);this.divApproveButton_.setVisible(b);this.divDisapproveButton_.setVisible(b);this.isEditable_&&a&&(S(this.divConfirmButton_,$s,a?Hv:iy),S(this.divRejectButton_,$s,a?Hv:iy));T(this.spanTextLabel_,!b);a=b?this.faceOwnerPendingMessage_:c;this.getDomHelper().setTextContent(this.spanTextMessage_,
a);T(this.spanTextMessage_,!!a)};w.resize=function(){this.normalizeDimensions();this.isValid_&&(S(this.wrapperBox_,KB,this.boxUpperLeftNormalizedPerc_.y+cb),S(this.wrapperBox_,cw,this.boxUpperLeftNormalizedPerc_.x+cb),S(this.wrapperBox_,NC,this.boxSizeNormalizedPerc_.x+cb),S(this.wrapperBox_,bv,this.boxSizeNormalizedPerc_.y+cb),this.currentSize_&&pJ(this.aBoxBackground_,this.boxUpperLeftNormalizedPerc_.x/-100*this.currentSize_.width,this.boxUpperLeftNormalizedPerc_.y/-100*this.currentSize_.height))};
w.normalizeDimensions=function(){if(this.isValid_=0<this.boundSize_.x&&0<this.boundSize_.y)this.boxUpperLeftNormalizedPerc_.x=uG(this.boxUpperLeft_.x/this.boundSize_.x*100,0,100),this.boxUpperLeftNormalizedPerc_.y=uG(this.boxUpperLeft_.y/this.boundSize_.y*100,0,100),this.boxSizeNormalizedPerc_.x=uG((this.boxLowerRight_.x-this.boxUpperLeft_.x)/this.boundSize_.x*100,0,100-this.boxUpperLeftNormalizedPerc_.x),this.boxSizeNormalizedPerc_.y=uG((this.boxLowerRight_.y-this.boxUpperLeft_.y)/this.boundSize_.y*
100,0,100-this.boxUpperLeftNormalizedPerc_.y)};w.hasName=function(){return!!this.name_};w.isFocused=function(){return this.isFocused_};w.isApprovalMode=function(){return this.isApprovable_&&this.isPending_};w.setBounds=function(a,b){this.boundSize_.x=a;this.boundSize_.y=b;this.resize()};w.setCurrentSize=function(a){this.currentSize_=a.clone();xJ(this.aBoxBackgroundImage_,this.currentSize_);this.resize()};
w.setCorners=function(a,b,d,e){var f=(a+d)/2;this.boxUpperLeft_.x=this.showBox_?a:f;this.boxUpperLeft_.y=this.showBox_?b:e;this.boxLowerRight_.x=this.showBox_?d:f;this.boxLowerRight_.y=e;this.resize()};w.setImageUrl=function(a){this.backgroundUrl_!=a&&(this.backgroundUrl_=a,this.aBoxBackgroundImage_.src=a)};w.setName=function(a,b,d,e,f){this.name_=a&&LD(a);this.isLegacy_=!!d;this.isPending_=!!e;this.isApprovable_=!!f;b&&(this.link_=LD(b));this.updateUi_()};
w.setFaceOwnerPendingMessage=function(a,b){this.faceOwnerPendingMessage_=a;b||this.updateUi_()};w.updateUi_=function(){T(this.aRemoveButton_,this.isEditable_||this.isApprovable_&&!this.isPending_);var a=c,b=c;this.link_&&(a=je+this.link_+Va,b=Od);a=this.name_?this.isEditable_&&this.isSuggestion_&&this.showConfirms_?Lk+(a+(this.name_+(b+We))):a+this.name_+b:Rh;this.setShowboxHoverStyle_(this.isApprovalMode());dL(this.spanTextMiddle_,Ax,this.isLegacy_);this.spanTextLabel_.innerHTML=a;this.formatElements_()};
w.setSuggestion=function(a){this.isSuggestion_=a;this.updateUi_()};w.setNameFunction=function(a){this.nameFn_=a};w.activateRemoveButton=function(a,b){U(this.aRemoveButton_,wx);this.getHandler().listen(this.aRemoveButton_,ls,z(function(b,e){if(!b||confirm(b))this.dispatchEvent(wk),this.dispose(),a();e.stopPropagation()},this,b))};w.setSuggestionMethods=function(a,b){this.showConfirms_&&(this.getHandler().listen(this.divConfirmButton_,ls,a),this.getHandler().listen(this.divRejectButton_,ls,b))};
w.setApproveCallback=function(a){this.getHandler().listen(this.divApproveButton_.getElement(),ls,z(function(b){this.dispatchEvent(Ej);this.isPending_=!1;this.updateUi_();a();b.stopPropagation()},this))};w.setDisapproveCallback=function(a){this.getHandler().listen(this.divDisapproveButton_.getElement(),ls,z(function(b){this.dispatchEvent(mk);this.dispose();a();b.stopPropagation()},this))};
w.show=function(a,b,d){(a=a&&this.isValid_)||b?(this.fadeAnimation_.stop(!1),S(this.divCenterRef_,Hy,1),T(this.divCenterRef_,a)):this.fadeAnimation_.play(!1);d&&!this.isApprovalMode()&&this.setShowboxHoverStyle_(a)};var kW=function(a){M.call(this);this.element_=a;a=H?du:Ar;this.listenKeyIn_=PF(this.element_,H?cu:bu,this,!H);this.listenKeyOut_=PF(this.element_,a,this,!H)};B(kW,M);kW.prototype.handleEvent=function(a){var b=new EF(a.event_);b.type=a.type==cu||a.type==bu?cu:du;this.dispatchEvent(b)};kW.prototype.disposeInternal=function(){kW.superClass_.disposeInternal.call(this);YF(this.listenKeyIn_);YF(this.listenKeyOut_);delete this.element_};var lW=function(a,b,d){$L.call(this,d);this.hoverCssClass_=this.editorCssClass_=b;this.decorate(a)};B(lW,$L);w=lW.prototype;w.minWidthPx_=50;w.whitespacePolicy_=0;w.hintText_="Edit";w.setHoverCssClass=function(a){this.hoverCssClass_=a;return this};w.setMinWidth=function(a){this.minWidthPx_=a||50;return this};w.setMaxWidth=function(a){(this.maxWidthPx_=a)?S(this.textEl_,Bw,a+Iz):S(this.textEl_,Bw,c);return this};w.setAllowEmptyString=function(a){this.allowEmptyString_=a;return this};
w.setSaveOnBlur=function(a){this.saveOnBlur_=a;return this};w.setHintText=function(a){this.hintText_=a;this.updateDisplayText_();return this};
w.decorateInternal=function(a){var b=this.getDomHelper();this.wrapperEl_=b.createElement(bB);this.textEl_=a;var d=this.textEl_.style;H&&!I(Fd)?(d.whiteSpace=zz,d.wordWrap=Or):d.whiteSpace=iF?xc:Az;b.replaceNode(this.wrapperEl_,a);this.setElementInternal(this.wrapperEl_);this.editor_=b.createDom(Jv,{type:xB});aL(this.editor_,ZK(this.textEl_));U(this.editor_,this.editorCssClass_);this.editor_.value=b.getTextContent(this.textEl_);T(this.editor_,!1);this.textMeasurer_=b.createElement(bB);aL(this.textMeasurer_,
ZK(this.editor_));S(this.textMeasurer_,{border:0,display:iy,padding:0,position:Jq,whiteSpace:zz});b.append(this.wrapperEl_,this.textEl_,this.editor_,this.textMeasurer_);dH(this.textEl_,!0)};
w.enterDocument=function(){lW.superClass_.enterDocument.call(this);this.keyHandler_=new TL(this.editor_);this.inputHandler_=new RO(this.editor_);this.focusHandler_=new kW(this.editor_);this.textFocusHandler_=new kW(this.textEl_);this.getHandler().listen(this.keyHandler_,Uv,this.onKeyEvent_);this.getHandler().listen(this.inputHandler_,Jv,this.onEditorChange_);this.getHandler().listen(this.focusHandler_,du,this.onEditorBlur_);this.getHandler().listen(this.textFocusHandler_,cu,this.showEditor);this.getHandler().listen(this.getElement(),
Pw,this.onElementMouseOver_);this.getHandler().listen(this.getElement(),Ow,this.onElementMouseOut_);this.text_=this.getDomHelper().getTextContent(this.textEl_);this.enabled_=!0;this.updateDisplayText_();this.editor_.value=this.text_};
w.exitDocument=function(){J(this.keyHandler_);this.keyHandler_=null;J(this.inputHandler_);this.inputHandler_=null;J(this.focusHandler_);this.focusHandler_=null;J(this.textFocusHandler_);this.textFocusHandler_=null;this.getHandler().unlisten(this.getElement(),Pw,this.onElementMouseOver_);this.getHandler().unlisten(this.getElement(),Ow,this.onElementMouseOut_);lW.superClass_.exitDocument.call(this)};
w.disposeInternal=function(){dH(this.textEl_,!1);T(this.textEl_,!0);this.getDomHelper().replaceNode(this.textEl_,this.wrapperEl_);this.textMeasurer_=this.textEl_=this.wrapperEl_=this.editor_=null;lW.superClass_.disposeInternal.call(this)};w.setText=function(a){switch(this.whitespacePolicy_){case 0:this.text_=DD(a);break;case 2:this.text_=DD(a).replace(/\xa0|[ \t]+/g,ga);break;default:this.text_=a}this.editor_.value=this.text_;this.updateDisplayText_();this.resizeEditor_(this.text_)};
w.enable=function(){this.isEnabled()||(dH(this.textEl_,!0),this.editor_.disabled=!1,this.enabled_=!0,this.updateDisplayText_())};w.disable=function(){this.isEnabled()&&(this.cancel(),this.editor_.disabled=!0,this.enabled_=!1,this.updateDisplayText_(),dH(this.textEl_,!1))};w.isEnabled=function(){return this.enabled_};w.showEditor=function(){this.isEnabled()&&!this.isEditing_&&(this.resizeEditor_(this.text_),T(this.editor_,!0),T(this.textEl_,!1),this.isEditing_=!0,this.editor_.focus())};
w.save=function(){!this.allowEmptyString_&&!this.editor_.value||this.editor_.value==this.text_?this.cancel():(this.isEditing_=!1,this.setText(this.editor_.value),T(this.editor_,!1),T(this.textEl_,!0),this.dispatchEvent({type:Qk,text:this.text_}))};w.cancel=function(){this.isEditing_&&(this.isEditing_=!1,this.dispatchEvent({type:Ok,text:this.text_}));this.setText(this.text_);T(this.editor_,!1);T(this.textEl_,!0)};
w.updateDisplayText_=function(){var a=this.text_||(this.isEnabled()?this.hintText_:c);this.getDomHelper().setTextContent(this.textEl_,a)};w.resizeEditor_=function(a){this.getDomHelper().setTextContent(this.textMeasurer_,a);a=zJ(this.textMeasurer_).width+1;a=uG(a,this.minWidthPx_,this.maxWidthPx_||Math.max(a,this.minWidthPx_));a!=this.editorWidth_&&(this.editor_.style.width=oJ(a,!0),this.editorWidth_=a)};w.onElementMouseOver_=function(){this.isEnabled()&&U(this.textEl_,this.hoverCssClass_)};
w.onElementMouseOut_=function(){bL(this.textEl_,this.hoverCssClass_)};w.onKeyEvent_=function(a){13==a.keyCode?(a.preventDefault(),this.isEditing_&&this.isEnabled()&&(this.save(),this.blur())):27==a.keyCode?(a.preventDefault(),this.cancel(),this.blur()):!a.charCode||a.ctrlKey||a.metaKey||this.resizeEditor_(this.editor_.value+String.fromCharCode(a.charCode));a.stopPropagation()};w.blur=function(){this.editor_.blur()};w.onEditorChange_=function(){this.resizeEditor_(this.editor_.value)};
w.onEditorBlur_=function(){this.isEditing_&&this.isEnabled()&&(this.saveOnBlur_?this.save():this.cancel())};var mW=function(a){return Ce+qK(a.captionId)+la};mW.soyTemplateName="apps.photos.lightbox.captionwidget.template";var nW=function(a){(a=a.getElementByClass(wg))&&a.focus()};var oW=function(a){TK.call(this,a);this.notificationService_=a.get(KH);this.setWidthFlex(-1);this.setHeightFlex(-1)};B(oW,IN);w=oW.prototype;w.createDom_=function(){oW.superClass_.createDom_.call(this);kK(this.getElement(),mW,{captionId:gw});var a=this.getDomHelper();this.captionEl_=DH(gw,this.getElement());this.editor_=(new pW(this.captionEl_,Og,a)).setHoverCssClass(Qg).setAllowEmptyString(!0).setHintText(ff).setSaveOnBlur(!0);this.applyHintStyle();this.editor_.disable()};
w.enterDocument=function(){oW.superClass_.enterDocument.call(this);this.getHandler().listen(this.editor_,Qk,this.handleEditorSave_)};w.exitDocument=function(){this.getHandler()&&(this.getHandler().unlisten(this.editor_,Qk,this.handleEditorSave_),this.photo_&&this.getHandler().unlisten(this.photo_.getEventTarget(),nt,this.onEditCaption_),this.editor_.exitDocument(),oW.superClass_.exitDocument.call(this))};w.disposeInternal=function(){J(this.editor_);this.captionEl_=null;oW.superClass_.disposeInternal.call(this)};
w.disable=function(){this.editor_.disable()};w.enable=function(){this.editor_.enable()};w.isEnabled=function(){return this.editor_.isEnabled()};w.setPhoto=function(a){this.photo_&&this.getHandler().unlisten(this.photo_.getEventTarget(),nt,this.onEditCaption_);this.photo_=a;this.setText(a.getCaption());this.getHandler().listen(this.photo_.getEventTarget(),nt,this.onEditCaption_)};w.setMaxWidth=function(a){S(this.getElement(),Aw,a+Iz);this.editor_.setMaxWidth(a)};
w.setText=function(a){this.editor_.setText(a);this.applyHintStyle()};w.applyHintStyle=function(){this.editor_.text_?rP(this.captionEl_,Pg):pP(this.captionEl_,Pg)};w.handleEditorSave_=function(a){this.photo_.editCaption(a.text,null);this.applyHintStyle()};w.onEditCaption_=function(a){this.setText(a.target.getCaption())};var pW=function(a,b,d){lW.call(this,a,b,d)};B(pW,lW);pW.prototype.blur=function(){nW(this.getDomHelper())};var qW=function(a,b){HN.call(this,new IN(a));this.thumbEventHandler_=new NH(this);this.fullEventHandler_=new NH(this);this.externalRendererEventHandler_=new NH(this);this.loadedSizes_=new UU(0,!0);this.preloadImgBuffers_=[];for(var d=this.getDomHelper(),e=0;e<this.numPreloadBuffers_;e++)this.preloadImgBuffers_[e]=d.createElement(tk);this.preloadEventHandler_=new NH(this);this.photoEventHandler_=new NH(this);this.abortDelay_=new fP(z(this.abortLoading_,this),300,this);this.nameboxes_=new UU;this.toolbar_=
b||null;this.setHeightFlex(1);this.setMinHeight(330);d=PJ(a);this.editCaptionEnabled_=d.isFeatureEnabled(ot);this.faceRecognitionEnabled_=d.isFeatureEnabled(gu);this.hideShapesEnabled_=d.isFeatureEnabled(jv)};B(qW,HN);var rW=new zG(288,288);qW.prototype.numPreloadBuffers_=4;qW.prototype.preloadsLoading_=0;qW.prototype.abortDeadline_=1E3;qW.prototype.showOverlay_=!1;var sW=[nw,Hq,xt];w=qW.prototype;
w.disposeInternal=function(){qW.superClass_.disposeInternal.call(this);this.thumbEventHandler_.dispose();this.fullEventHandler_.dispose();this.preloadEventHandler_.dispose();this.abortDelay_.dispose();this.loadedSizes_.clear();this.photoEventHandler_.dispose();this.photoEventHandler_=null;this.disposeNameboxes_()};w.createImgElement_=function(){var a=this.getDomHelper().createElement(tk);a.className=Tg;return a};
w.createFooterComponent_=function(){var a=this.getDomHelper(),b=new IN(this.getContext());this.footerEl_=b.getElement();this.footerEl_.className=Sg;this.toolbar_&&b.addChild(this.toolbar_);var d=a.createElement(k);d.className=Vf;a.appendChild(this.footerEl_,d);return b};
w.createDom_=function(){qW.superClass_.createDom_.call(this);var a=this.getDomHelper();U(this.getElement(),Ng);this.previousImg_=this.createImgElement_();this.previousImgContainer_=a.createElement(k);a.appendChild(this.previousImgContainer_,this.previousImg_);a.appendChild(this.wrappedComponent_.getElement(),this.previousImgContainer_);this.previousImgContainer_.className=Ug;this.centeredContainer_=new KN(this.getContext());this.centeredContainer_.setWidthFlex(-1);this.wrappedComponent_.addChild(this.centeredContainer_);
var b=this.centeredContainer_.getElement();b.className=Du;this.onScreenImg_=this.createImgElement_();this.onScreenImgContainer_=a.createElement(k);this.onScreenImgContainer_.className=Du;a.appendChild(this.onScreenImgContainer_,this.onScreenImg_);a.appendChild(b,this.onScreenImgContainer_);this.externalRendererContainer_=a.createElement(k);this.externalRendererContainer_.className=Du;a.appendChild(b,this.externalRendererContainer_);this.centeredContainer_.addChild(this.createFooterComponent_());this.captionWidget_=
new oW(this.getContext());this.wrappedComponent_.addChild(this.captionWidget_);T(this.onScreenImgContainer_,!1);T(this.previousImgContainer_,!1);T(this.externalRendererContainer_,!1)};
w.enterDocument=function(){qW.superClass_.enterDocument.call(this);var a=this.wrappedComponent_.getElement();this.getHandler().listen(a,ls,this.onClick_).listen(a,Nw,this.onMousedown_).listen(this.onScreenImgContainer_,Pw,z(this.showNameboxes,this,!0,!1)).listen(this.onScreenImgContainer_,Ow,z(this.showNameboxes,this,!1,!1))};
w.reset_=function(){this.loadThumb_=!1;this.thumbEventHandler_.removeAll();this.fullEventHandler_.removeAll();this.preloadEventHandler_.removeAll();this.photoEventHandler_.removeAll();this.externalRendererEventHandler_.removeAll();this.abortDelay_.stop();bL(this.onScreenImgContainer_,Rg);bL(this.externalRendererContainer_,Rg);this.fullImgLoaded_=this.thumbImgLoaded_=!1;this.fullSize_=null;this.disposeNameboxes_();nW(this.getDomHelper())};
w.disposeNameboxes_=function(){F(this.nameboxes_.getValues(),function(a){a.dispose()},this);this.nameboxes_.clear()};
w.loadPhoto_=function(){var a=!1,b,d,e=c,f;f=this.getAvailableArea_();var g=this.data_.getMaximumSize();g&&(f.width=Math.min(g.width,f.width),f.height=Math.min(g.height,f.height));var g=this.data_.getOriginalUrl(),m=this.data_.getScaledSize(rW);m?(b=m.getLongest(),e=this.data_.getSizedUrl(rW)):this.loadType_=ju;this.loadThumb_=this.loadType_==BB||this.loadType_==Mr;a=this.loadType_==ju||this.loadType_==Mr;(m=this.data_.getScaledSize(f))?(d=m.getLongest(),f=this.data_.getSizedUrl(f)):f=g;e=this.setPreviewOptions_(e);
f=this.setPreviewOptions_(f);e==f&&(this.loadType_=ju,this.loadThumb_=!1,a=!0);var q=this.loadedSizes_.get(g);q||(q=[],this.loadedSizes_.set(g,q));this.loadType_==Tr&&(0<q.length&&b&&q[q.length-1]!=b&&(b=q[q.length-1],e=this.data_.getSizedUrl(new zG(b,b))),this.loadThumb_=!0);this.loadStart_=A();if(this.loadThumb_){0==q.length&&(OE(q,b),this.loadedSizes_.set(g,q));var u=this.createImgElement_();q[q.length-1]==b&&(this.thumbEventHandler_.listen(u,sW,z(this.thumbLoaded_,this,g,u,m)),u.src=e)}a&&(d&&
(OE(q,d),this.loadedSizes_.set(g,q)),b=this.createImgElement_(),this.fullEventHandler_.listen(b,sW,z(this.fullLoaded_,this,g,b,m)),b.src=f);this.photoEventHandler_.listen(this.data_.getEventTarget(),[It,nu,Zu,xv,Sy],z(function(a){this.updateShapes(a.shapeId)},this))};
w.loadExternalRenderer=function(a){this.externalRenderer_||(this.externalRenderer_=a,T(this.externalRendererContainer_,!1),a=this.getAvailableArea_(),this.externalRenderer_.setMaxSize(a),this.externalRenderer_.render(this.externalRendererContainer_),this.externalRendererEventHandler_.listen(this.externalRenderer_,Fn,z(this.rendererLoaded_,this)))};
w.setData=function(a,b){this.reset_();this.data_=a;this.loadType_=b;var d=a.createRenderer();d?(J(this.externalRenderer_),this.externalRenderer_=null,this.loadExternalRenderer(d)):this.loadPhoto_()};w.getData=function(){return this.data_};w.getAvailableArea_=function(){var a=zJ(this.getElement()),b=a.width-30,a=a.height-10-GJ(this.footerEl_).height-GJ(this.captionWidget_.getElement()).height;return new zG(Math.max(b,330),Math.max(a,330))};
w.fitsInside_=function(a,b){return a.width<b.width&&a.height<b.height};w.getScaledSize_=function(){var a=this.getAvailableArea_(),b=this.fullSize_||this.data_.getScaledSize(a);this.fitsInside_(b,a)||(b=b.clone().scaleToFit(a));return b};w.setPreviewOptions_=function(a){if(this.data_.getPhoto().getVideoInfo()){var b=LP.parse(a).getOptions()+zc;a=(new KP(a)).setOptions(b).build()}return a};
w.useBufferOnScreen_=function(a,b){J(this.externalRenderer_);this.externalRenderer_=null;var d=this.onScreenUrl_!=a;if(d){var e=zJ(this.onScreenImg_);xJ(this.previousImg_,e);this.setPreviousImgPosition_(this.previousImgContainer_,e)}this.getDomHelper().replaceNode(b,this.onScreenImg_);d&&this.getDomHelper().replaceNode(this.onScreenImg_,this.previousImg_);e=this.getScaledSize_();xJ(b,e);this.setOnScreenPosition_(this.onScreenImgContainer_,e);d&&(this.previousImg_=this.onScreenImg_);this.onScreenImg_=
b;this.onScreenUrl_=a};w.afterImageLoaded_=function(a){this.dispatchEvent(a);T(this.previousImgContainer_,!1)};
w.thumbLoaded_=function(a,b,d,e){var f=A()-this.loadStart_;this.thumbImgLoaded_=!0;this.fullSize_=d;(d=this.loadType_==BB||this.loadType_==Tr)&&this.fullEventHandler_.removeAll();this.thumbEventHandler_.removeAll();T(this.onScreenImgContainer_,!0);T(this.previousImgContainer_,!0);T(this.externalRendererContainer_,!1);this.updateCaption();this.useBufferOnScreen_(a,b);this.updateShapes();a=e.type!=nw;dL(this.onScreenImgContainer_,Rg,a);this.abortDelay_.stop();this.aborting_=!1;this.afterImageLoaded_(new tW(d?
pl:Vk,f,d,a))};
w.fullLoaded_=function(a,b,d,e){var f=A()-this.loadStart_;this.thumbEventHandler_.removeAll();this.fullEventHandler_.removeAll();this.fullImgLoaded_=!0;e=e.type!=nw;this.fullSize_=d;e&&this.loadThumb_&&this.thumbImgLoaded_||(this.fullSize_||(this.fullSize_=new zG(b.width,b.height)),T(this.onScreenImgContainer_,!0),T(this.previousImgContainer_,!0),T(this.externalRendererContainer_,!1),this.updateCaption(),this.useBufferOnScreen_(a,b),this.nameboxes_.isEmpty()?this.updateShapes():this.onScreenUrl_&&F(this.nameboxes_.getValues(),
function(a){a.setImageUrl(this.onScreenUrl_)},this));dL(this.onScreenImgContainer_,Rg,e);this.abortDelay_.stop();this.aborting_=!1;this.afterImageLoaded_(new tW(pl,f,!0,e))};
w.rendererLoaded_=function(a){var b=A()-this.loadStart_;this.thumbEventHandler_.removeAll();this.fullEventHandler_.removeAll();this.updateCaption();this.setOnScreenPosition_(this.externalRendererContainer_,this.externalRenderer_.getDisplaySize());T(this.onScreenImgContainer_,!1);T(this.externalRendererContainer_,!0);a=a.type!=Fn;dL(this.externalRendererContainer_,Rg,a);this.dispatchEvent(new tW(pl,b,!0,a))};
w.stopAfterFirstLoaded=function(){if(this.data_){var a=this.loadType_;if(this.thumbImgLoaded_&&!this.fullImgLoaded_){if(a==ju||a==Mr)this.fullEventHandler_.removeAll(),this.thumbEventHandler_.removeAll(),a=A()-this.loadStart_,this.loadType_=BB,this.abortDelay_.stop(),this.aborting_=!1,nI(z(this.dispatchEvent,this,new tW(pl,a,!0,!1)),0,this)}else this.aborting_||(this.aborting_=!0,a=A()-this.loadStart_,this.abortDelay_.start(Math.max(0,this.abortDeadline_-a)))}};
w.abortLoading_=function(){this.fullEventHandler_.removeAll();this.thumbEventHandler_.removeAll();var a=A()-this.loadStart_;this.loadType_=BB;this.abortDelay_.stop();this.aborting_=!1;this.dispatchEvent(new tW(pl,a,!0,!1))};w.updateOnScreenImageSizeAndPosition_=function(a){if(this.onScreenImg_&&this.onScreenImg_.src){var b=this.updateImageSize_(a,this.onScreenImg_,this.fullSize_);this.setOnScreenPosition_(this.onScreenImgContainer_,b);F(this.nameboxes_.getValues(),function(a){a.setCurrentSize(b)})}};
w.updateImageSize_=function(a,b,d){var e=zJ(b);this.fitsInside_(e,a)?d&&(e=d,d.fitsInside(a)||(e=d.clone().scaleToFit(a).round()),xJ(b,e),e=zJ(b)):(e=e.scaleToFit(a).round(),xJ(b,e),e=zJ(b));return e};w.updateLayout=function(a,b,d){qW.superClass_.updateLayout.call(this,a,b,d);a=this.getAvailableArea_();this.updateOnScreenImageSizeAndPosition_(a);this.previousImg_&&this.previousImg_.src&&(a=this.updateImageSize_(a,this.previousImg_),this.setPreviousImgPosition_(this.previousImgContainer_,a))};
w.setCaptionHorizontalPosition_=function(a,b){S(this.captionWidget_.getElement(),ww,jd);S(this.captionWidget_.getElement(),xw,jd);this.captionWidget_.setMaxWidth(Math.max(b,330));var d=zJ(this.captionWidget_.getElement()).width,d=(a+30-d)/2;S(this.captionWidget_.getElement(),ww,d+Iz);S(this.captionWidget_.getElement(),xw,d+Iz)};w.getMarginsForCentering_=function(a,b){return new zG(Math.floor((a.width+30-b.width)/2),Math.floor((a.height+10-b.height)/2))};
w.setPreviousImgPosition_=function(a,b){var d=this.getAvailableArea_(),d=this.getMarginsForCentering_(d,b);S(a,ww,d.width+Iz);S(a,yw,d.height+Iz)};w.setOnScreenPosition_=function(a,b){var d=this.getAvailableArea_();this.setCaptionHorizontalPosition_(d.width,b.width);S(a,yw,this.getMarginsForCentering_(d,b).height+Iz)};
w.preload=function(a){this.preloadEventHandler_.removeAll();this.preloadsLoading_=0;this.preloadStart_=A();for(var b=Math.min(this.preloadImgBuffers_.length,a.length),d=0;d<b;d++){var e=a[d],f=e.getOriginalUrl(),g=this.getAvailableArea_(),m=e.getScaledSize(g),q;m&&(q=m.getLongest());m=this.loadedSizes_.get(f)||[];g=e.getSizedUrl(g);this.preloadsLoading_++;0<=LE(m,ME,!1,q)?nI(z(this.preloadLoaded_,this,e),50,this):(q&&OE(m,q),this.loadedSizes_.set(f,m),this.preloadEventHandler_.listen(this.preloadImgBuffers_[d],
sW,z(this.preloadLoaded_,this,e)),this.preloadImgBuffers_[d].src=this.setPreviewOptions_(g))}};w.preloadLoaded_=function(){this.preloadsLoading_--;if(0>=this.preloadsLoading_){this.preloadsLoading_=0;var a=A()-this.preloadStart_;this.dispatchEvent(new tW(Il,a,!0,!1))}};
w.updateCaption=function(){var a;if(a=this.data_.getCaption()){a=LD(a);a=BD(a);a=a.replace(/\n\n+/g,ca).replace(/\n/g,ke);if(!(10>a.length)){for(var b=[],d=0,e=0,f=0,g=0,m=0;m<a.length;m++){var q=g,g=a.charCodeAt(m),u;if(u=768<=g)u=g,q=XJ(q),u=XJ(u),u=!((12==q&&13==u?0:1==q||12==q||13==q||1==u||12==u||13==u||(7!=q||7!=u&&8!=u&&10!=u&&11!=u)&&(10!=q&&8!=q||8!=u&&9!=u)&&(11!=q&&9!=q||9!=u)&&2!=u&&6!=u&&(6!=q||5!=u))&&3!=q&&4!=u);q=u;10<=d&&!$J(g)&&!q&&(b.push(a.substring(f,m),bK),f=m,d=0);e?62==g&&
60==e?e=0:59==g&&38==e&&(e=0,d++):60==g||38==g?e=g:$J(g)?d=0:8204<=g&&8207>=g||8234<=g&&8238>=g||d++}b.push(a.substr(f));a=b.join(c)}H&&I(Fd)&&(a=a.replace(/<wbr>/g,Ne))}else a=c;this.data_.getPhoto().getCanEdit()&&this.editCaptionEnabled_?this.captionWidget_.enable():this.captionWidget_.disable();this.captionWidget_.setPhoto(this.data_);a||this.captionWidget_.isEnabled()?(T(this.captionWidget_.getElement(),!0),a=zJ(this.onScreenImg_),b=this.getAvailableArea_(),this.setCaptionHorizontalPosition_(b.width,
a.width),this.updateOnScreenImageSizeAndPosition_(b)):T(this.captionWidget_.getElement(),!1)};w.showNameboxes=function(a,b){var d=!!yE(this.nameboxes_.getValues(),function(a){return a.isFocused()&&!a.isApprovalMode()});F(this.nameboxes_.getValues(),function(e){e.show(!this.showOverlay_&&a&&(b||d||!this.hideShapesEnabled_||e.isApprovalMode()))},this);this.showingNameboxes_=a};
w.createNamebox_=function(a){var b=a.getStatus(),d=4==b,e=!!a.getCanApprove();if(this.data_.canShowShape(a)){var f=a.getId(),g=new jW(!0,!!this.data_.getPhoto().getCanTag(),this.faceRecognitionEnabled_,this.getDomHelper());this.nameboxes_.set(f,g);g.render(this.onScreenImgContainer_);var m=this.data_.getPhoto().getOriginal();g.setBounds(m.getWidth()||0,m.getHeight()||0);m=this.getScaledSize_();g.setCurrentSize(m);g.setCorners(a.getUpperLeftX(),a.getUpperLeftY(),a.getLowerRightX(),a.getLowerRightY());
g.setImageUrl(this.onScreenImg_.src);g.setNameFunction(z(this.data_.createNametag,this.data_,f));g.setFaceOwnerPendingMessage(hp,!0);a.getCanEdit()?g.activateRemoveButton(z(this.data_.deleteNametag,this.data_,f),tf):e&&g.activateRemoveButton(z(this.data_.approveNametag,this.data_,f,!1),tf);if(a=a.getPersonList()[0])this.faceRecognitionEnabled_&&7==b&&(g.setSuggestionMethods(z(this.confirmNametag_,this,g,f,a,!0),z(this.confirmNametag_,this,g,f,a,!1)),g.setSuggestion(!0)),g.setName(a.getDisplayname(),
a.getProfileUrl()||void 0,!1,d,e),g.isApprovalMode()&&(g.setApproveCallback(z(this.data_.approveNametag,this.data_,f,!0)),g.setDisapproveCallback(z(this.data_.approveNametag,this.data_,f,!1)));g.show(!this.hideShapesEnabled_||g.isApprovalMode());this.getHandler().listen(g,[Ej,Xj,mk,wk],z(function(a){a.type!=wk&&a.type!=mk||this.nameboxes_.remove(f);nW(this.getDomHelper())},this));return g}return null};
w.updateShapes=function(a){if(!this.data_.isSoftDeleted())if(a){var b=this.nameboxes_.get(a);b&&(this.nameboxes_.remove(a),b.dispose());b=this.data_.getPhoto().getShapeList();if(b=yE(b,function(b){return b.getId()==a}))b=this.createNamebox_(b),this.showingNameboxes_&&b.show(!0)}else this.disposeNameboxes_(),F(this.data_.getPhoto().getShapeList(),function(a){this.createNamebox_(a)},this)};
w.confirmNametag_=function(a,b,d,e){a=d.getEmail()||c;var f=d.getDisplayname()||c,g=d.getContactId()||void 0;d=d.getId()||void 0;e?this.data_.createNametag(b,new RR(a,f,f,g,d)):this.data_.rejectNametag(b,new RR(a,f,f,g,d))};w.onMousedown_=function(a){a.isButton(0)&&a.target==this.onScreenImg_&&this.dispatchEvent(Rq)};w.onClick_=function(a){var b=[this.centeredContainer_.getElement(),this.wrappedComponent_.getElement(),this.captionWidget_.getElement(),this.footerEl_];AE(b,a.target)||a.stopPropagation()};
var tW=function(a,b,d,e){CF.call(this,a);this.complete=d;this.error=e};B(tW,CF);var uW=function(a){HN.call(this,new IN(a));this.userNode_=a.get(GH).getRootNode().getChild(qC);this.contentPolicyLink_=qv+(this.userNode_.getValue(Yv)||st)+Xc};B(uW,HN);w=uW.prototype;w.createDom=function(){uW.superClass_.createDom.call(this);this.getDomHelper();this.wrappedComponent_.getElement().innerHTML=re};w.enterDocument=function(){uW.superClass_.enterDocument.call(this);this.getHandler().listenWithWrapper(this.wrappedComponent_.getElement(),gO,this.handleAction_)};
w.handleAction_=function(a){AE(oP(a.target),Wg)&&this.setDisplay(!1);a.stopPropagation()};w.updateDialog_=function(){var a;a=2==this.photo_.getPhoto().getSoftDeleteAppealStatus()?se+(je+qK(this.contentPolicyLink_)+Qa):te;this.getDomHelper().getElementByClass(Xg,this.wrappedComponent_.getElement()).innerHTML=a};w.setPhoto=function(a){this.photo_=a;var b=this.photo_.getEventTarget();this.getHandler().unlisten(b,Tv,this.updateDialog_).listen(b,Tv,this.updateDialog_);this.updateDialog_();this.setDisplay(!!a.getPhoto().getIsSoftDeleted())};
w.updateLayout=function(a,b,d){uW.superClass_.updateLayout.call(this,a,b,d);b=this.getDomHelper().getElementByClass(Vg,this.wrappedComponent_.getElement());d=zJ(b);a=-d.width/2;d=-d.height/2;S(b,ww,a+Iz);S(b,yw,d+Iz);b=this.getDomHelper().getElementByClass(Wg,this.wrappedComponent_.getElement());zJ(b);S(b,xw,a+15+Iz);S(b,yw,d+15+Iz)};var vW=function(){};B(vW,tR);hD(vW);w=vW.prototype;w.getContentElement=function(a){return vW.superClass_.getContentElement.call(this,a&&a.firstChild)};w.decorate=function(a,b){var d=HG(document,Vb,Fu,b)[0];if(d){T(d,!1);FG(d).body.appendChild(d);var e=new PO;e.decorate(d);a.setMenu(e)}return vW.superClass_.decorate.call(this,a,b)};w.createButton=function(a,b){return vW.superClass_.createButton.call(this,[this.createCaption(a,b),this.createDropdown(b)],b)};
w.createCaption=function(a,b){return b.createDom(k,Eu+(this.getCssClass()+ic),a)};w.createDropdown=function(a){return a.createDom(k,Eu+(this.getCssClass()+nc),bD)};w.getCssClass=function(){return Gu};var wW=function(a,b,d,e,f){sR.call(this,a,d||vW.getInstance(),e);this.setSupportedState(64,!0);this.menuPosition_=new qO(null,9);b&&this.setMenu(b);this.menuMargin_=null;this.timer_=new mI(500);!BI&&!CI||I(Bd)||this.setFocusablePopupMenu(!0);this.menuRenderer_=f||OO.getInstance()};B(wW,sR);w=wW.prototype;w.isFocusablePopupMenu_=!1;w.renderMenuAsSibling_=!1;w.selectFirstOnEnterOrSpace_=!1;
w.enterDocument=function(){wW.superClass_.enterDocument.call(this);this.attachKeyDownEventListener_(!0);this.menu_&&this.attachMenuEventListeners_(this.menu_,!0);dO(this.getElementStrict(),av,!!this.menu_)};w.exitDocument=function(){wW.superClass_.exitDocument.call(this);this.attachKeyDownEventListener_(!1);if(this.menu_){this.setOpen(!1);this.menu_.exitDocument();this.attachMenuEventListeners_(this.menu_,!1);var a=this.menu_.getElement();a&&SG(a)}};
w.disposeInternal=function(){wW.superClass_.disposeInternal.call(this);this.menu_&&(this.menu_.dispose(),delete this.menu_);delete this.positionElement_;this.timer_.dispose()};w.handleMouseDown=function(a){wW.superClass_.handleMouseDown.call(this,a);this.isActive()&&(this.setOpen(!this.isOpen(),a),this.menu_&&this.menu_.setMouseButtonPressed(this.isOpen()))};w.handleMouseUp=function(a){wW.superClass_.handleMouseUp.call(this,a);this.menu_&&!this.isActive()&&this.menu_.setMouseButtonPressed(!1)};
w.performActionInternal=function(){this.setActive(!1);return!0};w.handleDocumentMouseDown=function(a){this.menu_&&this.menu_.isVisible()&&!this.containsElement(a.target)&&this.setOpen(!1)};w.containsElement=function(a){return a&&XG(this.getElement(),a)||this.menu_&&this.menu_.containsElement(a)||!1};
w.handleKeyEventInternal=function(a){if(32==a.keyCode){if(a.preventDefault(),a.type!=Xv)return!0}else if(a.type!=Uv)return!1;if(this.menu_&&this.menu_.isVisible()){var b=13==a.keyCode||32==a.keyCode,d=this.menu_.handleKeyEvent(a);return 27==a.keyCode||b?(this.setOpen(!1),!0):d}return 40==a.keyCode||38==a.keyCode||32==a.keyCode||13==a.keyCode?(this.setOpen(!0,a),!0):!1};w.handleMenuAction=function(){this.setOpen(!1)};w.handleMenuBlur=function(){this.isActive()||this.setOpen(!1)};
w.handleBlur=function(a){this.isFocusablePopupMenu_||this.setOpen(!1);wW.superClass_.handleBlur.call(this,a)};w.getMenu=function(){this.menu_||this.setMenu(new PO(this.getDomHelper(),this.menuRenderer_));return this.menu_||null};
w.setMenu=function(a){var b=this.menu_;a!=b&&(b&&(this.setOpen(!1),this.isInDocument()&&this.attachMenuEventListeners_(b,!1),delete this.menu_),this.isInDocument()&&dO(this.getElementStrict(),av,!!a),a&&(this.menu_=a,a.setParent(this),a.setVisible(!1),a.setAllowAutoFocus(this.isFocusablePopupMenu_),this.isInDocument()&&this.attachMenuEventListeners_(a,!0)));return b};w.setPositionElement=function(a){this.positionElement_=a;this.positionMenu()};
w.removeItem=function(a){(a=this.getMenu().removeChild(a,!0))&&a.dispose()};w.getItemCount=function(){return this.menu_?this.menu_.getChildCount():0};w.setVisible=function(a,b){var d=wW.superClass_.setVisible.call(this,a,b);d&&!this.isVisible()&&this.setOpen(!1);return d};w.setEnabled=function(a){wW.superClass_.setEnabled.call(this,a);this.isEnabled()||this.setOpen(!1)};w.isScrollOnOverflow=function(){return this.menuPosition_.getLastResortOverflow&&!!(this.menuPosition_.lastResortOverflow_&32)};
w.setFocusablePopupMenu=function(a){this.isFocusablePopupMenu_=a};w.showMenu=function(){this.setOpen(!0)};
w.setOpen=function(a,b){wW.superClass_.setOpen.call(this,a);if(this.menu_&&this.hasState(64)==a){if(a){if(!this.menu_.isInDocument())if(this.renderMenuAsSibling_){var d=VG(this.getElement());d?this.menu_.renderBefore(d):this.menu_.render(this.getElement().parentNode)}else this.menu_.render();this.viewportBox_=uJ(this.getElement());this.buttonRect_=AJ(this.getElement());this.positionMenu();d=!!b&&(13==b.keyCode||32==b.keyCode);b&&(40==b.keyCode||38==b.keyCode)||d&&this.selectFirstOnEnterOrSpace_?this.menu_.highlightFirst():
this.menu_.setHighlightedIndex(-1)}else{this.setActive(!1);this.menu_.setMouseButtonPressed(!1);if(d=this.getElement())dO(d,Uq,c),dO(d,Qy,c);null!=this.originalSize_&&(this.originalSize_=void 0,(d=this.menu_.getElement())&&xJ(d,c,c))}this.menu_.setVisible(a,!1,b);this.isDisposed()||this.attachPopupListeners_(a)}this.menu_&&this.menu_.getElement()&&this.menu_.getElementStrict().removeAttribute(cO(dv))};
w.positionMenu=function(){if(this.menu_.isInDocument()){var a=this.positionElement_||this.getElement(),b=this.menuPosition_;this.menuPosition_.element=a;a=this.menu_.getElement();this.menu_.isVisible()||(a.style.visibility=dv,T(a,!0));!this.originalSize_&&this.isScrollOnOverflow()&&(this.originalSize_=zJ(a));b.reposition(a,b.corner^1,this.menuMargin_,this.originalSize_);this.menu_.isVisible()||(T(a,!1),a.style.visibility=FC)}};
w.onTick_=function(){var a=AJ(this.getElement()),b=uJ(this.getElement()),d;d=this.buttonRect_;(d=!(d==a||d&&a&&d.left==a.left&&d.width==a.width&&d.top==a.top&&d.height==a.height))||(d=this.viewportBox_,d=!(d==b||d&&b&&d.top==b.top&&d.right==b.right&&d.bottom==b.bottom&&d.left==b.left));d&&(this.buttonRect_=a,this.viewportBox_=b,this.positionMenu())};
w.attachMenuEventListeners_=function(a,b){var d=this.getHandler(),e=b?d.listen:d.unlisten;e.call(d,a,Rq,this.handleMenuAction);e.call(d,a,os,this.handleCloseItem);e.call(d,a,fv,this.handleHighlightItem);e.call(d,a,gC,this.handleUnHighlightItem)};w.attachKeyDownEventListener_=function(a){var b=this.getHandler();(a?b.listen:b.unlisten).call(b,this.getElement(),Vv,this.handleKeyDownEvent_)};w.handleHighlightItem=function(a){(a=a.target.getElement())&&this.setAriaActiveDescendant_(a)};
w.handleKeyDownEvent_=function(a){this.isSupportedState(32)&&this.getKeyEventTarget()&&this.menu_&&this.menu_.isVisible()&&a.stopPropagation()};w.handleUnHighlightItem=function(){if(!this.menu_.getHighlighted()){var a=this.getElement();E(a,$o);dO(a,Uq,c);dO(a,Qy,c)}};w.handleCloseItem=function(a){if(this.isOpen()&&a.target instanceof LO){a=a.target;var b=a.getElement();a.isVisible()&&a.isHighlighted()&&null!=b&&this.setAriaActiveDescendant_(b)}};
w.setAriaActiveDescendant_=function(a){var b=this.getElement();E(b,$o);var d;d=a.getAttribute(cO(Uq));d=null==d||void 0==d?c:String(d);a=FG(a).getElementById(d)||a;a.id||(d=PK.getInstance(),a.id=d.getNextUniqueId());eO(b,a);dO(b,Qy,a.id)};
w.attachPopupListeners_=function(a){var b=this.getHandler(),d=a?b.listen:b.unlisten;d.call(b,this.getDomHelper().document_,Nw,this.handleDocumentMouseDown,!0);this.isFocusablePopupMenu_&&d.call(b,this.menu_,Ar,this.handleMenuBlur);d.call(b,this.timer_,CB,this.onTick_);a?this.timer_.start():this.timer_.stop()};uO(Gu,function(){return new wW(null)});var xW=function(){};B(xW,vW);hD(xW);w=xW.prototype;w.getContentElement=function(a){return a?HG(document,Vb,this.getCssClass()+ic,a)[0]:null};w.canDecorate=function(a){return a.tagName==k};w.createButton=function(a,b){var d=this.getCssClass();return b.createDom(k,Eu+(d+Cc),b.createDom(k,Eu+(d+wc),b.createDom(k,d+Ec,b.createDom(k,d+Jc,bD),b.createDom(k,[d+lc,d+ic,Du],a),b.createDom(k,[d+nc,Du]))))};
w.hasBoxStructure=function(a,b){var d=a.getDomHelper().getFirstElementChild(b),e=this.getCssClass()+Cc;return d&&$K(d,e)&&(d=a.getDomHelper().getFirstElementChild(d),e=this.getCssClass()+wc,d&&$K(d,e)&&(d=a.getDomHelper().getFirstElementChild(d),e=this.getCssClass()+Ec,d&&$K(d,e)&&(d=a.getDomHelper().getFirstElementChild(d),e=this.getCssClass()+Jc,d&&$K(d,e)&&(d=a.getDomHelper().getNextElementSibling(d),e=this.getCssClass()+lc,d&&$K(d,e)))))?!0:!1};w.getCssClass=function(){return Cu};
uO("goog-imageless-menu-button",function(){return new wW(null,null,xW.getInstance())});var yW=function(){return we};yW.soyTemplateName="apps.photos.lightbox.toolbar.closeButtonTemplate";var zW=function(){return Si};zW.soyTemplateName="apps.photos.lightbox.toolbar.editMenuButtonTemplate";var AW=function(){return xe};AW.soyTemplateName="apps.photos.lightbox.toolbar.editPhotoMenuButtonTemplate";var BW=function(a){a=a||{};var b=c,b=a.renderAsOptions?b+im:b+ef;return b+ye};BW.soyTemplateName="apps.photos.lightbox.toolbar.actionsMenuButtonTemplate";var CW=function(a,b,d,e){HN.call(this,new $O(a));this.controller_=b;this.setWidthFlex(1);this.setHeightFlex(-1);this.actionFunctionMap_={};this.toolbarControls_=[];a=PJ(a);a.isFeatureEnabled(Ns);a.isFeatureEnabled(LB);this.createOzKennedyButtonCallback_=a.createOzKennedyButtonCallback_;this.includedControls_=d||null;this.menuContainer_=e||null;this.msg_rotate_video_=En};B(CW,HN);w=CW.prototype;
w.disposeInternal=function(){F(this.toolbarControls_,function(a){a.control.dispose();a.control=null;a.controllerStateFn=null});this.toolbarControls_=null;J(this.plusOneButton_);CW.superClass_.disposeInternal.call(this)};w.isControlIncluded_=function(a){return!this.includedControls_||!!yE(this.includedControls_,function(b){return b==a})};
w.createDom_=function(){CW.superClass_.createDom_.call(this);U(this.wrappedComponent_.getElement(),Yg);this.createOzKennedyButtonCallback_?(U(this.wrappedComponent_.getElement(),sg),this.createOzKennedyButtonEnabledDom_()):this.createOzKennedyButtonDisabledDom_()};
w.createOzKennedyButtonEnabledDom_=function(){this.isControlIncluded_(mt)?(this.createEditMenuButton_(),this.createActionsMenuButton_(!1)):this.isControlIncluded_(Eq)&&this.createActionsMenuButton_(!0);if(this.isControlIncluded_(DA)&&this.controller_.getSharePhotoState()!=Mo){var a=this.createOzKennedyButton_(z(this.controller_.sharePhoto,this.controller_),Xn,DA,Yn,null,null,1);aL(a.getElement(),[jh,tg]);S(a.getElement(),xw,0);this.toolbarControls_.push(new DW(a,Yn,z(this.controller_.getSharePhotoState,
this.controller_),gD))}this.plusOneButtonElement_=this.getDomHelper().createElement(k);this.getDomHelper().appendChild(this.wrappedComponent_.getElement(),this.plusOneButtonElement_);U(this.plusOneButtonElement_,Mg);U(this.plusOneButtonElement_,jh);U(this.plusOneButtonElement_,Du);this.isControlIncluded_(Sr)&&this.controller_.getCancelState()!=Mo&&(a=this.createButton_(z(this.controller_.cancel,this.controller_),Dh,Sr,Oh),this.toolbarControls_.push(new DW(a,Oh,z(this.controller_.getCancelState,this.controller_),
gD)));this.isControlIncluded_(Gt)&&this.controller_.getFinishState()!=Mo&&(a=this.createButton_(z(this.controller_.finish,this.controller_),Nj,Gt,Qh),this.toolbarControls_.push(new DW(a,Qh,z(this.controller_.getFinishState,this.controller_),gD)));this.isControlIncluded_(is)&&(a=this.createButton_(z(this.controller_.closeLightbox,this.controller_),xK(yW,void 0,this.getDomHelper().document_),is,Ph),this.toolbarControls_.push(new DW(a,Ph,z(this.controller_.getEnabledState,this.controller_),gD)))};
w.createOzKennedyButtonDisabledDom_=function(){this.plusOneButtonElement_=this.getDomHelper().createElement(k);this.getDomHelper().appendChild(this.wrappedComponent_.getElement(),this.plusOneButtonElement_);U(this.plusOneButtonElement_,Mg);U(this.plusOneButtonElement_,$g);U(this.plusOneButtonElement_,Du);if(this.isControlIncluded_(Sr)&&this.controller_.getCancelState()!=Mo){var a=this.createButton_(z(this.controller_.cancel,this.controller_),Dh,Sr,Oh);this.toolbarControls_.push(new DW(a,Oh,z(this.controller_.getCancelState,
this.controller_),gD))}this.isControlIncluded_(Gt)&&this.controller_.getFinishState()!=Mo&&(a=this.createButton_(z(this.controller_.finish,this.controller_),Nj,Gt,Qh),this.toolbarControls_.push(new DW(a,Qh,z(this.controller_.getFinishState,this.controller_),gD)));this.isControlIncluded_(DA)&&this.controller_.getSharePhotoState()!=Mo&&(a=this.createButton_(z(this.controller_.sharePhoto,this.controller_),Xn,DA,Yn),U(a.getElement(),$g),this.toolbarControls_.push(new DW(a,Yn,z(this.controller_.getSharePhotoState,
this.controller_),gD)));this.isControlIncluded_(mt)?(this.createActionsMenuButton_(!1),this.createEditMenuButton_()):this.isControlIncluded_(Eq)&&this.createActionsMenuButton_(!0);this.isControlIncluded_(is)&&(a=this.createButton_(z(this.controller_.closeLightbox,this.controller_),xK(yW,void 0,this.getDomHelper().document_),is,Ph),this.toolbarControls_.push(new DW(a,Ph,z(this.controller_.getEnabledState,this.controller_),gD)))};
w.createButton_=function(a,b,d,e,f,g){var m=this.getDomHelper();b=f?new wW(b,f,xW.getInstance(),m):new sR(b,dW.getInstance(),m);e&&b.setTooltip(e);this.initButton_(b,a,d,g);return b};w.createOzKennedyButton_=function(a,b,d,e,f,g,m,q){b=this.createOzKennedyButtonCallback_(b,e?e:c,m,q,f);this.initButton_(b,a,d,g);return b};
w.initButton_=function(a,b,d,e){a.setParentEventTarget(this);this.actionFunctionMap_[String(qD(a))]=b;a.setVisible(!1);a.render(this.wrappedComponent_.getElement());a.getElement().setAttribute(zv,this.makeId(d));e&&(U(e,ah),this.getDomHelper().appendChild(a.getElement(),e),a.setPositionElement(e))};
w.createMenu_=function(){var a=this.getDomHelper(),b=new PO(a);b.setVisible(!1);b.render(this.menuContainer_||this.wrappedComponent_.getElement());var d=b.getElement();U(d,Zg);var e=a.createElement(k);U(e,ch);var f=a.createElement(k);U(f,bh);a.appendChild(d,e);a.appendChild(d,f);return b};
w.createActionsMenuButton_=function(a){var b=this.createMenu_();if(this.controller_.getPhotoDetailsState()!=Mo){var d=this.createMenuItem_(Nm,dz,z(this.controller_.showPhotoDetails,this.controller_));b.addChild(d,!0);this.toolbarControls_.push(new DW(d,c,z(this.controller_.getPhotoDetailsState,this.controller_),z(this.updatePhotoDetailsButton_,this,d.getContent(),Nm,Np)))}this.controller_.getPermalinkState()!=Mo&&(d=this.createMenuItem_(dl,Ry,z(this.controller_.viewPermalink,this.controller_)),b.addChild(d,
!0),this.toolbarControls_.push(new DW(d,c,z(this.controller_.getPermalinkState,this.controller_),gD)));a&&this.addEditMenuItems_(b);this.controller_.getDeletePhotoState()!=Mo&&(d=this.createMenuItem_(xi,Hs,z(this.controller_.deletePhoto,this.controller_)),b.addChild(d,!0),this.toolbarControls_.push(new DW(d,c,z(this.controller_.getDeletePhotoState,this.controller_),z(this.updateDeletePhotoButton_,this,d.getContent(),xi,yi))));this.controller_.getDownloadPhotoState()!=Mo&&(d=this.createMenuItem_(Li,
ct,z(this.controller_.downloadPhoto,this.controller_)),b.addChild(d,!0),this.toolbarControls_.push(new DW(d,c,z(this.controller_.getDownloadPhotoState,this.controller_),gD)));d=this.getDomHelper();a=d.document_;d=d.createElement(In);a=(this.createOzKennedyButtonCallback_?z(this.createOzKennedyButton_,this):z(this.createButton_,this))(z(this.controller_.getEnabledState,this.controller_),xK(BW,{renderAsOptions:!1},a),Eq,c,b,d);U(a.getElement(),this.createOzKennedyButtonCallback_?$g:jh);this.toolbarControls_.push(new DW(a,
c,z(this.controller_.getEnabledState,this.controller_),z(this.updateMenuButton_,this,d)));this.getHandler().listen(b.getElement(),ls,function(a){a.stopPropagation()})};
w.addEditMenuItems_=function(a){if(this.controller_.getRotatePhotoState()!=Mo){var b=this.createMenuItem_(Cn,Mz,z(this.controller_.rotatePhoto,this.controller_,270));a.addChild(b,!0);this.toolbarControls_.push(new DW(b,c,z(this.controller_.getRotatePhotoState,this.controller_),gD));b=this.createMenuItem_(Dn,Mz,z(this.controller_.rotatePhoto,this.controller_,90));a.addChild(b,!0);this.toolbarControls_.push(new DW(b,c,z(this.controller_.getRotatePhotoState,this.controller_),gD));b=this.createMenuItem_(this.msg_rotate_video_,
Mz,z(this.controller_.rotateVideo,this.controller_));a.addChild(b,!0);this.toolbarControls_.push(new DW(b,c,z(this.controller_.getRotateVideoState,this.controller_),gD))}};
w.createEditMenuButton_=function(){var a=this.createMenu_(),b=this.getDomHelper();if(this.controller_.getRotatePhotoState()!=Mo){var d=this.createMenuItem_(cl,Mz,z(this.controller_.rotatePhoto,this.controller_,270),fh);a.addChild(d,!0);this.toolbarControls_.push(new DW(d,c,z(this.controller_.getRotatePhotoState,this.controller_),gD));d=this.createMenuItem_(Bn,Mz,z(this.controller_.rotatePhoto,this.controller_,90),gh);a.addChild(d,!0);this.toolbarControls_.push(new DW(d,c,z(this.controller_.getRotatePhotoState,
this.controller_),gD));d=this.createMenuItem_(this.msg_rotate_video_,Mz,z(this.controller_.rotateVideo,this.controller_),gh);a.addChild(d,!0);this.toolbarControls_.push(new DW(d,c,z(this.controller_.getRotateVideoState,this.controller_),gD))}var d=b.document_,b=b.createElement(In),e=this.createOzKennedyButtonCallback_?z(this.createOzKennedyButton_,this):z(this.createButton_,this),f=this.createOzKennedyButtonCallback_?AW:zW,d=e(z(this.controller_.getEnabledState,this.controller_),xK(f,void 0,d),mt,
c,a,b);U(d.getElement(),this.createOzKennedyButtonCallback_?$g:jh);this.toolbarControls_.push(new DW(d,c,z(this.controller_.getEnabledState,this.controller_),z(this.updateMenuButton_,this,b)));this.getHandler().listen(a.getElement(),ls,function(a){a.stopPropagation()})};
w.createMenuItem_=function(a,b,d,e,f){var g=this.getDomHelper(),m=g.createElement(k);U(m,dh);m.setAttribute(zv,this.makeId(b));e&&(b=g.createElement(k),U(b,eh),U(b,e),g.appendChild(m,b));g.appendChild(m,g.createTextNode(a));f?(a=g.createElement(In),U(a,ih),g.setTextContent(a,f)):(a=g.createElement(k),U(a,hh));g.appendChild(m,a);f=new LO(m,void 0,g);this.actionFunctionMap_[String(qD(f))]=d;return f};
w.enterDocument=function(){CW.superClass_.enterDocument.call(this);this.getHandler().listen(this,Rq,this.onAction_).listen(this.controller_,Em,this.update_).listen(this.controller_,ax,this.update_);this.getHandler().listen(this.wrappedComponent_.getElement(),ls,function(a){a.stopPropagation()})};w.onAction_=function(a){var b=a.target;b&&(b=this.actionFunctionMap_[String(qD(b))])&&b();a.stopPropagation()};
w.update_=function(){J(this.plusOneButton_);this.controller_.getPlusOneButtonState&&this.controller_.getPlusOneButtonState()==Jn?(this.plusOneButton_=this.controller_.createPlusOneButton(),this.plusOneButton_.render(this.plusOneButtonElement_)):this.plusOneButtonSeparator_&&T(this.plusOneButtonSeparator_,!1);this.tagButtonSeparator_&&this.controller_.getSharePhotoState&&T(this.tagButtonSeparator_,!1);F(this.toolbarControls_,function(a){var b=a.control,d=a.controllerStateFn(),e=d==Jn;b.setEnabled(e);
b.setVisible(d!=mn);b.setTooltip&&b.setTooltip(e?a.tooltip:c);a.customUpdateFn(a)})};w.updateMenuButton_=function(a,b){var d=b.control,e=d.isEnabled()&&0<d.getItemCount();if(e)for(var e=!1,f=d.getMenu().getItems(),g=0,m=f.length;g<m&&!(e=f[g],e=e.isVisible()&&e.isEnabled());g++);f=e?-1*zJ(d.getMenu().getElement()).height:0;S(a,yw,f+Iz);d.setEnabled(e);d.setVisible(d.isVisible()&&e)};w.updatePhotoDetailsButton_=function(a,b,d){this.getDomHelper().setTextContent(a,this.controller_.isVideo()?d:b)};
w.updateDeletePhotoButton_=function(a,b,d){this.getDomHelper().setTextContent(a,this.controller_.isVideo()?d:b)};var DW=function(a,b,d,e){this.control=a;this.tooltip=b;this.controllerStateFn=d;this.customUpdateFn=e},EW=function(){M.call(this);this.handler_=new NH(this)};B(EW,M);EW.prototype.getHandler=function(){return this.handler_};EW.prototype.disposeInternal=function(){J(this.handler_);EW.superClass_.disposeInternal.call(this)};EW.prototype.getEnabledState=function(){return Jn};var FW=function(){return Mo};
w=EW.prototype;w.getPhotoDetailsState=FW;w.getPermalinkState=FW;w.getDeletePhotoState=FW;w.getDownloadPhotoState=FW;w.getRotatePhotoState=FW;w.getRotateVideoState=FW;w.getCancelState=FW;w.getFinishState=FW;var GW=new L(K("tacotown.photos.image.FifeImageProvider"));new L(K("tacotown.ui.RealtimeUiService"));new L(K("tacotown.onepick.OnePickService"));new L(K("tacotown.onepick.IframeOnePickService"));new L(K("tacotown.onepick.OnePickConfigService"));new L(K("tacotown.config.TacotownConfigService"));var HW=function(){var a=NG();this.pixelRatio_=x(a.devicePixelRatio)?a.devicePixelRatio:a.matchMedia?iH(.75)||iH(1.5)||iH(2)||iH(3)||1:1};w=HW.prototype;w.getImageUrl=function(a,b,d,e,f,g){b=this.getOptionsStr_(b,d,e,f,g);if(!b)return a;a=BM(a);return this.isFifeContentUrl_(a)?this.createContentFifeUrl_(a,b):this.createClassicFifeUrl_(a,b)};w.isFifeContentUrl_=function(a){return!a.getPath().match(/\/[^/]+\/[^/]+\/[^/]+/)};
w.createContentFifeUrl_=function(a,b){var d=a.getPath();d.lastIndexOf(Te)>d.lastIndexOf(Wc)&&(d=d.substring(0,d.lastIndexOf(Te)));return a.setPath(d+Te+b).toString()};w.createClassicFifeUrl_=function(a,b){var d=a.getPath().split(Wc);if(2>d.length)return a.toString();this.fifeUrlHasOptions(a.toString())?d[d.length-2]=b:JE(d,-1,0,b);return a.setPath(d.join(Wc)).toString()};w.fifeUrlHasOptions=function(a){return(new GP(a)).hasOptions()};
w.getOptionsStr_=function(a,b,d,e,f){d=d||{};if(d.d)return Hs;if(d.g)return mu;var g=a?a.getWidth():d.w;a=a?a.getHeight():d.h;E((!a||wG(a))&&(!g||wG(g)),Cj);if(!(!(a&&wG(a)||g&&wG(g))||2560<g||2560<a||b!=lz))return f&&(g=Math.ceil(g*this.pixelRatio_),a=Math.ceil(a*this.pixelRatio_)),b=[],g!=a||d.cc?(g&&b.push(IC+g),a&&b.push(Xu+a)):b.push(DA+g),d.sc?b.push(Ry):d.cc&&b.push($w),d.rw&&b.push(AA),d.l&&b.push(Yv+d.l),d.r&&b.push(Mz+d.r),!e&&!d.o||d.no||d.rh||b.push(sy),d.rh&&b.push(nA),d.no&&b.push(dy),
d.na&&b.push(Sv),d.U&&b.push(sp),d.Ut&&b.push(Dp),d.bt&&b.push(qr),b.join(bc)};var IW=function(a){EW.call(this);this.appContext_=a;var b=PJ(a);this.diagnostics_=a.get(mu);this.notificationService_=a.get(KH);this.viewService_=a.get(Hs);this.photoDetailsFeatureEnabled_=b.isFeatureEnabled(dz);this.permalinkFeatureEnabled_=b.isFeatureEnabled(Ry);this.deletePhotoFeatureEnabled_=b.isFeatureEnabled(it);this.downloadPhotoFeatureEnabled_=b.isFeatureEnabled(et);this.sharePhotoCallback_=b.sharePhotoCallback_;this.copyOnShareEnabled_=b.isFeatureEnabled(Cs);this.rotatePhotoEnabled_=b.isFeatureEnabled(xA);
this.rotateVideoEnabled_=b.isFeatureEnabled(zA);this.plusOneEnabled_=b.isFeatureEnabled(rz);this.createPlusOneButton_=b.createPlusOneButtonCallback_||null;b=a.getOrNull(GW);b||(b=new HW,a.registerService(GW,b));this.fifeImageProvider_=b};B(IW,EW);w=IW.prototype;w.setScaledImage=function(a){this.scaledImage_=a};
w.setPhoto=function(a){this.photo_=a;this.dispatchEvent(Em);a=this.getHandler();a.removeAll();a.listen(this.photo_.getEventTarget(),[tr,ty],z(this.dispatchEvent,this,Em));a.listen(this.photo_.getEventTarget(),ax,z(this.dispatchEvent,this,ax))};w.viewerIsOwner=function(){return!!this.photo_&&this.photo_.viewerIsOwner()};w.getPhotoDetailsState=function(){return this.photoDetailsFeatureEnabled_?this.photo_&&this.photo_.isCompletelyLoaded()?Jn:mn:Mo};
w.showPhotoDetails=function(){if(this.photo_)switch(this.viewService_.view_){case eq:this.viewService_.setView(ab);break;case ab:this.diagnostics_.logAction(kN),this.viewService_.setView(eq)}};w.getPermalinkState=function(){return this.permalinkFeatureEnabled_?this.photo_&&!this.photo_.isSoftDeleted()?Jn:mn:Mo};w.viewPermalink=function(){this.photo_&&this.photo_.getPhoto().getUrl()&&(this.diagnostics_.logAction(vN),MJ(this.photo_.getPhoto().getUrl(),{target:Cq}))};
w.getDeletePhotoState=function(){return this.deletePhotoFeatureEnabled_?this.photo_&&this.photo_.getPhoto().getCanEdit()?Jn:mn:Mo};w.deletePhoto=function(){this.photo_.deletePhoto();this.dispatchEvent(Em)};w.getDownloadPhotoState=function(){return this.downloadPhotoFeatureEnabled_?this.photo_&&this.photo_.isCompletelyLoaded()&&!this.isVideo()&&(this.viewerIsOwner()||this.photo_.downloadEnabledForPhoto)?Jn:mn:Mo};
w.downloadPhoto=function(){var a={d:!0},b=this.photo_.getOriginalUrl();b&&(a=this.fifeImageProvider_.getImageUrl(b,null,lz,a),MJ(a))};w.getPlusOneButtonState=function(){return this.plusOneEnabled_&&this.createPlusOneButton_?this.photo_&&this.photo_.isCompletelyLoaded()&&this.photo_.getPhoto().getCanPlusOne()&&!this.photo_.isSoftDeleted()?Jn:mn:Mo};
w.createPlusOneButton=function(){return this.createPlusOneButton_?this.plusOneButton_=this.createPlusOneButton_(this.appContext_,this.photo_.getPhoto().getPlusOne(),z(function(a){this.photo_.plusOne(a,gD);this.dispatchEvent(tw)},this)):null};w.closeLightbox=function(){this.dispatchEvent(fm)};w.isVideo=function(){return!(!this.photo_||!this.photo_.getPhoto().getVideoInfo())};
w.getSharePhotoState=function(){return this.sharePhotoCallback_?this.photo_&&this.photo_.canShare()&&!this.isVideo()&&!this.photo_.isSoftDeleted()?Jn:mn:Mo};
w.sharePhoto=function(){if(this.photo_&&this.sharePhotoCallback_){var a=z(function(){this.notificationService_.hideNotification();this.dispatchEvent(fm)},this);this.sharePhotoCallback_(this.photo_.getGloballyUniqueId(),this.photo_.getUserName(),this.photo_.getContainer().getId(),this.photo_.getOriginalUrl(),this.photo_.getOriginalSize().width,this.photo_.getOriginalSize().height,this.photo_.getUrl(),this.photo_.getContainer().getContainer().getTitle(),this.photo_.getContainer().getContainer().getTotalPhotos(),
!!this.photo_.getPhoto().getIsPublic(),this.copyOnShareEnabled_,this.notificationService_,a,this.photo_.update_||void 0)}};w.getRotatePhotoState=function(){return this.rotatePhotoEnabled_?this.photo_&&this.photo_.getPhoto().getCanEdit()&&!this.isVideo()&&!this.photo_.isSoftDeleted()?Jn:mn:Mo};
w.getRotateVideoState=function(){if(!this.rotateVideoEnabled_)return Mo;if(!this.photo_||!this.photo_.getPhoto().getCanEdit()||!this.isVideo()||this.photo_.isSoftDeleted())return mn;var a=this.photo_.getPhoto().getVideoInfo(),b=!1;a&&(b=!!a.getId(),a=a.getStatus(),b=b&&(a==TM.READY||a==TM.FINAL));return b?Jn:nn};w.getCancelState=function(){return Mo};w.getFinishState=function(){return Mo};w.rotatePhoto=function(a){this.photo_&&(this.photo_.rotatePhoto(a),this.dispatchEvent(Em))};
w.rotateVideo=function(){if(this.photo_)switch(this.viewService_.view_){case Gq:this.viewService_.setView(ab);break;default:this.viewService_.setView(Gq)}};var JW=function(){return ue};JW.soyTemplateName="apps.photos.lightbox.videoRotate.main";var KW=function(a){return Je+qK(a.url)+Fa+qK(a.url)+Ga+qK(a.url)+Ea};KW.soyTemplateName="apps.photos.lightbox.videoRotate.images";var MW=function(a){TK.call(this,a);this.viewService_=a.get(Hs);this.toolbarController_=new LW(a,this);this.toolbar_=new CW(this.getAppContext(),this.toolbarController_,[Sr,Gt])};B(MW,IN);w=MW.prototype;
w.createDom_=function(){MW.superClass_.createDom_.call(this);T(this.getElement(),!1);this.centeredContainer_=new KN(this.getContext());this.centeredContainer_.setWidthFlex(-1);this.addChild(this.centeredContainer_);kK(this.centeredContainer_.getElement(),JW);this.centeredContainer_.addChild(this.toolbar_);pP(this.centeredContainer_.getElement(),Du);pP(this.getElement(),kh)};w.enterDocument=function(){MW.superClass_.enterDocument.call(this);this.getHandler().listen(this.getElement(),ls,this.handleClick_)};
w.setPhoto=function(a){this.photo_=a;this.toolbarController_.setPhoto(a);var b=this.getDomHelper(),d=b.getElementsByClass(lh,this.getElement());0==d.length?(d=DH(ph,this.getElement()),kK(d,KW,{url:a.getOriginalUrl()}),d=b.getElementsByClass(lh,this.getElement()),b=a.getOriginalSize(),F(d,z(this.rotateImageElement_,this,b))):F(d,function(b){b.src=a.getOriginalUrl()})};
w.rotateImageElement_=function(a,b){var d=a.scaleToFit(new zG(200,200)).floor();AE(oP(b),oh)?this.setRotationTransform_(b,90,d):AE(oP(b),nh)?this.setRotationTransform_(b,270,d):(b.style.width=oJ(d.width,!0),b.style.height=oJ(d.height,!0))};w.setRotationTransform_=function(a,b,d){a.style.width=oJ(d.height,!0);a.style.height=oJ(d.width,!0);d=d.aspectRatio();var e=[sA,b,Qs,d,h,1/d,Pb].join(c);S(a,MB,e);S(a,yc,e);S(a,Ac,e);S(a,Nc,e);S(a,Vt,[Ez,90==b?-1/d:1/d,Yb,90==b?d:-d,$b].join(c))};
w.handleClick_=function(a){var b=a.target;AE(oP(b),oh)?(this.selectRotation_(b,90),a.stopPropagation()):AE(oP(b),mh)?(this.selectRotation_(b,180),a.stopPropagation()):AE(oP(b),nh)&&(this.selectRotation_(b,270),a.stopPropagation())};w.selectRotation_=function(a,b){this.selected_&&rP(this.selected_,qh);this.angle_=b;this.selected_=a;pP(this.selected_,qh);this.toolbarController_.update()};w.clearSelection_=function(){this.selected_&&(rP(this.selected_,qh),this.selected_=null);this.angle_=null;this.toolbarController_.update()};
w.finishRotate=function(){this.photo_&&null!=this.angle_&&this.photo_.rotatePhoto(this.angle_);this.closeView_()};w.cancel=function(){this.closeView_()};w.closeView_=function(){this.clearSelection_();this.viewService_.setView(ab)};var LW=function(a,b){EW.call(this);this.appContext_=a;this.videoRotate_=b;this.rotateVideoEnabled_=PJ(a).isFeatureEnabled(zA)};B(LW,EW);w=LW.prototype;w.setPhoto=function(a){this.photo_=a;this.dispatchEvent(Em)};w.update=function(){this.dispatchEvent(Em)};w.cancel=function(){this.videoRotate_.cancel()};
w.finish=function(){this.videoRotate_.finishRotate()};w.isVideo=function(){return!(!this.photo_||!this.photo_.getPhoto().getVideoInfo())};w.getCancelState=function(){return Jn};w.getFinishState=function(){if(!this.rotateVideoEnabled_)return Mo;if(!this.photo_||!this.photo_.getPhoto().getCanEdit()||!this.isVideo())return mn;var a=this.photo_.getPhoto().getVideoInfo(),b=!1;a&&this.videoRotate_.selected_&&(b=!!a.getId(),a=a.getStatus(),b=b&&(a==TM.READY||a==TM.FINAL));return b?Jn:nn};var NW=function(a){a=a||{};return c+(me+(ie+qK(a.url)+Sa+(qK(a.link)+Od))+Ud)};NW.soyTemplateName="apps.photos.lightbox.photobrowse.attributionTemplate";var OW=function(a){HN.call(this,new cP(a));this.setHeightFlex(-1);this.attributionTemplate_=a.get(Eq).attributionTemplate_||NW};B(OW,HN);OW.prototype.setSourceUrl=function(a){a?this.wrappedComponent_.setContent(this.attributionTemplate_({url:a,link:RD(a,60)})):this.wrappedComponent_.setContent(Fe)};var PW=function(a){a=a||{};return c+(pe+(qK(a.index)+(Td+(qK(a.total)+Sd)))+Ud)};var QW=function(a){HN.call(this,new cP(a));this.setHeightFlex(-1)};B(QW,HN);QW.prototype.setIndex=function(a,b){this.wrappedComponent_.setContent(PW({index:a+1,total:b}))};QW.prototype.clear=function(){this.wrappedComponent_.setContent(c)};var RW=function(a,b){HN.call(this,new KN(a));this.preloadData_=b;this.configService_=PJ(a);this.diagnostics_=a.get(mu);this.demandLoadData_=this.configService_.isFeatureEnabled(dt);this.enableNavigationArrows_=this.configService_.isFeatureEnabled(ax);this.toolbarUIEnabled_=this.configService_.isFeatureEnabled(QB);this.setHeightFlex(1);var d=new NN(a);a.registerService(KH,d);this.notificationService_=d;d=new YO(a,1);this.notificationService_.setControl(d);this.adaptedNotifyWidget_=new QN(a,d);this.adaptedNotifyWidget_.setStaticHeight(0);
this.imageContainer_=new KN(a);this.imageContainer_.setHeightFlex(1);U(this.imageContainer_.getElement(),rg);this.toolbarUIEnabled_&&(this.toolbarController_=new IW(a),this.photoToolbar_=new CW(a,this.toolbarController_,[Eq,my,DA],this.imageContainer_.getElement()));this.scaledImage_=new qW(a,this.photoToolbar_);this.imageContainer_.addChild(this.scaledImage_);this.toolbarController_&&this.toolbarController_.setScaledImage(this.scaledImage_);this.configService_.isFeatureEnabled(IA)&&(this.softDeleteDialog_=
new uW(a),this.softDeleteDialog_.setDisplay(!1),this.imageContainer_.addChild(this.softDeleteDialog_));this.enableNavigationWrapping_=this.configService_.isFeatureEnabled(ry);d=new $O(a);U(d.getElement(),$f);d.setWidthFlex(1);d.setHeightFlex(-1);this.attributionPane_=new OW(a);this.indexPane_=new QW(a);d.addChildren([this.attributionPane_,this.indexPane_,new cP(a)]);this.filmStrip_=new VQ(a);this.browseContainer_=new KN(a);this.browseContainer_.setHeightFlex(1);this.browseContainer_.setWidthFlex(1);
this.browseContainer_.addChildren([this.imageContainer_,d]);this.mainContainer_=new $O(a);this.mainContainer_.setHeightFlex(1);this.mainContainer_.addChildren([this.browseContainer_]);this.photoDetails_=null;this.configService_.isFeatureEnabled(dz)&&(this.photoDetails_=new NR(a),this.photoDetails_.setStaticWidth(0),this.imageContainer_.addChild(this.photoDetails_));this.videoRotate_=null;this.configService_.isFeatureEnabled(zA)&&(this.videoRotate_=new MW(a),this.imageContainer_.addChild(this.videoRotate_));
this.wrappedComponent_.addChildren([this.adaptedNotifyWidget_,this.mainContainer_]);this.keyHandler_=new TL(this.getElement());this.photoEventHandler_=new NH(this);this.prefetchPhotoDataDelay_=new fP(this.prefetchPhotoData_,50,this);this.viewService_=a.get(Hs);this.viewService_.setView(ab);this.eventService_=a.get(qr);this.windowService_=a.get(MH)};B(RW,HN);w=RW.prototype;w.lastNavigationDirection_=1;w.navigationEventKey_=-1;w.lastPreloadedIndex_=-1;w.enablePrefetching_=!0;
w.disposeInternal=function(){J(this.navController_);J(this.keyHandler_);J(this.photoEventHandler_);J(this.prefetchPhotoDataDelay_);J(this.lightboxModel_);J(this.toolbarController_);J(this.leftArrow_);J(this.rightArrow_);RW.superClass_.disposeInternal.call(this)};
w.createDom_=function(){RW.superClass_.createDom_.call(this);U(this.getElement(),wg);var a=this.getDomHelper();this.closeElement_=a.createElement(k);aL(this.closeElement_,[gg,hg]);a.appendChild(this.browseContainer_.getElement(),this.closeElement_);this.enableNavigationArrows_&&(this.leftArrow_=new kL(this.getAppContext()),aL(this.leftArrow_.getElement(),[cg,eg]),this.browseContainer_.addChild(this.leftArrow_),T(this.leftArrow_.getElement(),!1),this.rightArrow_=new kL(this.getAppContext()),aL(this.rightArrow_.getElement(),
[cg,fg]),this.browseContainer_.addChild(this.rightArrow_),T(this.rightArrow_.getElement(),!1))};
w.enterDocument=function(){RW.superClass_.enterDocument.call(this);U(this.browseContainer_.getElement(),vg);U(this.adaptedNotifyWidget_.getElement(),ug);dH(this.getElement(),!0);this.windowService_.getHtmlWindow().focus();this.getElement().focus();var a=this.configService_.isRightToLeft(this.getElement()),b=[],d=[this.scaledImage_];this.enableNavigationArrows_&&(b.push(a?this.rightArrow_:this.leftArrow_),d.push(a?this.leftArrow_:this.rightArrow_));this.navController_=new iR(this.getContext(),this.getElement(),
void 0,void 0,b,d);this.navController_.setWrapping(this.enableNavigationWrapping_);this.enableNavigationListeners_(!0);this.navController_.registerAction(this.scaledImage_,uN);this.enableNavigationArrows_&&(this.navController_.registerAction(this.leftArrow_,a?iN:jN),this.navController_.registerAction(this.rightArrow_,a?jN:iN));a=this.getHandler();a.listen(this.scaledImage_,pl,this.onScaledImageDisplay_).listen(this.keyHandler_,Uv,this.onKeyEvent_).listen(this.viewService_,Vp,this.onViewChanged_).listen(this.imageContainer_.getElement(),
ls,z(this.dispatchEvent,this,vp)).listen(this.closeElement_,ls,z(this.dispatchEvent,this,vp));this.toolbarController_&&(a.listen(this.toolbarController_,fm,z(this.dispatchEvent,this,vp)),a.listen(this.toolbarController_,tw,this.handlePlusOneClick_));this.enableNavigationArrows_&&F([this.leftArrow_,this.rightArrow_],function(a){this.getHandler().listen(a.getElement(),[Pw,Ow],function(b){dL(a.getElement(),dg,b.type==Pw)}).listen(a.getElement(),Nw,function(b){b.isButton(0)&&a.dispatchEvent(Rq)})},this);
nI(function(){this.setData(this.preloadData_.mediaModels_,this.preloadData_.index_,this.preloadData_.demandLoadAlbumPhotos_,this.preloadData_.update_||void 0)},0,this);A()};
w.enableNavigationListeners_=function(a){var b=this.getHandler();a=a?b.listen:b.unlisten;a.call(b,this.navController_,qB,this.handleNavigateEvent_);a.call(b,this.navController_,YB,this.handlePendingEvent_);a.call(b,this.navController_,vC,this.handleIdleEvent_);a.call(b,this.filmStrip_,pm,this.handleFilmStripNavigateStart_);a.call(b,this.filmStrip_,ln,this.handleFilmStripNavigateEnd_);a.call(b,this.filmStrip_,dm,this.handleFilmStripNavigate_)};
w.onLightboxModelPhotosLoaded_=function(){var a=this.navController_.getPosition(),b=this.lightboxModel_.getPhotoIndex(this.photos_[a.currentPhotoIndex]),d=this.lightboxModel_.totalNumPhotos_;1<d&&(this.indexPane_.setIndex(b,d),this.filmStrip_.isInDocument()?this.filmStrip_.update():(this.browseContainer_.addChild(this.filmStrip_),this.filmStrip_.setData(this.lightboxModel_.photos_,b)),this.filmStrip_.setVisible(!0));this.navController_.setPosition(b,this.lightboxModel_.photos_.length);b!=a.currentPhotoIndex&&
this.filmStrip_.navigateTo(b,!0);this.updateArrowVisibility_();this.photos_=GE(this.lightboxModel_.photos_)};
w.setData=function(a,b,d,e){this.lightboxModel_=(new cR(this.getContext(),a,e)).toLightboxModel();this.photoEventHandler_.removeAll();a=this.lightboxModel_.dataEventTarget_;this.photoEventHandler_.listen(a,Is,this.onPhotoDeleted_);this.photoEventHandler_.listen(a,$v,this.onPhotoRotated_);this.photoEventHandler_.listen(a,Qv,this.onPhotoEdited_);this.demandLoadData_&&(this.photoEventHandler_.listen(a,Tv,this.onPhotoLoaded_),this.getHandler().listen(this.lightboxModel_,GA,this.onLightboxModelPhotosLoaded_),
d&&this.lightboxModel_.asyncLoadPhotos());d=this.lightboxModel_.photos_.length;this.navController_.enable(b,d);this.updateArrowVisibility_();this.browseContainer_.addChild(this.filmStrip_);this.filmStrip_.setData(this.lightboxModel_.photos_,b);this.filmStrip_.setVisible(1<d);this.photos_=GE(this.lightboxModel_.photos_);this.updateMetadata_(b);this.showPhoto_(this.lightboxModel_.getPhoto(b),Mr)};
w.updateArrowVisibility_=function(){if(this.enableNavigationArrows_){var a=this.navController_.getPosition().currentPhotoIndex,b=this.navController_.getPosition().totalNumPhotos;this.enableNavigationWrapping_?(T(this.leftArrow_.getElement(),1<b),T(this.rightArrow_.getElement(),1<b)):this.configService_.isRightToLeft(this.getElement())?(T(this.leftArrow_.getElement(),a!=b-1),T(this.rightArrow_.getElement(),0!=a)):(T(this.leftArrow_.getElement(),0!=a),T(this.rightArrow_.getElement(),a!=b-1))}};
w.updateLayout=function(a,b,d){RW.superClass_.updateLayout.call(this,a,b,d);this.enableNavigationArrows_&&(a=this.toolbarUIEnabled_?zJ(this.photoToolbar_.getElement()).height:0,b=this.filmStrip_&&this.filmStrip_.isInDocument()?zJ(this.filmStrip_.getElement()).height:0,a=zJ(this.getElement()).height-b-a,b=zJ(this.leftArrow_.getElement()).height,a=(a-b)/2,S(this.leftArrow_.getElement(),KB,a+Iz),S(this.rightArrow_.getElement(),KB,a+Iz))};
w.onScaledImageDisplay_=function(){bM&&A();this.viewReady_?this.dispatchEvent(Pp):(this.viewReady_=!0,this.dispatchEvent(Fp));if(-1!=this.navigationEventKey_){var a=this.navigationEventKey_;this.navigationEventKey_=-1;this.navController_.signalNavigationDone(a)}else this.prefetchImages_()};
w.handleNavigateEvent_=function(a){this.navigationEventKey_=a.key;0==a.numberPending&&(this.pending_=!1);var b=this.pending_?Tr:Mr;a=a.index;this.updateMetadata_(a);this.filmStrip_.navigateTo(a,!0);this.updateArrowVisibility_();this.showPhoto_(this.lightboxModel_.getPhoto(a),b)};w.handlePendingEvent_=function(){-1!=this.navigationEventKey_&&(this.pending_=!0,this.scaledImage_.stopAfterFirstLoaded());this.lastPreloadedIndex_=-1};
w.handleIdleEvent_=function(a){this.pending_=!1;a.direction!=this.lastNavigationDirection_&&(this.lastPreloadedIndex_=a.index,this.lastNavigationDirection_=a.direction);if(this.enablePrefetching_)if(-1==this.lastPreloadedIndex_)this.prefetchImages_();else if(this.lastPreloadedIndex_+=this.lastNavigationDirection_,0>this.lastPreloadedIndex_)this.lastPreloadedIndex_=0;else{this.lastNavigationDirection_=a.direction;a=this.scaledImage_.numPreloadBuffers_;for(var b=0;b<a;b++){var d=this.lightboxModel_.getPhoto(this.lastPreloadedIndex_+
b);d&&this.scaledImage_.preload([d])}}};
w.onPhotoLoaded_=function(a){var b=this.navController_.getPosition(),b=this.lightboxModel_.getPhoto(b.currentPhotoIndex);if(a.target.getId()==b.getId()){switch(this.viewService_.view_){case ab:this.scaledImage_.updateCaption();break;case eq:this.photoDetails_&&this.photoDetails_.update()}this.toolbarController_&&this.toolbarController_.setPhoto(b);this.softDeleteDialog_&&this.softDeleteDialog_.setPhoto(b);(a=b.createRenderer())&&this.scaledImage_.loadExternalRenderer(a);this.asyncPrefetchPhotoData_()}};
w.onPhotoRotated_=function(){var a=this.navController_.getPosition().currentPhotoIndex;this.updateMetadata_(a);this.showPhoto_(this.lightboxModel_.getPhoto(a),Mr)};w.onPhotoEdited_=function(){var a=this.navController_.getPosition().currentPhotoIndex;this.updateMetadata_(a);this.showPhoto_(this.lightboxModel_.getPhoto(a),Mr)};
w.onPhotoDeleted_=function(a){a=this.lightboxModel_.removePhoto(a.target);if(!(0>a)){var b=this.lightboxModel_.totalNumPhotos_;if(0==b)this.dispatchEvent(vp);else{var d=this.navController_.getPosition().currentPhotoIndex;d>a&&d--;d==b&&d--;this.navController_.setPosition(d,b);this.updateArrowVisibility_();this.updateMetadata_(d);this.filmStrip_.setData(this.lightboxModel_.photos_,d);this.filmStrip_.navigateTo(d);this.filmStrip_.setVisible(1<b);this.showPhoto_(this.lightboxModel_.getPhoto(d),Mr)}}};
w.asyncPrefetchPhotoData_=function(){this.enablePrefetching_&&this.demandLoadData_&&!this.pending_&&this.prefetchPhotoDataDelay_.start()};w.prefetchPhotoData_=function(){if(this.enablePrefetching_&&this.demandLoadData_&&!this.pending_){var a=this.navController_.getPosition().currentPhotoIndex+this.lastNavigationDirection_;0<=a&&(a=this.lightboxModel_.getPhoto(a))&&a.asyncLoadPhoto(!1)}};
w.prefetchImages_=function(){if(this.enablePrefetching_){var a=[],b=0,d=this.navController_.getPosition();if(0<d.currentPhotoIndex){var e=this.lightboxModel_.getPhoto(d.currentPhotoIndex-1);e&&(a[b++]=e)}for(d=d.currentPhotoIndex+1;4>b;b++)(e=this.lightboxModel_.getPhoto(d++))&&(a[b]=e);this.lastPreloadedIndex_=d-1;this.lastNavigationDirection_=1;this.scaledImage_.preload(a)}};
w.handleFilmStripNavigate_=function(a){A();this.handleFilmStripNavigateEnd_(a);this.showPhoto_(this.lightboxModel_.getPhoto(a.index_),Mr)};w.handleFilmStripNavigateStart_=function(a){A();this.pending_=!1;this.navigationEventKey_=-1;this.navController_.setPosition(a.index_,this.lightboxModel_.photos_.length);this.showPhoto_(this.lightboxModel_.getPhoto(a.index_),Mr);this.prefetchPhotoDataDelay_.stop()};
w.handleFilmStripNavigateEnd_=function(a){this.pending_=!1;this.navigationEventKey_=-1;a=a.index_;this.navController_.setPosition(a,this.lightboxModel_.photos_.length);this.updateArrowVisibility_();this.updateMetadata_(a)};
w.showPhoto_=function(a,b){this.prefetchPhotoDataDelay_.stop();this.notificationService_.hideNotification();switch(this.viewService_.view_){case ab:this.scaledImage_.setData(a,b);break;case eq:this.photoDetails_&&this.photoDetails_.setPhoto(a);break;case Gq:this.videoRotate_&&this.videoRotate_.cancel()}this.toolbarController_&&this.toolbarController_.setPhoto(a);this.softDeleteDialog_&&this.softDeleteDialog_.setPhoto(a);this.demandLoadData_&&!this.pending_&&a.asyncLoadPhoto(!1);if(this.viewService_.view_==
ab)this.onViewPhoto_()};w.updateMetadata_=function(a){var b=this.lightboxModel_.totalNumPhotos_;1<b?this.indexPane_.setIndex(a,b):this.indexPane_.clear();this.attributionPane_.setSourceUrl(this.lightboxModel_.getPhoto(a).getAttributionUrl())};w.onKeyEvent_=function(a){27==a.keyCode&&(a.stopPropagation(),this.dispatchEvent(vp))};
w.onViewChanged_=function(a){var b=this.navController_.getPosition(),b=this.lightboxModel_.getPhoto(b.currentPhotoIndex),d=this.viewService_.getPreviousView();a=a.target.view_;var e=d==Gq||a==Gq;d!=eq&&a!=eq||!this.photoDetails_||(this.animation_||(this.photoDetails_.setVisible(!0),this.animation_=new eP(this.scaledImage_.getElement(),this.photoDetails_.getElement(),.25)),a==eq?(this.getElement().focus(),this.photoDetails_.setPhoto(b),this.animation_.flip(!0)):(b!=this.scaledImage_.getData()&&this.showPhoto_(b,
Mr),this.animation_.unflip()));e&&(a==Gq?(T(this.scaledImage_.getElement(),!1),T(this.videoRotate_.getElement(),!0),this.getElement().focus(),b&&this.videoRotate_.setPhoto(b)):(b!=this.scaledImage_.getData()&&this.showPhoto_(b,Mr),T(this.videoRotate_.getElement(),!1),T(this.scaledImage_.getElement(),!0)))};
w.handlePlusOneClick_=function(){var a=this.navController_.getPosition(),a=this.lightboxModel_.getPhoto(a.currentPhotoIndex),b=a.getPhoto().getPlusOne();b?(a=b.getIsPlusonedByViewer(),b.setIsPlusonedByViewer(a?!1:!0),b.setGlobalCount(b.getGlobalCount()+(a?-1:1))):(b=new GM,b.setIsPlusonedByViewer(!0),b.setGlobalCount(1),a.getPhoto().setPlusOne(b))};w.onViewPhoto_=function(){this.diagnostics_.logAction(nN);this.dispatchViewPhotoEvent_()};
w.dispatchViewPhotoEvent_=function(){var a=this.navController_.getPosition().currentPhotoIndex,b=this.lightboxModel_.getPhoto(a).getPhoto().getOwner(),d=void 0;null!=b&&null!==b.getId()&&(d=b.getId());this.eventService_.dispatchEvent(new dM(DA,a,d,this.lightboxModel_.getPhoto(a).getId()))};var SW=function(a,b,d){HN.call(this,new KN(a));this.lightbox_=b;this.configService_=PJ(a);this.setHeightFlex(1);b=this.wrappedComponent_;b.setMinHeight(430);b.setMinWidth(660);this.view_=new RW(a,d);b.addChild(this.view_);this.navigationService_=a.get(Gt)};B(SW,HN);w=SW.prototype;w.manageBgFrameHeight_=H&&!I(Dd);
w.createDom_=function(){SW.superClass_.createDom_.call(this);var a=this.getDomHelper();this.bgFrameEl_=a.createElement(k);this.bgFrameEl_.className=ag;this.configService_.isFeatureEnabled(zy)||pP(this.bgFrameEl_,bg);a.insertSiblingBefore(this.bgFrameEl_,this.wrappedComponent_.getElement())};
w.enterDocument=function(){SW.superClass_.enterDocument.call(this);this.getHandler().listen(this.getElement(),ls,this.onCloseTargetsClick_).listen(this.view_,vp,this.closeView_).listen(this.navigationService_,Tk,this.closeView_)};w.onCloseTargetsClick_=function(a){a.target==this.bgFrameEl_&&this.closeView_()};w.closeView_=function(){this.lightbox_.close()};w.updateLayout=function(a,b,d){SW.superClass_.updateLayout.call(this,a,b,d);this.manageBgFrameHeight_&&a==r&&S(this.bgFrameEl_,bv,b+Iz)};var TW=function(a,b){var d=a.get(IH).getDomHelper();$L.call(this,d);this.appContext_=a;var e;e=this.appContext_;var f;(f=e.getOrNull(Eq))||(f=new NJ,e.registerService(Eq,f));e=f;this.preloadData_=b;f=this.lightboxAppContext_=new WI(this.appContext_);var g=new fM(this);f.registerService(qr,g);this.eventService_=g;f=this.lightboxAppContext_;g=new cM(f);f.registerService(mu,g);f=this.lightboxAppContext_;null==f.getOrNull(Xu)&&f.registerService(Xu,new FN);g=this.lightboxAppContext_;f=new fN;g.registerService(Rr,
f);(e=e.dataServiceServerUrl_)&&f.setServerUrl(e);e=this.lightboxAppContext_;f=new MQ;e.registerService(Hs,f);this.sizeProvider_=new NL(this.appContext_.get(MH).getHtmlWindow());this.keyHandler_=new TL;e=this.lightboxAppContext_;f=new EN(e);e.registerService(Gt,f);this.navigationService_=f;this.underlyingScrollTop_=d.getDocumentScroll().y};B(TW,$L);w=TW.prototype;
w.disposeInternal=function(){this.eventService_.dispatchEvent(Ry);this.viewContainer_.dispose();this.layout_.dispose();this.sizeProvider_.dispose();this.lightboxAppContext_.dispose();this.keyHandler_.dispose();this.enableFixedFrame_(!1);TW.superClass_.disposeInternal.call(this)};w.exitDocument=function(){TW.superClass_.exitDocument.call(this);var a=this.appContext_.getOrNull(LH);a&&a.focusDefaultFocusTarget();this.keyHandler_.detach()};
w.createDom=function(){var a=this.getDomHelper().createElement(k);dH(a,!0);a.className=Zf;var b=this.lightboxAppContext_,d=new QJ(b,a);b.registerService(FH,d);this.setElementInternal(a)};w.canDecorate=function(){return!1};
w.enterDocument=function(){TW.superClass_.enterDocument.call(this);this.dispatchEvent(sy);this.enableFixedFrame_(!0);this.initLayout_();this.createViewContainer_();var a=this.lightboxAppContext_.getOrNull(JH);a&&(this.lightboxEntryToken_=a.getToken(),this.getHandler().listen(a,Zx,this.onNavigate_));this.keyHandler_.attach(this.getElement());this.getHandler().listen(this.keyHandler_,Uv,this.onKeyEvent_)};
w.initLayout_=function(){var a=this.lightboxAppContext_,b=this.sizeProvider_,d=this.lightboxAppContext_.get(FH).getCanvas(),e;e=void 0;GL||(GL=new UJ(GG(top.document)));e=GL;d=d||document.body;a=new FL(a,b,e);d.appendChild(a.getElement());a.enterDocument();this.layout_=a};w.createViewContainer_=function(){this.viewContainer_=new SW(this.lightboxAppContext_,this,this.preloadData_);this.getHandler().listen(this.viewContainer_,Fp,function(){nI(z(this.dispatchEvent,this,Jz),0)});this.layout_.setChild(this.viewContainer_)};
w.close=function(){this.dispose()};w.onNavigate_=function(a){a.isNavigation&&this.lightboxEntryToken_!=a.token&&this.close()};w.onKeyEvent_=function(a){a.stopPropagation()};w.enableFixedFrame_=function(a){var b=this.getDomHelper(),d=a?b.document_.body:b.document_.documentElement;dL(b.document_.documentElement,qg,a);d.scrollTop=this.underlyingScrollTop_};var UW=function(a,b,d,e){this.mediaModels_=a;this.index_=uG(b||0,0,Math.max(0,a.length-1));this.demandLoadAlbumPhotos_=null!=d?d:!0;this.update_=e||null};var VW=function(a){a=a||{};return c+(le+qK(a.url)+Ta)};VW.soyTemplateName="blog.lightbox.attributionTemplate";var WW=function(){this.appContext_=new WI;this.appContext_.registerService(EH,new yI(this.appContext_));this.appContext_.registerService(IH,new fJ(this.appContext_,document));new aJ(window,this.appContext_);var a=new NJ;a.enableFeature(Us,!0);this.appContext_.registerService(Eq,a);a.setAttributionTemplate(VW)};hD(WW);
WW.prototype.show=function(a,b){for(var d=[],e=0;e<a.length;e++){var f=a[e].imageUrl,g=a[e].thumbnailUrl,m=new bQ(f);m.setPlayer(new dQ(hJ(f)));g&&m.setThumbnails([new cQ(g)]);d.push(m)}0<d.length&&(d=new TW(this.appContext_,new UW(d,b)),this.preventVideoBleed_(d),d.render(document.body))};WW.prototype.preventVideoBleed_=function(a){this.makeElementsHidden_(!0);PF(a,Ry,this.handleClose_,!1,this)};WW.prototype.handleClose_=function(){this.makeElementsHidden_(!1)};var XW=["APPLET",qt,sk,"OBJECT"];
WW.prototype.makeElementsHidden_=function(a){for(var b=0;b<XW.length;b++)for(var d=HG(document,XW[b],void 0,void 0),e=d.length,f=0;f<e;f++)d[f].style.visibility=a?dv:c};widget_module_provide("lightbox",1,function(a,b){WW.getInstance().show(a,b)});widget_module_provide("lightbox"); })()
